function ouibounce(e,t){"use strict";function n(e,t){return void 0===e?t:e}function r(){f.addEventListener("mouseleave",o),f.addEventListener("mouseenter",i)}function o(e){e.clientY>c||(h=setTimeout(a,u))}function i(){h&&(clearTimeout(h),h=null)}function a(){s(),d()}function s(){f.removeEventListener("mouseleave",o),f.removeEventListener("mouseenter",i)}var p=t||{},c=n(p.sensitivity,20),l=n(p.timer,1e3),u=n(p.delay,0),d=p.callback||function(){},h=null,f=document.documentElement;return setTimeout(r,l),{fire:a,disable:s,enable:r}}function is_touch_device(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}function webpushNotEnabled(){var e="safari"in window&&"pushNotification"in window.safari,t="serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,n=e&&"granted"===safari.pushNotification.permission("web.com.reamaze.push").permission,r=t&&"granted"===Notification.permission,o=e&&!n,i=t&&!r&&"denied"!==Notification.permission;return!window.cordova&&(o||i)}function stripdown(e,t){var n,r,o=new marked.Renderer;t?r=!(n={elements:["span"],attributes:{span:["class"]}}):(n={elements:[]},r=!0);var i=new Sanitize(n),a=document.createElement("div");a.innerHTML=marked(e,{sanitize:r,gfm:!0,renderer:o,silent:!0});var s=i.clean_node(a),p=document.createElement("div");return p.appendChild(s),p.innerHTML}function encodeToHtmlEntities(e){var t="[\\u{000A0}-\\u{FFFFF}]";return t=new RegExp(t,"gu"),e.replace(t,function(e){return"&#"+e.codePointAt(0)+";"})}function getContrastYIQ(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),3===e.length&&(e=e.split("").map(function(e){return e+e}).join("")),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3}function checkCreditCard(e){if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,n=!1,r=(e=e.replace(/\D/g,"")).length-1;0<=r;r--){var o=e.charAt(r),i=parseInt(o,10);n&&9<(i*=2)&&(i-=9),t+=i,n=!n}return t%10==0}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function withTimerMixin(o){return function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"componentWillUnmount",value:function n(){TimerMixin.componentWillUnmount.bind(this)}},{key:"render",value:function r(){return React.createElement(o,_extends({setTimeout:TimerMixin.setTimeout.bind(this),clearTimeout:TimerMixin.clearTimeout.bind(this),setInterval:TimerMixin.setInterval.bind(this),clearInterval:TimerMixin.clearInterval.bind(this),setImmediate:TimerMixin.setImmediate.bind(this),clearImmediate:TimerMixin.clearImmediate.bind(this),requestAnimationFrame:TimerMixin.requestAnimationFrame.bind(this),cancelAnimationFrame:TimerMixin.cancelAnimationFrame.bind(this)},this.props))}}]),t}(React.Component)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var JSON;window._original_export=window["export"],window._original_exports=window.exports,window._original_require=window.require,window._original_requirejs=window.requirejs,window._original_module=window.module,window._original_define=window.define,window["export"]=window.exports=window.require=window.requirejs=window.module=window.define=undefined,JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof rep&&(p=rep.call(t,e,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(p)){for(i=p.length,n=0;n<i;n+=1)a[n]=str(n,p)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],p))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&((r=walk(o,n))!==undefined?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(E,e){function s(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,r){if(he.isFunction(n))return he.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return he.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(Ee.test(n))return he.filter(n,e,r);n=he.filter(n,e)}return he.grep(e,function(e){return-1<he.inArray(e,n)!==r})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var n={};return he.each(e.match(Oe)||[],function(e,t){n[t]=!0}),n}function o(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",i),E.removeEventListener("load",i)):(re.detachEvent("onreadystatechange",i),E.detachEvent("onload",i))}function i(){(re.addEventListener||"load"===E.event.type||"complete"===re.readyState)&&(o(),he.ready())}function p(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(Pe,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?he.parseJSON(n):n)}catch(o){}he.data(e,t,n)}else n=undefined}return n}function c(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,n,r){if(Ae(e)){var o,i,a=he.expando,s=e.nodeType,p=s?he.cache:e,c=s?e[a]:e[a]&&a;if(c&&p[c]&&(r||p[c].data)||n!==undefined||"string"!=typeof t)return c||(c=s?e[a]=ne.pop()||he.guid++:a),p[c]||(p[c]=s?{}:{toJSON:he.noop}),"object"!=typeof t&&"function"!=typeof t||(r?p[c]=he.extend(p[c],t):p[c].data=he.extend(p[c].data,t)),i=p[c],r||(i.data||(i.data={}),i=i.data),n!==undefined&&(i[he.camelCase(t)]=n),"string"==typeof t?null==(o=i[t])&&(o=i[he.camelCase(t)]):o=i,o}}function a(e,t,n){if(Ae(e)){var r,o,i=e.nodeType,a=i?he.cache:e,s=i?e[he.expando]:he.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){o=(t=he.isArray(t)?t.concat(he.map(t,he.camelCase)):t in r?[t]:(t=he.camelCase(t))in r?[t]:t.split(" ")).length;for(;o--;)delete r[t[o]];if(n?!c(r):!he.isEmptyObject(r))return}(n||(delete a[s].data,c(a[s])))&&(i?he.cleanData([e],!0):ue.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function u(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},p=s(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=(he.cssNumber[t]||"px"!==c&&+p)&&Ue.exec(he.css(e,t));if(l&&l[3]!==c)for(c=c||l[3],n=n||[],l=+p||1;l/=i=i||".5",he.style(e,t,l+c),i!==(i=s()/p)&&1!==i&&--a;);return n&&(l=+l||+p||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function g(e){var t=Ke.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){var n,r,o=0,i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||he.nodeName(r,t)?i.push(r):he.merge(i,y(r,t));return t===undefined||t&&he.nodeName(e,t)?he.merge([e],i):i}function v(e,t){for(var n,r=0;null!=(n=e[r]);r++)he._data(n,"globalEval",!t||he._data(t[r],"globalEval"))}function b(e){Ve.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,n,r,o){for(var i,a,s,p,c,l,u,d=e.length,h=g(t),f=[],m=0;m<d;m++)if((a=e[m])||0===a)if("object"===he.type(a))he.merge(f,a.nodeType?[a]:a);else if(Ye.test(a)){for(p=p||h.appendChild(t.createElement("div")),c=(He.exec(a)||["",""])[1].toLowerCase(),u=Ge[c]||Ge._default,p.innerHTML=u[1]+he.htmlPrefilter(a)+u[2],i=u[0];i--;)p=p.lastChild;if(!ue.leadingWhitespace&&$e.test(a)&&f.push(t.createTextNode($e.exec(a)[0])),!ue.tbody)for(i=(a="table"!==c||Qe.test(a)?"<table>"!==u[1]||Qe.test(a)?0:p:p.firstChild)&&a.childNodes.length;i--;)he.nodeName(l=a.childNodes[i],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(he.merge(f,p.childNodes),p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=h.lastChild}else f.push(t.createTextNode(a));for(p&&h.removeChild(p),ue.appendChecked||he.grep(y(f,"input"),b),m=0;a=f[m++];)if(r&&-1<he.inArray(a,r))o&&o.push(a);else if(s=he.contains(a.ownerDocument,a),p=y(h.appendChild(a),"script"),s&&v(p),n)for(i=0;a=p[i++];)We.test(a.type||"")&&n.push(a);return p=null,h}function d(){return!0}function h(){return!1}function f(){try{return re.activeElement}catch(e){}}function C(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=undefined),t)C(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=undefined):null==o&&("string"==typeof n?(o=r,r=undefined):(o=r,r=n,n=undefined)),!1===o)o=h;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return he().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,o,r,n)})}function x(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==he.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&he.hasData(e)){var n,r,o,i=he._data(e),a=he._data(t,i),s=i.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,o=s[n].length;r<o;r++)he.event.add(t,n,s[n][r]);a.data&&(a.data=he.extend({},a.data))}}function S(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[he.expando]){for(r in(o=he._data(t)).events)he.removeEvent(t,r,o.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ve.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function R(n,r,o,i){r=ie.apply([],r);var e,t,a,s,p,c,l=0,u=n.length,d=u-1,h=r[0],f=he.isFunction(h);if(f||1<u&&"string"==typeof h&&!ue.checkClone&&at.test(h))return n.each(function(e){var t=n.eq(e);f&&(r[0]=h.call(this,e,t.html())),R(t,r,o,i)});if(u&&(e=(c=m(r,n[0].ownerDocument,!1,n,i)).firstChild,1===c.childNodes.length&&(c=e),e||i)){for(a=(s=he.map(y(c,"script"),w)).length;l<u;l++)t=c,l!==d&&(t=he.clone(t,!0,!0),a&&he.merge(s,y(t,"script"))),o.call(n[l],t,l);if(a)for(p=s[s.length-1].ownerDocument,he.map(s,_),l=0;l<a;l++)t=s[l],We.test(t.type||"")&&!he._data(t,"globalEval")&&he.contains(p,t)&&(t.src?he._evalUrl&&he._evalUrl(t.src):he.globalEval((t.text||t.textContent||t.innerHTML||"").replace(pt,"")));c=e=null}return n}function N(e,t,n){for(var r,o=t?he.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||he.cleanData(y(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&v(y(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=he(t.createElement(e)).appendTo(t.body),r=he.css(n[0],"display");return n.detach(),r}function O(e){var t=re,n=ut[e];return n||("none"!==(n=k(e,t))&&n||((t=((lt=(lt||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||lt[0].contentDocument).document).write(),t.close(),n=k(e,t),lt.detach()),ut[e]=n),n}function z(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if((e=Tt[n]+t)in St)return e}function I(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=he._data(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Be(r)&&(i[a]=he._data(r,"olddisplay",O(r.nodeName)))):(o=Be(r),(n&&"none"!==n||!o)&&he._data(r,"olddisplay",o?n:he.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function P(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=he.css(e,n+Fe[i],!0,o)),r?("content"===n&&(a-=he.css(e,"padding"+Fe[i],!0,o)),"margin"!==n&&(a-=he.css(e,"border"+Fe[i]+"Width",!0,o))):(a+=he.css(e,"padding"+Fe[i],!0,o),"padding"!==n&&(a+=he.css(e,"border"+Fe[i]+"Width",!0,o)));return a}function M(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=gt(e),a=ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=yt(e,t,i))<0||null==o)&&(o=e.style[t]),ht.test(o))return o;r=a&&(ue.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+D(e,t,n||(a?"border":"content"),r,i)+"px"}function j(e,t,n,r,o){return new j.prototype.init(e,t,n,r,o)}function L(){return E.setTimeout(function(){Rt=undefined}),Rt=he.now()}function U(e,t){var n,r={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=Fe[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,o=(V.tweeners[t]||[]).concat(V.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function B(t,e,n){var r,o,i,a,s,p,c,l=this,u={},d=t.style,h=t.nodeType&&Be(t),f=he._data(t,"fxshow");for(r in n.queue||(null==(s=he._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,p=s.empty.fire,s.empty.fire=function(){s.unqueued||p()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=he.css(t,"display"))?he._data(t,"olddisplay")||O(t.nodeName):c)&&"none"===he.css(t,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==O(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.shrinkWrapBlocks()||l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(o=e[r],Pt.exec(o)){if(delete e[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!f||f[r]===undefined)continue;h=!0}u[r]=f&&f[r]||he.style(t,r)}else c=undefined;if(he.isEmptyObject(u))"inline"===("none"===c?O(t.nodeName):c)&&(d.display=c);else for(r in f?"hidden"in f&&(h=f.hidden):f=he._data(t,"fxshow",{}),i&&(f.hidden=!h),h?he(t).show():l.done(function(){he(t).hide()}),l.done(function(){var e;for(e in he._removeData(t,"fxshow"),u)he.style(t,e,u[e])}),u)a=F(h?f[r]:0,r,l),r in f||(f[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function q(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=he.camelCase(n)],i=e[n],he.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=he.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function V(i,e,t){var n,a,r=0,o=V.prefilters.length,s=he.Deferred().always(function(){delete p.elem}),p=function(){if(a)return!1;for(var e=Rt||L(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(n);return s.notifyWith(i,[c,n,t]),n<1&&o?t:(s.resolveWith(i,[c]),!1)},c=s.promise({elem:i,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},t),originalProperties:e,originalOptions:t,startTime:Rt||L(),duration:t.duration,tweens:[],createTween:function(e,t){var n=he.Tween(i,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(i,[c,1,0]),s.resolveWith(i,[c,e])):s.rejectWith(i,[c,e]),this}}),l=c.props;for(q(l,c.opts.specialEasing);r<o;r++)if(n=V.prefilters[r].call(c,i,l,c.opts))return he.isFunction(n.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(n.stop,n)),n;return he.map(l,F,c),he.isFunction(c.opts.start)&&c.opts.start.call(i,c),he.fx.timer(he.extend(p,{elem:i,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return he.attr(e,"class")||""}function W(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(Oe)||[];if(he.isFunction(t))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function $(t,o,i,a){function s(e){var r;return p[e]=!0,he.each(t[e]||[],function(e,t){var n=t(o,i,a);return"string"!=typeof n||c||p[n]?c?!(r=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),r}var p={},c=t===an;return s(o.dataTypes[0])||!p["*"]&&s("*")}function K(e,t){var n,r,o=he.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&he.extend(!0,e,n),e}function G(e,t,n){for(var r,o,i,a,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),o===undefined&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){p.unshift(a);break}if(p[0]in n)i=p[0];else{for(a in n){if(!p[0]||e.converters[a+" "+p[0]]){i=a;break}r||(r=a)}i=i||r}if(i)return i!==p[0]&&p.unshift(i),n[i]}function Y(e,t,n,r){var o,i,a,s,p,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!p&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=i,i=l.shift())if("*"===i)i=p;else if("*"!==p&&p!==i){if(!(a=c[p+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[p+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+p+" to "+i}}}return{state:"success",data:t}}function Q(e){return e.style&&e.style.display||he.css(e,"display")}function X(e){if(!he.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===Q(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(n,e,r,o){var t;if(he.isArray(e))he.each(e,function(e,t){r||un.test(n)?o(n,t):J(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==he.type(e))o(n,e);else for(t in e)J(n+"["+t+"]",e[t],r,o)}function Z(){try{return new E.XMLHttpRequest}catch(e){}}function ee(){try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=E.document,oe=ne.slice,ie=ne.concat,ae=ne.push,se=ne.indexOf,pe={},ce=pe.toString,le=pe.hasOwnProperty,ue={},de="1.12.4",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:oe.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(n){return this.pushStack(he.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},he.extend=he.fn.extend=function(e){var t,n,r,o,i,a,s=e||{},p=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[p]||{},p++),"object"==typeof s||he.isFunction(s)||(s={}),p===c&&(s=this,p--);p<c;p++)if(null!=(i=arguments[p]))for(o in i)t=s[o],s!==(r=i[o])&&(l&&r&&(he.isPlainObject(r)||(n=he.isArray(r)))?(n?(n=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[o]=he.extend(l,a,r)):r!==undefined&&(s[o]=r));return s},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ue.ownFirst)for(t in e)return le.call(e,t);for(t in e);return t===undefined||le.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[ce.call(e)]||"object":typeof e},globalEval:function(e){e&&he.trim(e)&&(E.execScript||function(e){E.eval.call(E,e)})(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!=n)for(;t[r]!==undefined;)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(s(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return ie.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),he.isFunction(e)?(n=oe.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(oe.call(arguments)))}).guid=e.guid=e.guid||he.guid++,r):undefined},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ne[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var ve=function(n){function C(e,t,n,r){var o,i,a,s,p,c,l,u,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:F)!==A&&z(t),t=t||A,P)){if(11!==h&&(c=ye.exec(e)))if(o=c[1]){if(9===h){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&L(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&y.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(y.qsa&&!W[e+" "]&&(!D||!D.test(e))){if(1!==h)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=U),i=(l=T(e)).length,p=de.test(s)?"#"+s:"[id='"+s+"']";i--;)l[i]=p+" "+g(l[i]);u=l.join(","),d=ve.test(e)&&m(t.parentNode)||t}if(u)try{return J.apply(n,d.querySelectorAll(u)),n}catch(f){}finally{s===U&&t.removeAttribute("id")}}}return R(e.replace(se,"$1"),t,n,r)}function e(){function n(e,t){return r.push(e+" ")>w.cacheLength&&delete n[r.shift()],n[e+" "]=t}var r=[];return n}function p(e){return e[U]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function c(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function i(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(a){return p(function(i){return i=+i,p(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function m(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function g(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function u(s,e,t){var p=e.dir,c=t&&"parentNode"===p,l=q++;return e.first?function(e,t,n){for(;e=e[p];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var r,o,i,a=[B,l];if(n){for(;e=e[p];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[p];)if(1===e.nodeType||c){if((r=(o=(i=e[U]||(e[U]={}))[e.uniqueID]||(i[e.uniqueID]={}))[p])&&r[0]===B&&r[1]===l)return a[2]=r[2];if((o[p]=a)[2]=s(e,t,n))return!0}}}function d(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function v(e,t,n){for(var r=0,o=t.length;r<o;r++)C(e,t[r],n);return n}function x(e,t,n,r,o){for(var i,a=[],s=0,p=e.length,c=null!=t;s<p;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function b(h,f,m,g,y,e){return g&&!g[U]&&(g=b(g)),y&&!y[U]&&(y=b(y,e)),p(function(e,t,n,r){var o,i,a,s=[],p=[],c=t.length,l=e||v(f||"*",n.nodeType?[n]:n,[]),u=!h||!e&&f?l:x(l,s,h,n,r),d=m?y||(e?h:c||g)?[]:t:u;if(m&&m(u,d,n,r),g)for(o=x(d,p),g(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[p[i]]=!(u[p[i]]=a));if(e){if(y||h){if(y){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(u[i]=a);y(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=y?ee(e,a):s[i])&&(e[o]=!(t[o]=a))}}else d=x(d===t?d.splice(c,d.length):d),y?y(null,t,d,r):J.apply(t,d)})}function h(e){for(var o,t,n,r=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,p=u(function(e){return e===o},a,!0),c=u(function(e){return-1<ee(o,e)},a,!0),l=[function(e,t,n){var r=!i&&(n||t!==N)||((o=t).nodeType?p(e,t,n):c(e,t,n));return o=null,r}];s<r;s++)if(t=w.relative[e[s].type])l=[u(d(l),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return b(1<s&&d(l),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),t,s<n&&h(e.slice(s,n)),n<r&&h(e=e.slice(n)),n<r&&g(e))}l.push(t)}return d(l)}function l(g,y){var v=0<y.length,b=0<g.length,e=function(e,t,n,r,o){var i,a,s,p=0,c="0",l=e&&[],u=[],d=N,h=e||b&&w.find.TAG("*",o),f=B+=null==d?1:Math.random()||.1,m=h.length;for(o&&(N=t===A||t||o);c!==m&&null!=(i=h[c]);c++){if(b&&i){for(a=0,t||i.ownerDocument===A||(z(i),n=!P);s=g[a++];)if(s(i,t||A,n)){r.push(i);break}o&&(B=f)}v&&((i=!s&&i)&&p--,e&&l.push(i))}if(p+=c,v&&c!==p){for(a=0;s=y[a++];)s(l,u,t,n);if(e){if(0<p)for(;c--;)l[c]||u[c]||(u[c]=Q.call(r));u=x(u)}J.apply(r,u),o&&!e&&0<u.length&&1<p+y.length&&C.uniqueSort(r)}return o&&(B=f,N=d),l};return v?p(e):e}var f,y,w,E,_,T,S,R,N,k,O,z,A,I,P,D,M,j,L,U="sizzle"+1*new Date,F=n.document,B=0,q=0,V=e(),H=e(),W=e(),$=function(e,t){return e===t&&(O=!0),0},K=1<<31,G={}.hasOwnProperty,Y=[],Q=Y.pop,X=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),pe=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(ie),de=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){z()};try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(Ee){J={apply:Y.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(f in y=C.support={},_=C.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},z=C.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==A&&9===r.nodeType&&r.documentElement&&(I=(A=r
).documentElement,P=!_(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),y.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=o(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=ge.test(A.getElementsByClassName),y.getById=o(function(e){return I.appendChild(e).id=U,!A.getElementsByName||!A.getElementsByName(U).length}),y.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(Ce,xe);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=y.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=y.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&P)return t.getElementsByClassName(e)},M=[],D=[],(y.qsa=ge.test(A.querySelectorAll))&&(o(function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||D.push(".#.+[+~]")}),o(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(y.matchesSelector=ge.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(e){y.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),M.push("!=",ie)}),D=D.length&&new RegExp(D.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(I.compareDocumentPosition),L=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===F&&L(F,e)?-1:t===A||t.ownerDocument===F&&L(F,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===A?-1:t===A?1:o?-1:i?1:k?ee(k,e)-ee(k,t):0;if(o===i)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?c(a[r],s[r]):a[r]===F?-1:s[r]===F?1:0}),A},C.matches=function(e,t){return C(e,null,null,t)},C.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&z(e),t=t.replace(le,"='$1']"),y.matchesSelector&&P&&!W[t+" "]&&(!M||!M.test(t))&&(!D||!D.test(t)))try{var n=j.call(e,t);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ee){}return 0<C(t,A,null,[e]).length},C.contains=function(e,t){return(e.ownerDocument||e)!==A&&z(e),L(e,t)},C.attr=function(e,t){(e.ownerDocument||e)!==A&&z(e);var n=w.attrHandle[t.toLowerCase()],r=n&&G.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):undefined;return r!==undefined?r:y.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},C.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],r=0,o=0;if(O=!y.detectDuplicates,k=!y.sortStable&&e.slice(0),e.sort($),O){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return k=null,e},E=C.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},(w=C.selectors={cacheLength:50,createPseudo:p,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||C.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&C.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=C.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t.replace(ae," ")+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,m,g){var y="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,s,p,c=y!==v?"nextSibling":"previousSibling",l=e.parentNode,u=b&&e.nodeName.toLowerCase(),d=!n&&!b,h=!1;if(l){if(y){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;p=c="only"===f&&!p&&"nextSibling"}return!0}if(p=[v?l.firstChild:l.lastChild],v&&d){for(h=(s=(r=(o=(i=(a=l)[U]||(a[U]={}))[a.uniqueID]||(i[a.uniqueID]={}))[f]||[])[0]===B&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||p.pop();)if(1===a.nodeType&&++h&&a===e){o[f]=[B,s,h];break}}else if(d&&(h=s=(r=(o=(i=(a=e)[U]||(a[U]={}))[a.uniqueID]||(i[a.uniqueID]={}))[f]||[])[0]===B&&r[1]),!1===h)for(;(a=++s&&a&&a[c]||(h=s=0)||p.pop())&&((b?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++h||(d&&((o=(i=a[U]||(a[U]={}))[a.uniqueID]||(i[a.uniqueID]={}))[f]=[B,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,i){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||C.error("unsupported pseudo: "+e);return a[U]?a(i):1<a.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?p(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=ee(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:p(function(e){var r=[],o=[],s=S(e.replace(se,"$1"));return s[U]?p(function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,s(r,null,n,o),r[0]=null,!o.pop()}}),has:p(function(t){return function(e){return 0<C(t,e).length}}),contains:p(function(t){return t=t.replace(Ce,xe),function(e){return-1<(e.textContent||e.innerText||E(e)).indexOf(t)}}),lang:p(function(n){return de.test(n||"")||C.error("unsupported lang: "+n),n=n.replace(Ce,xe).toLowerCase(),function(e){var t;do{if(t=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[f]=r(f);for(f in{submit:!0,reset:!0})w.pseudos[f]=i(f);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,T=C.tokenize=function(e,t){var n,r,o,i,a,s,p,c=H[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],p=w.preFilter;a;){for(i in n&&!(r=pe.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(se," ")}),a=a.slice(n.length)),w.filter)!(r=he[i].exec(a))||p[i]&&!(r=p[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?C.error(e):H(e,s).slice(0)},S=C.compile=function(e,t){var n,r=[],o=[],i=W[e+" "];if(!i){for(t||(t=T(e)),n=t.length;n--;)(i=h(t[n]))[U]?r.push(i):o.push(i);(i=W(e,l(o,r))).selector=e}return i},R=C.select=function(e,t,n,r){var o,i,a,s,p,c="function"==typeof e&&e,l=!r&&T(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&y.getById&&9===t.nodeType&&P&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(Ce,xe),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=he.needsContext.test(e)?0:i.length;o--&&(a=i[o],!w.relative[s=a.type]);)if((p=w.find[s])&&(r=p(a.matches[0].replace(Ce,xe),ve.test(i[0].type)&&m(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&g(i)))return J.apply(n,r),n;break}}return(c||S(e,l))(r,t,!P,n,!t||ve.test(e)&&m(t.parentNode)||t),n},y.sortStable=U.split("").sort($).join("")===U,y.detectDuplicates=!!O,z(),y.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),C}(E);he.find=ve,he.expr=ve.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=ve.uniqueSort,he.text=ve.getText,he.isXMLDoc=ve.isXML,he.contains=ve.contains;var be=function(e,t,n){for(var r=[],o=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&he(e).is(n))break;r.push(e)}return r},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=he.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<o;t++)if(he.contains(r[t],this))return!0}));for(t=0;t<o;t++)he.find(e,r[t],n);return(n=this.pushStack(1<o?he.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&xe.test(e)?he(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||_e,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(he):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this));if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),we.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((o=re.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return _e.find(e);this.length=1,this[0]=o}return this.context=re,this.selector=e,this}).prototype=he.fn,_e=he(re);var Se=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t,n=he(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(he.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=xe.test(e)||"string"!=typeof e?he(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&he.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?he.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},function(r,o){he.fn[r]=function(e,t){var n=he.map(this,o,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=he.filter(t,n)),1<this.length&&(Re[r]||(n=he.uniqueSort(n)),Se.test(r)&&(n=n.reverse())),this.pushStack(n)}});var Ne,ke,Oe=/\S+/g;for(ke in he.Callbacks=function(r){r="string"==typeof r?l(r):he.extend({},r);var o,e,t,n,i=[],a=[],s=-1,p=function(){for(n=r.once,t=o=!0;a.length;s=-1)for(e=a.shift();++s<i.length;)!1===i[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=i.length,e=!1);r.memory||(e=!1),o=!1,n&&(i=e?[]:"")},c={add:function(){return i&&(e&&!o&&(s=i.length-1,a.push(e)),function n(e){he.each(e,function(e,t){he.isFunction(t)?r.unique&&c.has(t)||i.push(t):t&&t.length&&"string"!==he.type(t)&&n(t)})}(arguments),e&&!o&&p()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;-1<(n=he.inArray(t,i,n));)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<he.inArray(e,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return n=a=[],i=e="",this},disabled:function(){return!i},lock:function(){return n=!0,e||c.disable(),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),o||p()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},he.extend({Deferred:function(e){var i=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return he.Deferred(function(r){he.each(i,function(e,t){var n=he.isFunction(o[e])&&o[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?he.extend(e,a):a}},s={};return a.pipe=a.then,he.each(i,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){o=r},i[1^e][2].disable,i[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var o,t,n,r=0,i=oe.call(arguments),a=i.length,s=1!==a||e&&he.isFunction(e.promise)?a:0,p=1===s?e:he.Deferred(),c=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?oe.call(arguments):e,r===o?p.notifyWith(n,r):--s||p.resolveWith(n,r)}};if(1<a)for(o=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)i[r]&&he.isFunction(i[r].promise)?i[r].promise().progress(c(r,t,o)).done(c(r,n,i)).fail(p.reject):--s;return s||p.resolveWith(n,i),p.promise()}}),he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0)!==e&&0<--he.readyWait||(Ne.resolveWith(re,[he]),he.fn.triggerHandler&&(he(re).triggerHandler("ready"),he(re).off("ready")))}}),he.ready.promise=function(e){if(!Ne)if(Ne=he.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)E.setTimeout(he.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",i),E.addEventListener("load",i);else{re.attachEvent("onreadystatechange",i),E.attachEvent("onload",i);var t=!1;try{t=null==E.frameElement&&re.documentElement}catch(n){}t&&t.doScroll&&function r(){if(!he.isReady){try{t.doScroll("left")}catch(n){return E.setTimeout(r,50)}o(),he.ready()}}()}return Ne.promise(e)},he.ready.promise(),he(ue))break;ue.ownFirst="0"===ke,ue.inlineBlockNeedsLayout=!1,he(function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),(r=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(t){ue.deleteExpando=!1}e=null}();var ze,Ae=function(e){var t=he.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/([A-Z])/g;he.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?he.cache[e[he.expando]]:e[he.expando])&&!c(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)}}),he.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(e!==undefined)return"object"==typeof e?this.each(function(){he.data(this,e)}):1<arguments.length?this.each(function(){he.data(this,e,t)}):i?p(i,e,he.data(i,e)):undefined;if(this.length&&(o=he.data(i),1===i.nodeType&&!he._data(i,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&p(i,r=he.camelCase(r.slice(5)),o[r]);he._data(i,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){he.removeData(this,e)})}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=he._data(e,t),n&&(!r||he.isArray(n)?r=he._data(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,o=n.shift(),i=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(e,t+"queue"),he._removeData(e,n)})})}}),he.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?he.queue(this[0],t):n===undefined?this:this.each(function(){var e=he.queue(this,t,n);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=he.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=he._data(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}}),ue.shrinkWrapBlocks=function(){return null!=ze?ze:(ze=!1,(t=re.getElementsByTagName("body")[0])&&t.style?(e=re.createElement("div"),(n=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(re.createElement("div")).style.width="5px",ze=3!==e.offsetWidth),t.removeChild(n),ze):void 0);var e,t,n};var De,Me,je,Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},qe=function(e,t,n,r,o,i,a){var s=0,p=e.length,c=null==n;if("object"===he.type(n))for(s in o=!0,n)qe(e,t,s,n[s],!0,i,a);else if(r!==undefined&&(o=!0,he.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(he(e),n)})),t))for(;s<p;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):p?t(e[0],n):i},Ve=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";De=re.createElement("div"),Me=re.createDocumentFragment(),je=re.createElement("input"),De.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===De.firstChild.nodeType,ue.tbody=!De.getElementsByTagName("tbody").length,ue.htmlSerialize=!!De.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,je.type="checkbox",je.checked=!0,Me.appendChild(je),ue.appendChecked=je.checked,De.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!De.cloneNode(!0).lastChild.defaultValue,Me.appendChild(De),(je=re.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),De.appendChild(je),ue.checkClone=De.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!De.addEventListener,De[he.expando]=1,ue.attributes=!De.getAttribute(he.expando);var Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ye=/<|&#?\w+;/,Qe=/<tbody/i;!function(){var e,t,n=re.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ue[e]=t in E)||(n.setAttribute(t,"t"),ue[e]=!1===n.attributes[t].expando);n=null}();var Xe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,o){var i,a,s,p,c,l,u,d,h,f,m,g=he._data(e);if(g){for(n.handler&&(n=(p=n).handler,o=p.selector),n.guid||(n.guid=he.guid++),(a=g.events)||(a=g.events={}),(l=g.handle)||((l=g.handle=function(e){return void 0===he||e&&he.event.triggered===e.type?undefined:he.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(Oe)||[""]).length;s--;)h=m=(i=tt.exec(t[s])||[])[1],f=(i[2]||"").split(".").sort(),h&&(c=he.event.special[h]||{},h=(o?c.delegateType:c.bindType)||h,c=he.event.special[h]||{},u=he.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&he.expr.match.needsContext.test(o),namespace:f.join(".")},p),(d=a[h])||((d=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,f,l)||(e.addEventListener?e.addEventListener(h,l,!1):e.attachEvent&&e.attachEvent("on"+h,l))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),he.event.global[h]=!0);e=null}},remove:function(e,t,n,r,o){var i,a,s,p,c,l,u,d,h,f,m,g=he.hasData(e)&&he._data(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Oe)||[""]).length;c--;)if(h=m=(s=tt.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=he.event.special[h]||{},d=l[h=(r?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=i=d.length;i--;)a=d[i],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(i,1),a.selector&&d.delegateCount--,u.remove&&u.remove.call(e,a));p&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||he.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)he.event.remove(e,h+t[c],n,r,!0);he.isEmptyObject(l)&&(delete g.handle,he._removeData(e,"events"))}},trigger:function(e,t,n,r){var o,i,a,s,p,c,l,u=[n||re],d=le.call(e,"type")?e.type:e,h=le.call(e,"namespace")?e.namespace.split("."):[];if(a=c=n=n||re,3!==n.nodeType&&8!==n.nodeType&&!et.test(d+he.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),i=d.indexOf(":")<0&&"on"+d,(e=e[he.expando]?e:new he.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:he.makeArray(t,[e]),p=he.event.special[d]||{},r||!p.trigger||!1!==p.trigger.apply(n,t))){if(!r&&!p.noBubble&&!he.isWindow(n)){for(s=p.delegateType||d,et.test(s+d)||(a=a.parentNode);a;a=a.parentNode)u.push(a),c=a;c===(n.ownerDocument||re)&&u.push(c.defaultView||c.parentWindow||E)}for(l=0;(a=u[l++])&&!e.isPropagationStopped();)e.type=1<l?s:p.bindType||d,(o=(he._data(a,"events")||{})[e.type]&&he._data(a,"handle"))&&o.apply(a,t),(o=i&&a[i])&&o.apply&&Ae(a)&&(e.result=o.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!p._default||!1===p._default.apply(u.pop(),t))&&Ae(n)&&i&&n[d]&&!he.isWindow(n)){(c=n[i])&&(n[i]=null),he.event.triggered=d;try{n[d]()}catch(f){}he.event.triggered=undefined,c&&(n[i]=c)}return e.result}},dispatch:function(e){e=he.event.fix(e);var t,n,r,o,i,a=[],s=oe.call(arguments),p=(he._data(this,"events")||{})[e.type]||[],c=he.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=he.event.handlers.call(this,e,p),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,(r=((he.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,p=e.target;if(s&&p.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)r[o=(i=t[n]).selector+" "]===undefined&&(r[o]=i.needsContext?-1<he(o,this).index(p):he.find(o,this,null,[p]).length),r[o]&&r.push(i);r.length&&a.push({elem:p,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[he.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ze.test(o)?this.mouseHooks:Je.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new he.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=i.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(r=e.target.ownerDocument||re).documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||i===undefined||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?d:h):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each(
{mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){he.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===n||he.contains(n,r))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=i),t}}}),ue.submit||(he.event.special.submit={setup:function(){if(he.nodeName(this,"form"))return!1;he.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=he.nodeName(t,"input")||he.nodeName(t,"button")?he.prop(t,"form"):undefined;n&&!he._data(n,"submit")&&(he.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),he._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e))},teardown:function(){if(he.nodeName(this,"form"))return!1;he.event.remove(this,"._submit")}}),ue.change||(he.event.special.change={setup:function(){if(Xe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),he.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),he.event.simulate("change",this,e)})),!1;he.event.add(this,"beforeactivate._change",function(e){var t=e.target;Xe.test(t.nodeName)&&!he._data(t,"change")&&(he.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e)}),he._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!Xe.test(this.nodeName)}}),ue.focusin||he.each({focus:"focusin",blur:"focusout"},function(n,r){var o=function(e){he.event.simulate(r,e.target,he.event.fix(e))};he.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=he._data(e,r);t||e.addEventListener(n,o,!0),he._data(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=he._data(e,r)-1;t?he._data(e,r,t):(e.removeEventListener(n,o,!0),he._removeData(e,r))}}}),he.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=h),this.each(function(){he.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+Ke+")[\\s/>]","i"),ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct=g(re).appendChild(re.createElement("div"));he.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s,p=he.contains(e.ownerDocument,e);if(ue.html5Clone||he.isXMLDoc(e)||!rt.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(i=ct.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=y(i),s=y(e),a=0;null!=(o=s[a]);++a)r[a]&&S(o,r[a]);if(t)if(n)for(s=s||y(e),r=r||y(i),a=0;null!=(o=s[a]);a++)T(o,r[a]);else T(e,i);return 0<(r=y(i,"script")).length&&v(r,!p&&y(e,"script")),r=s=o=null,i},cleanData:function(e,t){for(var n,r,o,i,a=0,s=he.expando,p=he.cache,c=ue.attributes,l=he.event.special;null!=(n=e[a]);a++)if((t||Ae(n))&&(i=(o=n[s])&&p[o])){if(i.events)for(r in i.events)l[r]?he.event.remove(n,r):he.removeEvent(n,r,i.handle);p[o]&&(delete p[o],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(o))}}}),he.fn.extend({domManip:R,detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return qe(this,function(e){return e===undefined?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return R(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)})},prepend:function(){return R(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return qe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!it.test(e)&&(ue.htmlSerialize||!rt.test(e))&&(ue.leadingWhitespace||!$e.test(e))&&!Ge[(He.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return R(this,arguments,function(e){var t=this.parentNode;he.inArray(this,n)<0&&(he.cleanData(y(this)),t&&t.replaceChild(e,this))},n)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){he.fn[e]=function(e){for(var t,n=0,r=[],o=he(e),i=o.length-1;n<=i;n++)t=n===i?this:this.clone(!0),he(o[n])[a](t),ae.apply(r,t.get());return this.pushStack(r)}});var lt,ut={HTML:"block",BODY:"block"},dt=/^margin/,ht=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o},mt=re.documentElement;!function(){function e(){var e,t,n=re.documentElement;n.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=i=p=!1,o=s=!0,E.getComputedStyle&&(t=E.getComputedStyle(l),r="1%"!==(t||{}).top,p="2px"===(t||{}).marginLeft,i="4px"===(t||{width:"4px"}).width,l.style.marginRight="50%",o="4px"===(t||{marginRight:"4px"}).marginRight,(e=l.appendChild(re.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",l.style.width="1px",s=!parseFloat((E.getComputedStyle(e)||{}).marginRight),l.removeChild(e)),l.style.display="none",(a=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",(e=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),n.removeChild(c)}var r,o,i,a,s,p,c=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===l.style.opacity,ue.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===l.style.backgroundClip,(c=re.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),ue.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,he.extend(ue,{reliableHiddenOffsets:function(){return null==r&&e(),a},boxSizingReliable:function(){return null==r&&e(),i},pixelMarginRight:function(){return null==r&&e(),o},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==r&&e(),s},reliableMarginLeft:function(){return null==r&&e(),p}}))}();var gt,yt,vt=/^(top|right|bottom|left)$/;E.getComputedStyle?(gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=E),t.getComputedStyle(e)},yt=function(e,t,n){var r,o,i,a,s=e.style;return""!==(a=(n=n||gt(e))?n.getPropertyValue(t)||n[t]:undefined)&&a!==undefined||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),n&&!ue.pixelMarginRight()&&ht.test(a)&&dt.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),a===undefined?a:a+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},yt=function(e,t,n){var r,o,i,a,s=e.style;return null==(a=(n=n||gt(e))?n[t]:undefined)&&s&&s[t]&&(a=s[t]),ht.test(a)&&!vt.test(t)&&(r=s.left,(i=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,i&&(o.left=i)),a===undefined?a:a+""||"auto"});var bt=/alpha\([^)]*\)/i,Ct=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Le+")(.*)$","i"),Et={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],St=re.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=yt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=he.camelCase(t),p=e.style;if(t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),a=he.cssHooks[t]||he.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(e,!1,r))!==undefined?o:p[t];if("string"===(i=typeof n)&&(o=Ue.exec(n))&&o[1]&&(n=u(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(he.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(p[t]="inherit"),!(a&&"set"in a&&(n=a.set(e,n,r))===undefined)))try{p[t]=n}catch(c){}}},css:function(e,t,n,r){var o,i,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),(a=he.cssHooks[t]||he.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),i===undefined&&(i=yt(e,t,r)),"normal"===i&&t in _t&&(i=_t[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),he.each(["height","width"],function(e,o){he.cssHooks[o]={get:function(e,t,n){if(t)return xt.test(he.css(e,"display"))&&0===e.offsetWidth?ft(e,Et,function(){return M(e,o,n)}):M(e,o,n)},set:function(e,t,n){var r=n&&gt(e);return P(e,t,n?D(e,o,n,ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,r),r):0)}}}),ue.opacity||(he.cssHooks.opacity={get:function(e,t){return Ct.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===he.trim(i.replace(bt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=bt.test(i)?i.replace(bt,o):i+" "+o)}}),he.cssHooks.marginRight=z(ue.reliableMarginRight,function(e,t){if(t)return ft(e,{display:"inline-block"},yt,[e,"marginRight"])}),he.cssHooks.marginLeft=z(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(yt(e,"marginLeft"))||(he.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(o,i){he.cssHooks[o+i]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+Fe[t]+i]=r[t]||r[t-2]||r[0];return n}},dt.test(o)||(he.cssHooks[o+i].set=P)}),he.fn.extend({css:function(e,t){return qe(this,function(e,t,n){var r,o,i={},a=0;if(he.isArray(t)){for(r=gt(e),o=t.length;a<o;a++)i[t[a]]=he.css(e,t[a],!1,r);return i}return n!==undefined?he.style(e,t,n):he.css(e,t)},e,t,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}}),(he.Tween=j).prototype={constructor:j,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(he.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=j.prototype.init,he.fx.step={};var Rt,Nt,kt,Ot,zt,At,It,Pt=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/;he.Animation=he.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,r=0,o=e.length;r<o;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=he.isEmptyObject(t),i=he.speed(e,n,r),a=function(){var e=V(this,he.extend({},t),i);(o||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(o,e,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof o&&(i=e,e=o,o=undefined),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=he.timers,r=he._data(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&Dt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||he.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=he._data(this),n=t[a+"queue"],r=t[a+"queueHooks"],o=he.timers,i=n?n.length:0;for(t.finish=!0,he.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),he.each(["toggle","show","hide"],function(e,r){var o=he.fn[r];he.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(U(r,!0),e,t,n)}}),he.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){he.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),he.timers=[],he.fx.tick=function(){var e,t=he.timers,n=0;for(Rt=he.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),Rt=undefined},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){Nt||(Nt=E.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){E.clearInterval(Nt),Nt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(r,e){return r=he.fx&&he.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=E.setTimeout(e,r);t.stop=function(){E.clearTimeout(n)}})},Ot=re.createElement("input"),zt=re.createElement("div"),At=re.createElement("select"),It=At.appendChild(re.createElement("option")),(zt=re.createElement("div")).setAttribute("className","t"),zt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",kt=zt.getElementsByTagName("a")[0],Ot.setAttribute("type","checkbox"),zt.appendChild(Ot),(kt=zt.getElementsByTagName("a")[0]).style.cssText="top:1px",ue.getSetAttribute="t"!==zt.className,ue.style=/top/.test(kt.getAttribute("style")),ue.hrefNormalized="/a"===kt.getAttribute("href"),ue.checkOn=!!Ot.value,ue.optSelected=It.selected,ue.enctype=!!re.createElement("form").enctype,At.disabled=!0,ue.optDisabled=!It.disabled,(Ot=re.createElement("input")).setAttribute("value",""),ue.input=""===Ot.getAttribute("value"),Ot.value="t",Ot.setAttribute("type","radio"),ue.radioValue="t"===Ot.value;var Mt=/\r/g,jt=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(n){var r,e,o,t=this[0];return arguments.length?(o=he.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,he(this).val()):n)?t="":"number"==typeof t?t+="":he.isArray(t)&&(t=he.map(t,function(e){return null==e?"":e+""})),(r=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,t,"value")!==undefined||(this.value=t))})):t?(r=he.valHooks[t.type]||he.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&(e=r.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(Mt,""):null==e?"":e:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,p=o<0?s:i?o:0;p<s;p++)if(((n=r[p]).selected||p===o)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=he.makeArray(t),a=o.length;a--;)if(r=o[a],-1<he.inArray(he.valHooks.option.get(r),i))try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=-1<he.inArray(he(e).val(),t)}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ut,Ft=he.expr.attrHandle,Bt=/^(?:checked|selected)$/i,qt=ue.getSetAttribute,Vt=ue.input;he.fn.extend({attr:function(e,t){return qe(this,he.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===i&&he.isXMLDoc(e)||(t=t.toLowerCase(),o=he.attrHooks[t]||(he.expr.match.bool.test(t)?Ut:Lt)),n!==undefined?null===n?void he.removeAttr(e,t):o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=he.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(Oe);if(i&&1===e.nodeType)for(;n=i[o++];)r=he.propFix[n]||n,he.expr.match.bool.test(n)?Vt&&qt||!Bt.test(n)?e[r]=!1:e[he.camelCase("default-"+n)]=e[r]=!1:he.attr(e,n,""),e.removeAttribute(qt?n:r)}}),Ut={set:function(e,t,n){return!1===t?he.removeAttr(e,n):Vt&&qt||!Bt.test(n)?e.setAttribute(!qt&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Ft[t]||he.find.attr;Vt&&qt||!Bt.test(t)?Ft[t]=function(e,t,n){var r,o;return n||(o=Ft[t],Ft[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,Ft[t]=o),r}:Ft[t]=function(e,t,n){if(!n)return e[he.camelCase("default-"+t)]?t.toLowerCase():null}}),Vt&&qt||(he.attrHooks.value={set:function(e,t,n){if(!he.nodeName(e,"input"))return Lt&&Lt.set(e,t,n);e.defaultValue=t}}),qt||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Lt.set},he.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""!==t&&t,n)}},he.each(["width","height"],function(e,n){he.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),ue.style||(he.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Ht=/^(?:input|select|textarea|button|object)$/i,Wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return qe(this,he.prop,e,t,1<arguments.length)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),he.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&he.isXMLDoc(e)||(t=he.propFix[t]||t,o=he.propHooks[t]),n!==undefined?o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Ht.test(e.nodeName)||Wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.hrefNormalized||he.each(["href","src"],function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),ue.enctype||(he.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;he.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,p=0;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[p++];)if(o=H(n),r=1===n.nodeType&&(" "+o+" ").replace($t," ")){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,p=0;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[p++];)if(o=H(n),r=1===n.nodeType&&(" "+o+" ").replace($t," ")){for(a=0;i=e[a++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");o!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},toggleClass:function(o,t){var i=typeof o;return"boolean"==typeof t&&"string"===i?t?this.addClass(o):this.removeClass(o):he.isFunction(o)?this.each(function(e){he(this).toggleClass(o.call(this,e,H(this),t),t)}):this.each(function(){var e,t,n,r;if("string"===i)for(t=0,n=he(this),r=o.match(Oe)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!==undefined&&"boolean"!==i||((e=H(this))&&he._data(this,"__className__",e),he.attr(this,"class",e||!1===o?"":he._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+H(n)+" ").replace($t," ").indexOf(t))return!0;return!1}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){he.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Kt=E.location,Gt=he.now(),Yt=/\?/,Qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;he.parseJSON=function(e){if(E.JSON&&E.JSON.parse)return E.JSON.parse(e+"");var o,i=null,t=he.trim(e+"");return t&&!he.trim(t.replace(Qt,function(e,t,n,r){return o&&t&&(i=0),0===i?e:(o=n||t,i+=!r-!n,"")}))?Function("return "+t)():he.error("Invalid JSON: "+e)},he.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{E.DOMParser?t=(new E.DOMParser).parseFromString(e,"text/xml"):((t=new E.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+e),t};var Xt=/#.*$/,Jt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),pn=Kt.href,cn=rn.exec(pn.toLowerCase())||[];he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:en.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,he.ajaxSettings),t):K(he.ajaxSettings,e)},ajaxPrefilter:W(on),ajaxTransport:W(an),ajax:function(e,t){function n(e,t,n,r){var o,i,a,s,p,c=t;2!==x&&(x=2,d&&E.clearTimeout(d),f=undefined,u=r||"",w.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(s=G(m,w,n)),s=Y(m,s,w,o),o?(m.ifModified&&((p=w.getResponseHeader("Last-Modified"))&&(he.lastModified[l]=p),(p=w.getResponseHeader("etag"))&&(he.etag[l]=p)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,i=s.data,o=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),w.status=e,w.statusText=(t||c)+"",o?v.resolveWith(g,[i,c,w]):v.rejectWith(g,[w,c,a]),w.statusCode(C),C=undefined,h&&y.trigger(o?"ajaxSuccess":"ajaxError",[w,m,o?i:a]),b.fireWith(g,[w,c]),h&&(y.trigger("ajaxComplete",[w,m]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,o,l,u,d,h,f,i,m=he.ajaxSetup({},t),g=m.context||m,y=m.context&&(g.nodeType||g.jquery)?he(g):he.event,v=he.Deferred(),b=he.Callbacks("once memory"),C=m.statusCode||{},a={},s={},x=0,p="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!i)for(i={};t=Zt.exec(u);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?u:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=s[n]=s[n]||e,a[e]=t),this},overrideMimeType:function(e){return x||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)C[t]=[C[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||p;return f&&f.abort(t),n(0,t),this}};if(v.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,m.url=((e||m.url||pn)+"").replace(Xt,"").replace(nn,cn[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=he.trim(m.dataType||"*").toLowerCase().match(Oe)||[""],null==m.crossDomain&&(r=rn.exec(m.url.toLowerCase()),m.crossDomain=!(!r||r[1]===cn[1]&&r[2]===cn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=he.param(m.data,m.traditional)),$(on,m,t,w),2===x)return w;for(o in(h=he.event&&m.global)&&0==he.active++&&he.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!tn.test(m.type),l=m.url,m.hasContent||(m.data&&(l=m.url+=(Yt.test(l)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Jt.test(l)?l.replace(Jt,"$1_="+Gt++):l+(Yt.test(l)?"&":"?")+"_="+Gt++)),m.ifModified&&(he.lastModified[l]&&w.setRequestHeader("If-Modified-Since",he.lastModified[l]),he.etag[l]&&w.setRequestHeader("If-None-Match",he.etag[l])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+sn+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,w,m)||2===x))return w.abort();for(o in p="abort",{success:1,error:1,complete:1})w[o](m[o]);if(f=$(an,m,t,w)){if(w.readyState=1,h&&y.trigger("ajaxSend",[w,m]),2===x)return w;m.async&&0<m.timeout&&(d=E.setTimeout(function(){w.abort("timeout")},m.timeout));try{x=1,f.send(a,n)}catch(c){if(!(x<2))throw c;n(-1,c)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,undefined,t,"script")}}),he.each(["get","post"],function(e,o){he[o]=function(e,t,n,r){return he.isFunction(t)&&(r=r||n,n=t,t=undefined),he.ajax(he.extend({url:e,type:o,dataType:r,data:t,success:n},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return he.isFunction(n)?this.each(function(e){he(this).wrapInner(n.call(this,e))}):this.each(function(){var e=he(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=he.isFunction(t);return this.each(function(e){he(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}}),he.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:X(e)},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)};var ln=/%20/g,un=/\[\]$/,dn=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,fn=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],o=function(e,t){t=he.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){o(this.name,this.value)});else for(n in e)J(n,e[n],t,o);return r.join("&").replace(ln,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&fn.test(this.nodeName)&&!hn.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(dn,"\r\n")}}):{name:t.name,value:n.replace(dn,"\r\n")}}).get()}}),he.ajaxSettings.xhr=E.ActiveXObject!==undefined?function(){
return this.isLocal?ee():8<re.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var mn=0,gn={},yn=he.ajaxSettings.xhr();E.attachEvent&&E.attachEvent("onunload",function(){for(var e in gn)gn[e](undefined,!0)}),ue.cors=!!yn&&"withCredentials"in yn,(yn=ue.ajax=!!yn)&&he.ajaxTransport(function(c){var l;if(!c.crossDomain||ue.cors)return{send:function(e,a){var t,s=c.xhr(),p=++mn;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)s[t]=c.xhrFields[t];for(t in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&s.setRequestHeader(t,e[t]+"");s.send(c.hasContent&&c.data||null),l=function(e,t){var n,r,o;if(l&&(t||4===s.readyState))if(delete gn[p],l=undefined,s.onreadystatechange=he.noop,t)4!==s.readyState&&s.abort();else{o={},n=s.status,"string"==typeof s.responseText&&(o.text=s.responseText);try{r=s.statusText}catch(i){r=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&a(n,r,o,s.getAllResponseHeaders())},c.async?4===s.readyState?E.setTimeout(l):s.onreadystatechange=gn[p]=l:l()},abort:function(){l&&l(undefined,!0)}}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var r,o=re.head||he("head")[0]||re.documentElement;return{send:function(e,n){(r=re.createElement("script")).async=!0,t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,t||n(200,"success"))},o.insertBefore(r,o.firstChild)},abort:function(){r&&r.onload(undefined,!0)}}}});var vn=[],bn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=vn.pop()||he.expando+"_"+Gt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,i,a=!1!==e.jsonp&&(bn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=he.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(bn,"$1"+r):!1!==e.jsonp&&(e.url+=(Yt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||he.error(r+" was not called"),i[0]},e.dataTypes[0]="json",o=E[r],E[r]=function(){i=arguments},n.always(function(){o===undefined?he(E).removeProp(r):E[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,vn.push(r)),i&&he.isFunction(o)&&o(i[0]),i=o=undefined}),"script"}),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=we.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=m([e],t,o),o&&o.length&&he(o).remove(),he.merge([],r.childNodes))};var Cn=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&Cn)return Cn.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return-1<s&&(r=he.trim(e.slice(s,e.length)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),0<a.length&&he.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length},he.offset={setOffset:function(e,t,n){var r,o,i,a,s,p,c=he.css(e,"position"),l=he(e),u={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=he.css(e,"top"),p=he.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<he.inArray("auto",[i,p])?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(p)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):l.css(u)}},he.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){he.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;return i?(e=i.documentElement,he.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=te(i),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(r,"marginTop",!0),left:t.left-n.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||mt})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i=/Y/.test(o);he.fn[t]=function(e){return qe(this,function(e,t,n){var r=te(e);if(n===undefined)return r?o in r?r[o]:r.document.documentElement[t]:e[t];r?r.scrollTo(i?he(r).scrollLeft():n,i?n:he(r).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),he.each(["top","left"],function(e,n){he.cssHooks[n]=z(ue.pixelPosition,function(e,t){if(t)return t=yt(e,n),ht.test(t)?he(e).position()[n]+"px":t})}),he.each({Height:"height",Width:"width"},function(i,a){he.each({padding:"inner"+i,content:a,"":"outer"+i},function(r,e){he.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return qe(this,function(e,t,n){var r;return he.isWindow(e)?e.document.documentElement["client"+i]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+i],r["scroll"+i],e.body["offset"+i],r["offset"+i],r["client"+i])):n===undefined?he.css(e,t,o):he.style(e,t,n,o)},a,n?e:undefined,n,null)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var xn=E.jQuery,wn=E.$;return he.noConflict=function(e){return E.$===he&&(E.$=wn),e&&E.jQuery===he&&(E.jQuery=xn),he},e||(E.jQuery=E.$=he),he}),function(r){var o,i,a,s,p=1,c=this,l=!1,u="postMessage",d="addEventListener",h=c[u];r[u]=function(e,t,n){t&&(e="string"==typeof e?e:r.param(e),n=n||parent,h?n[u](e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+p+++"&"+e))},r.receiveMessage=s=function(n,t,e){h?(n&&(a&&s(),a=function(e){if("string"==typeof t&&e.origin!==t||r.isFunction(t)&&t(e.origin)===l)return l;n(e)}),c[d]?c[n?d:"removeEventListener"]("message",a,l):c[n?"attachEvent":"detachEvent"]("onmessage",a)):(o&&clearInterval(o),o=null,n&&(e="number"==typeof t?t:"number"==typeof e?e:100,o=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==i&&t.test(e)&&n({data:(i=e).replace(t,"")})},e)))}}(jQuery),function(e,u){var r,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=r=function(i,a,s,p){function e(){function e(){l=+new Date,s.apply(n,o)}function t(){c=u}var n=this,r=+new Date-l,o=arguments;p&&!c&&e(),c&&clearTimeout(c),p===u&&i<r?e():!0!==a&&(c=setTimeout(p?t:e,p===u?i-r:i))}var c,l=0;return"boolean"!=typeof a&&(p=s,s=a,a=u),t.guid&&(e.guid=s.guid=s.guid||t.guid++),e},t.debounce=function(e,t,n){return n===u?r(e,t,!1):r(e,n,!1!==t)}}(this),function(e){if(!e.support.cors&&window.XDomainRequest){var r=/^https?:\/\//i,o=/^get|post$/i,i=new RegExp("^"+location.protocol,"i"),c=/\/xml/i;e.ajaxTransport("text html xml json",function(t,n){if(t.crossDomain&&t.async&&o.test(t.type)&&r.test(t.url)&&i.test(t.url)){var s=null,p=(n.dataType||"").toLowerCase();return{send:function(e,a){s=new XDomainRequest,/^\d+$/.test(n.timeout)&&(s.timeout=n.timeout),s.ontimeout=function(){a(500,"timeout")},s.onload=function(){var e="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,t={code:200,message:"success"},n={text:s.responseText};try{if("json"===p)try{n.json=JSON.parse(s.responseText)}catch(o){t.code=500,t.message="parseerror"}else if("xml"===p||"text"!==p&&c.test(s.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(s.responseText)}catch(o){r=undefined}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+s.responseText;n.xml=r}}catch(i){throw i}finally{a(t.code,t.message,n,e)}},s.onerror=function(){a(500,"error",{text:s.responseText})},s.open(t.type,t.url),s.send(n.data)},abort:function(){s&&s.abort()}}}})}}(jQuery),function(d){d.deparam=function(e,c){var l={},u={"true":!0,"false":!1,"null":null};return d.each(e.replace(/\+/g," ").split("&"),function(e,t){var n,r=t.split("="),o=decodeURIComponent(r[0]),i=l,a=0,s=o.split("]["),p=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[p])?(s[p]=s[p].replace(/\]$/,""),p=(s=s.shift().split("[").concat(s)).length-1):p=0,2===r.length)if(n=decodeURIComponent(r[1]),c&&(n=n&&!isNaN(n)?+n:"undefined"===n?undefined:u[n]!==undefined?u[n]:n),p)for(;a<=p;a++)i=i[o=""===s[a]?i.length:s[a]]=a<p?i[o]||(s[a+1]&&isNaN(s[a+1])?{}:[]):n;else d.isArray(l[o])?l[o].push(n):l[o]!==undefined?l[o]=[l[o],n]:l[o]=n;else o&&(l[o]=c?undefined:"")}),l}}(jQuery),jQuery.namespace=function(e){for(var t=window,n=e.split("."),r=0;r<n.length;r++)"undefined"==typeof t[n[r]]&&(t[n[r]]=new Object),t=t[n[r]];return t},function(){var t;window.supports_localstorage=function(){if(void 0!==t)return t;try{localStorage.setItem("RMZ","RMZ"),localStorage.removeItem("RMZ"),t=!0}catch(e){t=!1}return t}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"!=typeof require?e(require("jquery")):e(jQuery)}(function(l){var i,n=0,s=Array.prototype.slice;l.cleanData=(i=l.cleanData,function(e){var t,n,r;for(r=0;null!=(n=e[r]);r++)try{(t=l._data(n,"events"))&&t.remove&&l(n).triggerHandler("remove")}catch(o){}i(e)}),l.widget=function(e,n,t){var r,o,i,a,s={},p=e.split(".")[0];return e=e.split(".")[1],r=p+"-"+e,t||(t=n,n=l.Widget),l.expr[":"][r.toLowerCase()]=function(e){return!!l.data(e,r)},l[p]=l[p]||{},o=l[p][e],i=l[p][e]=function(e,t){if(!this._createWidget)return new i(e,t);arguments.length&&this._createWidget(e,t)},l.extend(i,o,{version:t.version,_proto:l.extend({},t),_childConstructors:[]}),(a=new n).options=l.widget.extend({},a.options),l.each(t,function(t,r){var o,i;l.isFunction(r)?s[t]=(o=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=o,this._superApply=i,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):s[t]=r}),i.prototype=l.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:i,namespace:p,widgetName:e,widgetFullName:r}),o?(l.each(o._childConstructors,function(e,t){var n=t.prototype;l.widget(n.namespace+"."+n.widgetName,i,t._proto)}),delete o._childConstructors):n._childConstructors.push(i),l.widget.bridge(e,i),i},l.widget.extend=function(e){for(var t,n,r=s.call(arguments,1),o=0,i=r.length;o<i;o++)for(t in r[o])n=r[o][t],r[o].hasOwnProperty(t)&&n!==undefined&&(l.isPlainObject(n)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],n):l.widget.extend({},n):e[t]=n);return e},l.widget.bridge=function(i,t){var a=t.prototype.widgetFullName||i;l.fn[i]=function(n){var e="string"==typeof n,r=s.call(arguments,1),o=this;return e?this.each(function(){var e,t=l.data(this,a);return"instance"===n?(o=t,!1):t?l.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&e!==undefined?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:l.error("no such method '"+n+"' for "+i+" widget instance"):l.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=l.widget.extend.apply(null,[n].concat(r))),this.each(function(){var e=l.data(this,a);e?(e.option(n||{}),e._init&&e._init()):l.data(this,a,new t(n,this))})),o}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=l(),this.hoverable=l(),this.focusable=l(),t!==this&&(l.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:l.noop,_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(l.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var n,r,o,i=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(i={},e=(n=e.split(".")).shift(),n.length){for(r=i[e]=l.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];i[e]=t}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,e){var p,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=p=l(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,p=this.widget()),l.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||l.guid++);var r=e.match(/^([\w:-]*)\s*(.*)$/),o=r[1]+c.eventNamespace,i=r[2];i?p.delegate(i,o,n):s.bind(o,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=l(this.bindings.not(e).get()),this.focusable=l(this.focusable.not(e).get()),this.hoverable=l(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){l(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){l(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){l(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){l(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var r,o,i=this.options[e];if(n=n||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(r in o)r in t||(t[r]=o[r]);return this.element.trigger(t,n),!(l.isFunction(i)&&!1===i.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(i,a){l.Widget.prototype["_"+i]=function(t,e,n){"string"==typeof e&&(e={effect:e});var r,o=e?!0===e||"number"==typeof e?a:e.effect||a:i;"number"==typeof(e=e||{})&&(e={duration:e}),r=!l.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),r&&l.effects&&l.effects.effect[o]?t[i](e):o!==i&&t[o]?t[o](e.duration,e.easing,n):t.queue(function(e){l(this)[i](),n&&n.call(t[0]),e()})}});l.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(y){"use strict";function e(n){var r="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==y.inArray("Files",t.types)&&!1!==this._trigger(n,y.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),r&&(t.dropEffect="copy"))}}y.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||y('<input type="file">').prop("disabled")),y.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),y.support.xhrFormDataFileUpload=!!window.FormData,y.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),y.widget("blueimp.fileupload",{options:{dropZone:y(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&y.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&y(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:y.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||n<r)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&y.support.xhrFileUpload||y.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===y.type(e.formData)?e.formData(e.form):y.isArray(e.formData)?e.formData:"object"===y.type(e.formData)?(n=[],y.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return y.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?y.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,r=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(r,n,t.bitrateInterval),this._trigger("progress",y.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",y.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var r=this,e=n.xhr?n.xhr():y.ajaxSettings.xhr();e.upload&&(y(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,r._onProgress(e,n)}),n.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(n){var r,o=this,e=n.files[0],t=n.multipart||!y.support.xhrFileUpload,i="array"===y.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=y.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),t&&!n.blob&&this._isInstanceOf("File",e)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),t?y.support.xhrFormDataFileUpload&&(n.postMessage?(r=this._getFormData(n),n.blob?r.push({name:i,value:n.blob}):y.each(n.files,function(e,t){r.push({name:"array"===y.type(n.paramName)&&n.paramName[e]||i,value:t})})):(o._isInstanceOf("FormData",n.formData)?r=n.formData:(r=new FormData,y.each(this._getFormData(n),function(e,t){r.append(t.name,t.value)})),n.blob?r.append(i,n.blob,e.name):y.each(n.files,function(e,t){(o._isInstanceOf("File",t)||o._isInstanceOf("Blob",t))&&r.append("array"===y.type(n.paramName)&&n.paramName[e]||i,t,t.uploadName||t.name)})),n.data=r):(n.contentType=e.type||"application/octet-stream",n.data=n.blob||e),n.blob=null},_initIframeSettings:function(e){var t=y("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=y(e.fileInput),r=e.paramName;return r?y.isArray(r)||(r=[r]):(r=[],t.each(function(){for(var e=y(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)r.push(t),n-=1}),r.length||(r=[t.prop("name")||"files[]"])),r},_initFormSettings:function(e){e.form&&e.form.length||(e.form=y(e.fileInput.prop("form")),e.form.length||(e.form=y(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===y.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=y.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var r=y.Deferred(),o=r.promise();return t=t||this.options.context||o,!0===e?r.resolveWith(t,n):!1===e&&r.rejectWith(t,n),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var r=this,o=function(e){return y.Deferred().resolveWith(r,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return n.errorThrown?y.Deferred().rejectWith(r,[n]).promise():o(arguments)}).then(e,t)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",y.Event("submit",{delegatedEvent:e}),this)&&r._onSend(e,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&1<n.length&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(i,e){i.uploadedBytes=i.uploadedBytes||0;var t,a,s=this,n=i.files[0],p=n.size,c=i.uploadedBytes,l=i.maxChunkSize||p,u=this._blobSlice,d=y.Deferred(),r=d.promise();return!(!(this._isXHRUpload(i)&&u&&(c||l<p))||i.data)&&(!!e||(p<=c?(n.error=i.i18n("uploadedBytes"),this._getXHRPromise(!1,i.context,[null,"error",n.error])):(a=function(){var r=y.extend({},i),o=r._progress.loaded;r.blob=u.call(n,c,c+l,n.type),r.chunkSize=r.blob.size,r.contentRange="bytes "+c+"-"+(c+r.chunkSize-1)+"/"+p,s._initXHRData(r),s._initProgressListener(r),t=(!1!==s._trigger("chunksend",null,r)&&y.ajax(r)||s._getXHRPromise(!1,r.context)).done(function(e,t,n){c=s._getUploadedBytes(n)||c+r.chunkSize,o+r.chunkSize-r._progress.loaded&&s._onProgress(y.Event("progress",{lengthComputable:!0,loaded:c-r.uploadedBytes,total:c-r.uploadedBytes}),r),i.uploadedBytes=r.uploadedBytes=c,r.result=e,r.textStatus=t,r.jqXHR=n,s._trigger("chunkdone",null,r),s._trigger("chunkalways",null,r),c<p?a():d.resolveWith(r.context,[e,t,n])}).fail(function(e,t,n){r.jqXHR=e,r.textStatus=t,r.errorThrown=n,s._trigger("chunkfail",null,r),s._trigger("chunkalways",null,r),d.rejectWith(r.context,[e,t,n])})},this._enhancePromise(r),r.abort=function(){return t.abort()},a(),r)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,r){var o=r._progress.total,i=r._response;r._progress.loaded<o&&this._onProgress(y.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),i.result=r.result=e,i.textStatus=r.textStatus=t,i.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(e,t,n,r){var o=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),o.jqXHR=r.jqXHR=e,o.textStatus=r.textStatus=t,o.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,r,o,i,a=this,s=a._getAJAXSettings(t),p=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((r||!1===a._trigger("send",y.Event("send",{delegatedEvent:e}),s))&&a._getXHRPromise(!1,s.context,r)||a._chunkedUpload(s)||y.ajax(s)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._onAlways(e,t,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(o=y.Deferred(),this._slots.push(o),i=o.then(p)):(this._sequence=this._sequence.then(p,p),i=this._sequence),i.abort=function(){return r=[undefined,"abort","abort"],n?n.abort():(o&&o.rejectWith(s.context,r),p())},this._enhancePromise(i)):p()},_onAdd:function(r,o){var i,e,a,t,s=this,p=!0,n=y.extend({},this.options,o),c=o.files,l=c.length,u=n.limitMultiFileUploads,d=n.limitMultiFileUploadSize,h=n.limitMultiFileUploadSizeOverhead,f=0,m=this._getParamName(n),g=0;if(!l)return!1;if(d&&c[0].size===undefined&&(d=undefined),(n.singleFileUploads||u||d)&&this._isXHRUpload(n))if(n.singleFileUploads||d||!u)if(!n.singleFileUploads&&d)for(a=[],i=[],t=0;t<l;t+=1)f+=c[t].size+h,(t+1===l||f+c[t+1].size+h>d||u&&u<=t+1-g)&&(a.push(c.slice(g,t+1)),(e=m.slice(g,t+1)).length||(e=m),i.push(e),g=t+1,f=0);else i=m;else for(a=[],i=[],t=0;t<l;t+=u)a.push(c.slice(t,t+u)),(e=m.slice(t,t+u)).length||(e=m),i.push(e);else a=[c],i=[m];return o.originalFiles=c,y.each(a||c,function(e,t){var n=y.extend({},o);return n.files=a?t:[t],n.paramName=i[e],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(r,n),p=s._trigger("add",y.Event("add",{delegatedEvent:r}),n)}),p},_replaceFileInput:function(e){var n=e.fileInput,r=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=r,y("<form></form>").append(r)[0].reset(),n.after(r).detach(),t&&r.focus(),y.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var e,r=this,o=y.Deferred(),i=[],a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},s=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},p=function(){e.readEntries(function(e){e.length?(i=i.concat(e),p()):s(i)},a)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(e=t.createReader(),p()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,t){var n=this;return y.when.apply(y,y.map(e,function(e){return n._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(y.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):y.Deferred().resolve(y.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,r=(e=y(e)).prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((t=y.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&y.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return y.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return y.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof y&&1!==e.length?y.when.apply(y,y.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,r={fileInput:y(t.target),form:y(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",y.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,r={files:[]};t&&t.length&&(y.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),!1!==this._trigger("paste",y.Event("paste",{delegatedEvent:e}),r)&&this._onAdd(e,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,r={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){r.files=e,!1!==n._trigger("drop",y.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(
this.options.pasteZone,{paste:this._onPaste})),y.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==y.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof y||(e.fileInput=y(e.fileInput)),e.dropZone instanceof y||(e.dropZone=y(e.dropZone)),e.pasteZone instanceof y||(e.pasteZone=y(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===y.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var o=this,i=this.options,a=this.element.data();y.each(this.element[0].attributes,function(e,t){var n,r=t.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=a[r],o._isRegExpOption(r,n)&&(n=o._getRegExp(n)),i[r]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=y.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,o=this,i=y.Deferred(),e=i.promise();return e.abort=function(){return r=!0,n?n.abort():(i.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){r||(e.length?(t.files=e,(n=o._onSend(null,t)).then(function(e,t,n){i.resolve(e,t,n)},function(e,t,n){i.reject(e,t,n)})):i.reject())}),this._enhancePromise(e)}if(t.files=y.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(p){"use strict";var r=0,t=p,n="parseJSON";"JSON"in window&&"parse"in JSON&&(t=JSON,n="parse"),p.ajaxTransport("iframe",function(o){if(o.async){var i,a,t,s=o.initialIframeSrc||"javascript:false;";return{send:function(e,n){(i=p('<form style="display:none;"></form>')).attr("accept-charset",o.formAcceptCharset),t=/\?/.test(o.url)?"&":"?","DELETE"===o.type?(o.url=o.url+t+"_method=DELETE",o.type="POST"):"PUT"===o.type?(o.url=o.url+t+"_method=PUT",o.type="POST"):"PATCH"===o.type&&(o.url=o.url+t+"_method=PATCH",o.type="POST"),a=p('<iframe src="'+s+'" name="iframe-transport-'+(r+=1)+'"></iframe>').bind("load",function(){var r,t=p.isArray(o.paramName)?o.paramName:[o.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}n(200,"success",{iframe:e}),p('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",a.prop("name")).prop("action",o.url).prop("method",o.type),o.formData&&p.each(o.formData,function(e,t){p('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(i)}),o.fileInput&&o.fileInput.length&&"POST"===o.type&&(r=o.fileInput.clone(),o.fileInput.after(function(e){return r[e]}),o.paramName&&o.fileInput.each(function(e){p(this).prop("name",t[e]||o.paramName)}),i.append(o.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),o.fileInput.removeAttr("form")),i.submit(),r&&r.length&&o.fileInput.each(function(e,t){var n=p(r[e]);p(t).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(t)})}),i.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),i&&i.remove()}}}}),p.ajaxSetup({converters:{"iframe text":function(e){return e&&p(e[0].body).text()},"iframe json":function(e){return e&&t[n](p(e[0].body).text())},"iframe html":function(e){return e&&p(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&p.isXMLDoc(t)?t:p.parseXML(t.XMLDocument&&t.XMLDocument.xml||p(t.body).html())},"iframe script":function(e){return e&&p.globalEval(p(e[0].body).text())}}})}),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Socked=t():e.Socked=t()}(this,function(){return function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o={};return r.m=n,r.c=o,r.p="",r(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),b=n(2).extend,C=n(3),x=n(49),w=n(50);e.exports=function(){function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};y(this,r),this.appId=e,this.options=this.setOptions(n||{}),this._channels={},this._socket=C(this.options.url?this.options.url:"ws"+(this.options.ssl?"s":"")+"://"+this.options.host+"/"+this.appId,this.options),this.subscribeEvents(),this._emitter=new w,this.connected=!1,this.connecting=!1}return v(r,[{key:"setOptions",value:function t(e){return b({host:"www.socked.io",path:"/app",ssl:!0,authUrl:"/authenticate",transports:["websocket"]},e)}},{key:"subscribeEvents",value:function e(){var t=this;this._socket.on("msg",function(e){e.channel&&t.channel(e.channel)&&t.channel(e.channel).handleEvent(e),t._emitter.emit(e.event,e)}).on("connecting",function(){t.connecting=!0,t._emitter.emit("connecting")}).on("internal:connect_success",function(){t.connecting=!1,t.connected=!0,t.subscribeAllChannels(),t._emitter.emit("connected")}).on("internal:connect_error",function(e){t.connecting=!1,t.connected=!1,t._emitter.emit("connect_error",e),t.disconnect()}).on("disconnect",function(){t.unsubscribeAllChannels(),t.connecting=!1,t.connected=!1,t._emitter.emit("disconnected")}).on("error",function(e){"internal:connect_error"==e?(t.connecting=!1,t.connected=!1,t._emitter.emit("connect_error",{}),t.disconnect()):t._emitter.emit("error",e)})}},{key:"unsubscribeAllChannels",value:function n(){var t=this;Object.keys(this._channels).forEach(function(e){t._channels[e].unsubscribe()})}},{key:"subscribeAllChannels",value:function o(){var t=this;Object.keys(this._channels).forEach(function(e){t._channels[e].subscribe()})}},{key:"unsubscribeEvents",value:function i(){this._socket.off("msg")}},{key:"connect",value:function a(){this.connecting||this._socket.connect()}},{key:"disconnect",value:function s(){this._socket.disconnect()}},{key:"channels",value:function p(){return this._channels}},{key:"channel",value:function c(e){return this._channels[e]}},{key:"subscribe",value:function l(e){var t=this.channel(e);return t||(this._channels[e]=t=this._createChannel(e)),t.subscriptionPending||t.subscribe(),t}},{key:"unsubscribe",value:function u(e){var t=this.channel(e);t&&(t.unsubscribe(),delete this._channels[e])}},{key:"trigger",value:function d(e,t,n,r,o){var i={event:e};t&&(i.data=t),r&&(i.sig=r),n&&(i.channel=n),o&&(i.toUserId=o),this._socket.emit("msg",i)}},{key:"on",value:function h(e,t){this._emitter.on(e,t)}},{key:"off",value:function f(e,t){this._emitter.off(e,t)}},{key:"once",value:function m(e,t){this._emitter.once(e,t)}},{key:"_createChannel",value:function g(e){return new x(e,this)}}]),r}()},function(e,t){"use strict";e.exports=t={},t.extend=function(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r=p(e),o=r.source,i=r.id,a=r.path,s=l[i]&&a in l[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=c(o,t):(l[i]||(l[i]=c(o,t)),n=l[i]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var p=n(4),o=n(7),c=n(18);n(6)("socket.io-client");e.exports=t=r;var l=t.managers={};t.protocol=o.protocol,t.connect=r,t.Manager=n(18),t.Socket=n(43)},function(t,e,n){(function(o){function e(e,t){var n=e;t=t||o.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==t?t.protocol+"//"+e:"https://"+e),n=i(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}var i=n(5);n(6)("socket.io-client:url");t.exports=e}).call(e,function(){return this}())},function(e){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,p=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function c(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=s.exec(e||""),i={},a=14;a--;)i[p[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}},function(e){"use strict";e.exports=function(){return function(){}}},function(e,s,t){function n(){}function i(e){var t=""+e.type;return s.BINARY_EVENT!==e.type&&s.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}function r(e,o){function t(e){var t=h.deconstructPacket(e),n=i(t.packet),r=t.buffers;r.unshift(n),o(r)}h.removeBlobs(e,t)}function o(){this.reconstructor=null}function a(e){var t=0,n={type:Number(e.charAt(0))};if(null==s.types[n.type])return l("unknown packet type "+n.type);if(s.BINARY_EVENT===n.type||s.BINARY_ACK===n.type){for(var r="";"-"!==e.charAt(++t)&&(r+=e.charAt(t),t!=e.length););if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1))for(n.nsp="";++t;){if(","===(i=e.charAt(t)))break;if(n.nsp+=i,t===e.length)break}else n.nsp="/";var o=e.charAt(t+1);if(""!==o&&Number(o)==o){for(n.id="";++t;){var i;if(null==(i=e.charAt(t))||Number(i)!=i){--t;break}if(n.id+=e.charAt(t),t===e.length)break}n.id=Number(n.id)}if(e.charAt(++t)){var a=p(e.substr(t));if(!(!1!==a&&(n.type===s.ERROR||f(a))))return l("invalid payload");n.data=a}return n}function p(e){try{return JSON.parse(e)}catch(t){return!1}}function c(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:s.ERROR,data:"parser error: "+e}}t(6)("socket.io-parser");var u=t(8),d=t(9),h=t(15),f=t(16),m=t(17);s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=n,s.Decoder=o,n.prototype.encode=function(e,t){(e.type!==s.EVENT&&e.type!==s.ACK||!d(e.data)||(e.type=e.type===s.EVENT?s.BINARY_EVENT:s.BINARY_ACK),s.BINARY_EVENT===e.type||s.BINARY_ACK===e.type)?r(e,t):t([i(e)])},u(o.prototype),o.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),s.BINARY_EVENT===t.type||s.BINARY_ACK===t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(t,e,n){(function(o){function i(e){if(!e||"object"!=typeof e)return!1;if(a(e)){for(var t=0,n=e.length;t<n;t++)if(i(e[t]))return!0;return!1}if("function"==typeof o&&o.isBuffer&&o.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||p&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return i(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&i(e[r]))return!0;return!1}var a=n(14),e=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),p="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);t.exports=i}).call(e,n(10).Buffer)},function(e,et,tt){(function(e){"use strict";function t(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function n(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?l(e,t,n,r):"string"==typeof t?p(e,t,n):d(e,t)}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t,n,r){return o(t),t<=0?i(e,t):n!==undefined?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function s(e,t){if(o(t),e=i(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n),o=(e=i(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}function c(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=n===undefined&&r===undefined?new Uint8Array(t):r===undefined?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=c(e,t),e}function d(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?i(e,0):c(e,t);if("Buffer"===t.type&&X(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e){return+e!=e&&(e=0),u.alloc(+e)}function m(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return z(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,p=e.length,c=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;p/=s=2,c/=2,n/=2}if(o){var l=-1;for(a=n;a<p;a++)if(i(e,a)===i(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(p<n+c&&(n=p-c),a=n;0<=a;a--){for(var u=!0,d=0;d<c;d++)if(i(e,a+d)!==i(t,d)){u=!1;break}if(u)return a}return-1}function C(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?o<(r=Number(r))&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return K(V(t,e.length-n),e,n,r)}function w(e,t,n,r){return K(H(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function _(e,t,n,r){return K($(t),e,n,r)}function T(e,t,n,r){return K(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,p,c=e[o],l=null,u=239<c?4:223<c?3:191<c?2:1;if(o+u<=n)switch(u){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&127<(p=(31&c)<<6|63&i)&&(l=p);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(p=(15&c)<<12|(63&i)<<6|63&a)&&(p<55296||57343<p)&&(l=p);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(p=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)&&p<1114112&&(l=p)}null===l?(l=65533,u=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=u}return N(r)}function N(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function z(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;++i)o+=q(e[i]);return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function j(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||j(e,t,n,4,34028234663852886e22,-34028234663852886e22),Q.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||j(e,t,n,8,17976931348623157e292,-17976931348623157e292),Q.write(e,t,n,r,52,8),n+8}function F(e){if((e=B(e).replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||Infinity;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}function $(e){return Y.toByteArray(F(e))}function K(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e){return e!=e}var Y=tt(11),Q=tt(12),X=tt(13);et.Buffer=u,et.SlowBuffer=f,et.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:t(),et.kMaxLength=n(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return r(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return a(null,e,t,n)},u.allocUnsafe=function(e){return s(null,e)},u.allocUnsafeSlow=function(e){return s(null,e)},u.isBuffer=function ee(e){return!(null==e||!e._isBuffer)},u.compare=function te(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function ne(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function re(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(t===undefined)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function oe(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function ie(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function ae(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function se(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):g.apply(this,arguments)},u.prototype.equals=function pe(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function ce(){var e="",t=et.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function te(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),o===undefined&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),p=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(p[l]!==c[l]){i=p[l],a=c[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function le(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function ue(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function de(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function he(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var o=this.length-t;if((n===undefined||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function fe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;u.prototype.slice=function me(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=t===undefined?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,undefined);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function ge(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function ye(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function ve(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function be(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function Ce(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function xe(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function we(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function Ee(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function _e(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function Te(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function Se(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function Re(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function Ne(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function ke(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function Oe(e,t){return t||I(e,4,this.length),Q.read(this,e,!0,23,4)},u.prototype.readFloatBE=function ze(e,t){return t||I(e,4,this.length),Q.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function Ae(e,t){return t||I(e,8,this.length),Q.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function Ie(e,t){return t||I(e,8,this.length),Q.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function Pe(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function De(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function Me(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function je(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function Le(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function Ue(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function Fe(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function Be(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function qe(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function Ve(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function He(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function We(e,t,n){return e=+e,
t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function $e(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function Ke(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function Ge(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function Ye(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function Qe(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function Xe(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function Je(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function Ze(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var Z=/[^+\/0-9A-Za-z-_]/g}).call(et,function(){return this}())},function(e,t){"use strict";function p(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-p(e)}function r(e){var t,n,r,o,i,a=e.length;o=p(e),i=new d(3*a/4-o),n=0<o?a-4:a;var s=0;for(t=0;t<n;t+=4)r=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],i[s++]=r>>16&255,i[s++]=r>>8&255,i[s++]=255&r;return 2===o?(r=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,i[s++]=255&r):1===o&&(r=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,i[s++]=r>>8&255,i[s++]=255&r),i}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function c(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(a(r));return o.join("")}function o(e){for(var t,n=e.length,r=n%3,o="",i=[],a=16383,s=0,p=n-r;s<p;s+=a)i.push(c(e,s,p<s+a?p:s+a));return 1===r?(t=e[n-1],o+=l[t>>2],o+=l[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=l[t>>10],o+=l[t>>4&63],o+=l[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=n,t.toByteArray=r,t.fromByteArray=o;for(var l=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=i.length;s<h;++s)l[s]=i[s],u[i.charCodeAt(s)]=s;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,p=(1<<s)-1,c=p>>1,l=-7,u=n?o-1:0,d=n?-1:1,h=e[t+u];for(u+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;0<l;i=256*i+e[t+u],u+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+u],u+=d,l-=8);if(0===i)i=1-c;else{if(i===p)return a?NaN:(h?-1:1)*Infinity;a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,p,c=8*i-o-1,l=(1<<c)-1,u=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-a))<1&&(a--,p*=2),2<=(t+=1<=a+u?d/p:d*Math.pow(2,1-u))*p&&(a++,p/=2),l<=a+u?(s=0,a=l):1<=a+u?(s=(t*p-1)*Math.pow(2,o),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),a=0));8<=o;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,n,r){(function(e){function a(e,t){if(!e)return e;if(u(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(l(e)){for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=a(e[o],t);return r}if("object"!=typeof e||e instanceof Date)return e;r={};for(var i in e)r[i]=a(e[i],t);return r}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(l(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=o(e[r],t);return e}var l=r(16),u=r(17),t=Object.prototype.toString,d="function"==typeof e.Blob||"[object BlobConstructor]"===t.call(e.Blob),h="function"==typeof e.File||"[object FileConstructor]"===t.call(e.File);n.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=a(n,t),r.attachments=t.length,{packet:r,buffers:t}},n.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=undefined,e},n.removeBlobs=function(e,a){function s(e,t,n){if(!e)return e;if(d&&e instanceof Blob||h&&e instanceof File){p++;var r=new FileReader;r.onload=function(){n?n[t]=this.result:c=this.result,--p||a(c)},r.readAsArrayBuffer(e)}else if(l(e))for(var o=0;o<e.length;o++)s(e[o],o,e);else if("object"==typeof e&&!u(e))for(var i in e)s(e[i],i,e)}var p=0,c=e;s(c),p||a(c)}}).call(n,function(){return this}())},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(n,e){(function(t){function e(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))}n.exports=e}).call(e,function(){return this}())},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=undefined),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var s=n(19),i=n(43),o=n(44),a=n(7),p=n(46),c=n(47),l=(n(6)("socket.io-client:manager"),n(42)),u=n(48),d=Object.prototype.hasOwnProperty;(e.exports=r).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(n){if(~this.readyState.indexOf("open"))return this;this.engine=s(this.uri,this.opts);var e=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var t=p(e,"open",function(){r.onopen(),n&&n()}),o=p(e,"error",function(e){if(r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var i=this._timeout,a=setTimeout(function(){t.destroy(),e.close(),e.emit("error","timeout"),r.emitAll("connect_timeout",i)},i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(t),this.subs.push(o),this},r.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(p(e,"data",c(this,"ondata"))),this.subs.push(p(e,"ping",c(this,"onping"))),this.subs.push(p(e,"pong",c(this,"onpong"))),this.subs.push(p(e,"error",c(this,"onerror"))),this.subs.push(p(e,"close",c(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~l(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.generateId(e)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(n){var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)r.engine.write(e[t],n.options);r.encoding=!1,r.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):t.onreconnect()}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(t,e,n){(function(r){function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=p(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=p(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===undefined||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof r&&r;n.global===n&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=n(21),e=n(35),a=(n(6)("engine.io-client:socket"),n(42)),s=n(27),p=n(5),c=n(36);(t.exports=u).priorWebsocketSuccess=!1,e(u.prototype),u.protocol=s.protocol,(u.Socket=u).Transport=n(26),u.transports=n(21),u.parser=n(27),u.prototype.createTransport=function(e){var t=o(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},u.prototype.probe=function(e){function t(){if(l.onlyBinaryUpgrades){var e=!this.supportsBinary&&l.transport.supportsBinary;c=c||e}c||(p.send([{type:"ping",data:"probe"}]),p.once("packet",function(e){if(!c)if("pong"===e.type&&"probe"===e.data){if(l.upgrading=!0,l.emit("upgrading",p),!p)return;u.priorWebsocketSuccess="websocket"===p.name,l.transport.pause(function(){c||"closed"!==l.readyState&&(s(),l.setTransport(p),p.send([{type:"upgrade"}]),l.emit("upgrade",p),p=null,l.upgrading=!1,l.flush())})}else{var t=new Error("probe error");t.transport=p.name,l.emit("upgradeError",t)}}))}function n(){c||(c=!0,s(),p.close(),p=null)}function r(e){var t=new Error("probe error: "+e);t.transport=p.name,n(),l.emit("upgradeError",t)}function o(){r("transport closed")}function i(){r("socket closed")}function a(e){p&&e.name!==p.name&&n()}function s(){p.removeListener("open",t),p.removeListener("error",r),p.removeListener("close",o),l.removeListener("close",i),l.removeListener("upgrading",a)}var p=this.createTransport(e,{probe:1}),c=!1,l=this;u.priorWebsocketSuccess=!1,p.once("open",t),p.once("error",r),p.once("close",o),this.once("close",i),this.once("upgrading",a),p.open()},u.prototype.onOpen=function(){if(this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=undefined),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){function e(){r.onClose("forced close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},u.prototype.onError=function(e){u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(e,function(){return this}())},function(e,n,r){(function(a){function e(e){var t=!1,n=!1,r=!1!==e.jsonp;if(a.location){var o="https:"===location.protocol,i=location.port;i||(i=o?443:80),t=e.hostname!==location.hostname||i!==e.port,n=e.secure!==o}if(e.xdomain=t,e.xscheme=n,"open"in new s(e)&&!e.forceJSONP)return new p(e);if(!r)throw new Error("JSONP disabled");return new c(e)}var s=r(22),p=r(24),c=r(39),t=r(40);n.polling=e,n.websocket=t}).call(n,function(){return this}())},function(e,t,n){(function(i){var a=n(23);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(o){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(c,e,l){(function(i){function n(){}function e(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,i.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==i.location.hostname||n!==e.port,this.xs=e.secure!==t}}function a(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function t(){for(var e in a.requests)a.requests.hasOwnProperty(e)&&a.requests[e].abort()}var s=l(22),r=l(25),o=l(35),p=l(37);l(6)("engine.io-client:polling-xhr");c.exports=e,c.exports.Request=a,p(e,r),e.prototype.supportsBinary=!0,e.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new a(e)},e.prototype.doWrite=function(e,t){var n="string"!=typeof e&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},e.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},t.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}i.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},a.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},a.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}i.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},a.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},a.requestsCount=0,a.requests={},i.document&&(i.attachEvent?i.attachEvent("onunload",t):i.addEventListener&&i.addEventListener("beforeunload",t,!1))}).call(e,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=n(26),i=n(36),a=n(27),s=n(37),p=n(38);n(6)("engine.io-client:polling");e.exports=r;var c=null!=new(n(22))({xdomain:!1}).responseType;s(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()},r.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this,n=function(e){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},r.prototype.doClose=function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=p()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=n(27);n(35)((e.exports=r).prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,x,r){(function(c){function a(e,t){return t("b"+x.packets[e.type]+e.data.data)}function s(e,t,n){if(!t)return x.encodeBase64Packet(e,n);var r=e.data,o=new Uint8Array(r),i=new Uint8Array(1+r.byteLength);i[0]=y[e.type];for(var a=0;a<o.length;a++)i[a+1]=o[a];return n(i.buffer)}function o(e,t,n){if(!t)return x.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,x.encodePacket(e,t,!0,n)},r.readAsArrayBuffer(e.data)}function p(e,t,n){if(!t)return x.encodeBase64Packet(e,n);if(g)return o(e,t,n);var r=new Uint8Array(1);return r[0]=y[e.type],n(new C([r.buffer,e.data]))}function i(e){try{e=m.decode(e,{strict:!1})}catch(t){return!1}return e}function l(e,t,n){for(var o=new Array(e.length),r=f(e.length,n),i=function(n,e,r){t(e,function(e,t){o[n]=t,r(e,o)})},a=0;a<e.length;a++)i(a,e[a],r)}var u,e=r(28),d=r(9),h=r(29),f=r(30),m=r(31);c&&c.ArrayBuffer&&(u=r(33));var t="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),n="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=t||n;x.protocol=3;var y=x.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=e(y),b={type:"error",data:"parser error"},C=r(34);x.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var o=e.data===undefined?undefined:e.data.buffer||e.data;if(c.ArrayBuffer&&o instanceof ArrayBuffer)return s(e,t,r);if(C&&o instanceof c.Blob)return p(e,t,r);if(o&&o.base64)return a(e,r);var i=y[e.type];return undefined!==e.data&&(i+=n?m.encode(String(e.data),{strict:!1}):String(e.data)),r(""+i)},x.encodeBase64Packet=function(e,t){var n,r="b"+x.packets[e.type];if(C&&e.data instanceof c.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];t(r+e)},o.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(p){for(var i=new Uint8Array(e.data),a=new Array(i.length),s=0;s<i.length;s++)a[s]=i[s];n=String.fromCharCode.apply(null,a)}return r+=c.btoa(n),t(r)},x.decodePacket=function(e,t,n){if(e===undefined)return b;if("string"==typeof e){if("b"===e.charAt(0))return x.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=i(e)))return b;var r=e.charAt(0);return Number(r)==r&&v[r]?1<e.length?{type:v[r],data:e.substring(1)}:{type:v[r]}:b}r=new Uint8Array(e)[0];var o=h(e,1);return C&&"blob"===t&&(o=new C([o])),{type:v[r],data:o}},x.decodeBase64Packet=function(e,t){var n=v[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=u.decode(e.substr(1));return"blob"===t&&C&&(r=new C([r])),{type:n,data:r}},x.encodePayload=function(e,n,r){function o(e){return e.length+":"+e}function t(e,t){x.encodePacket(e,!!i&&n,!1,function(e){t(null,o(e))})}"function"==typeof n&&(r=n,n=null);var i=d(e);return n&&i?C&&!g?x.encodePayloadAsBlob(e,r):x.encodePayloadAsArrayBuffer(e,r):e.length?void l(e,t,function(e,t){return r(t.join(""))}):r("0:")},x.decodePayload=function(e,t,n){if("string"!=typeof e)return x.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""===e)return n(b,0,1);for(var o,i,a="",s=0,p=e.length;s<p;s++){var c=e.charAt(s);if(":"===c){if(""===a||a!=(o=Number(a)))return n(b,0,1);if(a!=(i=e.substr(s+1,o)).length)return n(b,0,1);if(i.length){if(r=x.decodePacket(i,t,!1),
b.type===r.type&&b.data===r.data)return n(b,0,1);if(!1===n(r,s+o,p))return}s+=o,a=""}else a+=c}return""!==a?n(b,0,1):void 0},x.encodePayloadAsArrayBuffer=function(e,r){function t(e,t){x.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return r(new ArrayBuffer(0));l(e,t,function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),a=new Uint8Array(n),s=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}a[s++]=t?0:1;var i=n.byteLength.toString();for(o=0;o<i.length;o++)a[s++]=parseInt(i[o]);a[s++]=255;for(r=new Uint8Array(n),o=0;o<r.length;o++)a[s++]=r[o]}),r(a.buffer)})},x.encodePayloadAsBlob=function(e,n){function t(e,s){x.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)i[r]=parseInt(o[r]);if(i[o.length]=255,C){var a=new C([t.buffer,i.buffer,e]);s(null,a)}})}l(e,t,function(e,t){return n(new C(t))})},x.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var t=e,o=[];0<t.byteLength;){for(var i=new Uint8Array(t),a=0===i[0],s="",p=1;255!==i[p];p++){if(310<s.length)return r(b,0,1);s+=i[p]}t=h(t,2+s.length),s=parseInt(s);var c=h(t,0,s);if(a)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch(d){var l=new Uint8Array(c);c="";for(p=0;p<l.length;p++)c+=String.fromCharCode(l[p])}o.push(c),t=h(t,s)}var u=o.length;o.forEach(function(e,t){r(x.decodePacket(e,n,!0),t,u)})}}).call(x,function(){return this}())},function(e){e.exports=Object.keys||function o(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),r<n&&(n=r),r<=t||n<=t||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(e){function t(e,n,r){function o(e,t){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,n(e),n=r):0!==o.count||i||n(null,t)}var i=!1;return r=r||a,0===(o.count=e)?n():o}function a(){}e.exports=t},function(e,v,b){var C;(function(g,y){!function(){function s(e){for(var t,n,r=[],o=0,i=e.length;o<i;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,o="";++r<n;)65535<(t=e[r])&&(o+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=f(t);return o}function r(e,t){if(55296<=e&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(e,t){return f(e>>t&63|128)}function p(e,t){if(0==(4294967168&e))return f(e);var n="";return 0==(4294965248&e)?n=f(e>>6&31|192):0==(4294901760&e)?(r(e,t)||(e=65533),n=f(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=f(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+=f(63&e|128)}function e(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),o=r.length,i=-1,a="";++i<o;)a+=p(r[i],n);return a}function a(){if(d<=h)throw Error("Invalid byte index");var e=255&u[h];if(h++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(e){var t,n;if(d<h)throw Error("Invalid byte index");if(h==d)return!1;if(t=255&u[h],h++,0==(128&t))return t;if(192==(224&t)){if(128<=(n=(31&t)<<6|a()))return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(n=(15&t)<<12|a()<<6|a()))return r(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(n=(7&t)<<18|a()<<12|a()<<6|a())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function t(e,t){var n=!1!==(t=t||{}).strict;u=s(e),d=u.length,h=0;for(var r,o=[];!1!==(r=c(n));)o.push(r);return i(o)}var n="object"==typeof v&&v,l=("object"==typeof g&&g&&g.exports,"object"==typeof y&&y);l.global!==l&&l.window;var u,d,h,f=String.fromCharCode,m={version:"2.1.2",encode:e,decode:t};(C=function(){return m}.call(v,b,v,g))===undefined||(g.exports=C)}()}).call(v,b(32)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256),e=0;e<i.length;e++)u[i.charCodeAt(e)]=e;t.encode=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=i[n[t]>>2],o+=i[(3&n[t])<<4|n[t+1]>>4],o+=i[(15&n[t+1])<<2|n[t+2]>>6],o+=i[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=u[e.charCodeAt(t)],r=u[e.charCodeAt(t+1)],o=u[e.charCodeAt(t+2)],i=u[e.charCodeAt(t+3)],l[p++]=n<<2|r>>4,l[p++]=(15&r)<<4|o>>2,l[p++]=(3&o)<<6|63&i;return c}}()},function(p,e){(function(e){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function t(e,t){t=t||{};var n=new i;o(e);for(var r=0;r<e.length;r++)n.append(e[r]);return t.type?n.getBlob(t.type):n.getBlob()}function n(e,t){return o(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),s=i&&i.prototype.append&&i.prototype.getBlob;p.exports=r?a?e.Blob:n:s?t:undefined}).call(e,function(){return this}())},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){for(var t="";t=i[e%a]+t,0<(e=Math.floor(e/a)););return t}function n(e){var t=0;for(c=0;c<e.length;c++)t=t*a+s[e.charAt(c)];return t}function r(){var e=t(+new Date);return e!==o?(p=0,o=e):e+"."+t(p++)}for(var o,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},p=0,c=0;c<a;c++)s[i[c]]=c;r.encode=t,r.decode=n,e.exports=r},function(a,e,s){(function(n){function r(){}function e(e){o.call(this,e),this.query=this.query||{},i||(n.___eio||(n.___eio=[]),i=n.___eio),this.index=i.length;var t=this;i.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var o=s(25),t=s(37);a.exports=e;var i,l=/\n/g,u=/\\n/g;t(e,o),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},e.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},e.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(t){(i=document.createElement("iframe")).name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=p,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(u,e,d){(function(a){function e(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(c=t),n.call(this,e)}var t,n=d(26),s=d(27),r=d(36),o=d(37),i=d(38),p=(d(6)("engine.io-client:websocket"),a.WebSocket||a.MozWebSocket);if("undefined"==typeof window)try{t=d(41)}catch(l){}var c=p;c||"undefined"!=typeof window||(c=t),o(u.exports=e,n),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new c(e,t):new c(e):new c(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},e.prototype.write=function(e){function r(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}var o=this;this.writable=!1;for(var i=e.length,t=0,n=i;t<n;t++)!function(n){s.encodePacket(n,o.supportsBinary,function(e){if(!o.usingBrowserWebSocket){var t={};if(n.options&&(t.compress=n.options.compress),o.perMessageDeflate)("string"==typeof e?a.Buffer.byteLength(e):e.length)<o.perMessageDeflate.threshold&&(t.compress=!1)}try{o.usingBrowserWebSocket?o.ws.send(e):o.ws.send(e,t)}catch(l){}--i||r()})}(e[t])},e.prototype.onClose=function(){n.prototype.onClose.call(this)},e.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},e.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=i()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},e.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===e.prototype.name)}}).call(e,function(){return this}())},function(){},function(e){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=n(7),i=n(44),a=n(45),s=n(46),p=n(47),c=(n(6)("socket.io-client:socket"),n(36));e.exports=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",p(this,"onopen")),s(e,"packet",p(this,"onpacket")),s(e,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(l.hasOwnProperty(e))return u.apply(this,arguments),this;var t=a(arguments),n={type:o.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(t){var n=this,r=!1;return function(){if(!r){r=!0;var e=a(arguments);n.packet({type:o.ACK,id:t,data:e})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&this.packet({type:o.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){function t(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=t},function(e){function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=t).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=n(50),l=n(51),o=function(){function n(e,t){p(this,n),this.name=e,this.socked=t,this.subscribed=!1,this.subscriptionPending=!1,this.user={},this.users=new l(this)}return c(n,[{key:"isPresence",value:function e(){return 0===this.name.indexOf("presence-")}},{key:"authorize",value:function o(t){var n=new XMLHttpRequest,e=this.socked.options.authUrl+"?app="+encodeURIComponent(this.socked.appId)+"&channel="+encodeURIComponent(this.name)+"&socket_id="+encodeURIComponent(this.socked._socket.id);if(this.socked.options.auth&&this.socked.options.auth.params)for(var r in this.socked.options.auth.params)e+="&"+encodeURIComponent(r)+"="+encodeURIComponent("function"==typeof this.socked.options.auth.params[r]?this.socked.options.auth.params[r]():this.socked.options.auth.params[r]);n.open("GET",e,!0),n.onload=function(){if(200<=n.status&&n.status<400){var e=JSON.parse(n.responseText);e&&!e.error?t(null,e.sig,e.user):t({code:401,error:"Authentication error."})}else t({code:n.status,error:"Authentication error."})},n.send()}},{key:"subscribe",value:function t(){var r=this;if(!this.subscribed&&!this.subscriptionPending){if(!this.socked.connected)throw"Socked is not connected.";this.subscriptionPending=!0,this.authorize(function(e,t,n){e?r.subscriptionPending=!1:(r.socked.trigger("subscribe",{user:n},r.name,t),r.socked.options&&r.socked.options.auth&&r.socked.options.auth.callback&&r.socked.options.auth.callback(n))})}}},{key:"unsubscribe",value:function r(){this.subscriptionPending=!1,this.subscribed&&(this.subscribed=!1,this.users.clear(),this.socked.trigger("unsubscribe",null,this.name))}},{key:"handleEvent",value:function i(e){0===e.event.indexOf("internal:")?"internal:subscription_success"===e.event?(this.subscriptionPending=!1,this.subscribed=!0,this.user=e.user,e.users&&(this.users.clear(),this.users.addUsers(e.users))):"internal:subscription_error"===e.event&&(this.subscriptionPending=!1,this.subscribed=!1):"subscribed_channel"==e.event?this.users.addUser(e.user):"unsubscribed_channel"==e.event&&this.users.removeUser(e.user),this.emit(e.event,e)}},{key:"trigger",value:function a(e,t,n){if(!this.subscribed)throw new Error("Unable to send message. Channel '"+this.name+"' is not subscribed.");if(0!==e.indexOf("client-")&&0!==e.indexOf("private-"))throw new Error("Unable to send message. Event name must begin with 'client-' or 'private-'.");this.socked.trigger(e,t,this.name,null,n)}},{key:"event",value:function s(e,t){if(!this.subscribed)throw new Error("Unable to send event. Channel '"+this.name+"' is not subscribed.");var n=JSON.parse(JSON.stringify(t));n.event=e,this.socked.trigger("event",n,this.name)}}]),n}();r(o.prototype),e.exports=o},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),c=n(52),r=function(){function t(e){s(this,t),this.channel=e,this.users={}}return p(t,[{key:"addUsers",value:function n(e){this.users=c(this.users,e||{})}},{key:"addUser",value:function r(e){this.users[e.id]=e}},{key:"getUsers",value:function e(){var t=this;return Object.keys(this.users).map(function(e){return t.users[e]})}},{key:"removeUser",value:function o(e){delete this.users[e.id]}},{key:"count",value:function i(){return Object.keys(this.users).length}},{key:"clear",value:function a(){this.users={}}}]),t}();e.exports=r},function(e){"use strict";function s(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}var p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=t()?Object.assign:function(e){for(var t,n,r=s(e),o=1;o<arguments.length;o++){for(var i in t=Object(arguments[o]))c.call(t,i)&&(r[i]=t[i]);if(p){n=p(t);for(var a=0;a<n.length;a++)l.call(t,n[a])&&(r[n[a]]=t[n[a]])}}return r}}])});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_get=function get(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(s!==undefined){if("value"in s)return s.value;var p=s.get;return p===undefined?undefined:p.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return undefined;e=c,t=i,n=a,r=!0,s=c=undefined}},GLOBAL="undefined"==typeof window?global:window,setter=function(r,o,i){return function(e,t){var n=r(function(){o.call(this,n),e.apply(this,arguments)}.bind(this),t);return this[i]?this[i].push(n):this[i]=[n],n}},clearer=function(n,r){return function(e){if(this[r]){var t=this[r].indexOf(e);-1!==t&&this[r].splice(t,1)}n(e)}},_timeouts="TimerMixin_timeouts",_clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts),_setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts),_intervals="TimerMixin_intervals",_clearInterval=clearer(GLOBAL.clearInterval,_intervals),_setInterval=setter(GLOBAL.setInterval,function(){},_intervals),_immediates="TimerMixin_immediates",_clearImmediate=clearer(GLOBAL.clearImmediate,_immediates),_setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates),_rafs="TimerMixin_rafs",_cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs),_requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs),TimerMixin={componentWillUnmount:function(){this[_timeouts]&&this[_timeouts].forEach(function(e){GLOBAL.clearTimeout(e)}),this[_timeouts]=null,this[_intervals]&&this[_intervals].forEach(function(e){GLOBAL.clearInterval(e)}),this[_intervals]=null,this[_immediates]&&this[_immediates].forEach(function(e){GLOBAL.clearImmediate(e)}),this[_immediates]=null,this[_rafs]&&this[_rafs].forEach(function(e){GLOBAL.cancelAnimationFrame(e)}),this[_rafs]=null},setTimeout:_setTimeout,clearTimeout:_clearTimeout,setInterval:_setInterval,clearInterval:_clearInterval,setImmediate:_setImmediate,clearImmediate:_clearImmediate,requestAnimationFrame:_requestAnimationFrame,cancelAnimationFrame:_cancelAnimationFrame};!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,function(){return function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o={};return r.m=n,r.c=o,r.p="",r(0)}([function(e,t,n){"use strict";e.exports.Dispatcher=n(1)},function(e,t,n){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var l=n(2),u="ID_",r=function(){function e(){c(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function n(e){var t=u+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function t(e){this._callbacks[e]?undefined:l(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function r(e){this._isDispatching?undefined:l(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?undefined:l(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]?undefined:l(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function o(e){this._isDispatching?l(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):undefined,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function i(){return this._isDispatching},e.prototype._invokeCallback=function a(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function s(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function p(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e){"use strict";function t(e,t,n,r,o,i,a,s){if(t===undefined)throw new Error("invariant requires an error message argument");if(!e){var p;if(t===undefined)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}e.exports=t}])}),"function"==typeof Node&&Node.prototype&&function(){var t=Node.prototype.removeChild;Node.prototype.removeChild=function(e){return e.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",e,this),e):t.apply(this,arguments)};var n=Node.prototype.insertBefore;Node.prototype.insertBefore=function(e,t){return t&&t.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",t,this),e):n.apply(this,arguments)}}(),window._ReactOriginal=window.React||null,window._ReactDOMOriginal=window.ReactDOM||null,window._createReactClassOriginal=window.createReactClass||null,window._PropTypesOriginal=window.PropTypes||null,function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o={};r.m=n,r.c=o,r.p="",r(0)}([function(e,t,n){var r=n(4),o=n(23),i=n(7),a=n(9);window.React=r,window.ReactDOM=o,window.createReactClass=i,window.PropTypes=a},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,n,r,o,i,a,s){if(u(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}var u=function(){};e.exports=t},function(e){"use strict";function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=t()?Object.assign:function(e){for(var t,n,r=s(e),o=1;o<arguments.length;o++){for(var i in t=Object(arguments[o]))c.call(t,i)&&(r[i]=t[i]);if(p){n=p(t);for(var a=0;a<n.length;a++)l.call(t,n[a])&&(r[n[a]]=t[n[a]])}}return r}},function(e,t,n){"use strict";e.exports=n(11)},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},
e.exports=n},function(e,t,n){"use strict";function C(e){return e}function r(e,c,i){function l(e,t){var n=f.hasOwnProperty(t)?f[t]:null;o.hasOwnProperty(t)&&E("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&E("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function r(e,t){if(t){E("function"!=typeof t,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),E(!c(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,r=n.__reactAutoBindPairs;for(var o in t.hasOwnProperty(_)&&g.mixins(e,t.mixins),t)if(t.hasOwnProperty(o)&&o!==_){var i=t[o],a=n.hasOwnProperty(o);if(l(a,o),g.hasOwnProperty(o))g[o](e,i);else{var s=f.hasOwnProperty(o);if("function"==typeof i&&!s&&!a&&!1!==t.autobind)r.push(o,i),n[o]=i;else if(a){var p=f[o];E(s&&("DEFINE_MANY_MERGED"===p||"DEFINE_MANY"===p),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,o),"DEFINE_MANY_MERGED"===p?n[o]=u(n[o],i):"DEFINE_MANY"===p&&(n[o]=d(n[o],i))}else n[o]=i}}}}function n(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(E(!(n in g),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var o=m.hasOwnProperty(n)?m[n]:null;return E("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=u(e[n],r))}e[n]=r}}}function a(e,t){for(var n in E(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(E(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function u(r,o){return function(){var e=r.apply(this,arguments),t=o.apply(this,arguments);if(null==e)return t;if(null==t)return e;var n={};return a(n,e),a(n,t),n}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function s(e,t){return t.bind(e)}function p(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=s(e,o)}}function t(e){var o=C(function(e,t,n){this.__reactAutoBindPairs.length&&p(this),this.props=e,this.context=t,this.refs=w,this.updater=n||i,this.state=null;var r=this.getInitialState?this.getInitialState():null;E("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",o.displayName||"ReactCompositeComponent"),this.state=r});for(var t in o.prototype=new b,(o.prototype.constructor=o).prototype.__reactAutoBindPairs=[],h.forEach(r.bind(null,o)),r(o,y),r(o,e),r(o,v),o.getDefaultProps&&(o.defaultProps=o.getDefaultProps()),E(o.prototype.render,"createClass(...): Class specification must implement a `render` method."),f)o.prototype[t]||(o.prototype[t]=null);return o}var h=[],f={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},m={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=x({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=x({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=x({},e.propTypes,t)},statics:function(e,t){n(e,t)},autobind:function(){}},y={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},o={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return x(b.prototype,e.prototype,o),t}var x=n(3),w=n(1),E=n(2),_="mixins";e.exports=r},function(e,t,n){"use strict";var r=n(4),o=n(6);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},function(e,t,n){"use strict";function r(){}var s=n(10);e.exports=function(){function e(e,t,n,r,o,i){if(i!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){e.exports=n(8)()},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function l(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);v(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||A}function o(){}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||A}function a(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)D.call(t,r)&&!M.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var p=Array(s),c=0;c<s;c++)p[c]=arguments[c+2];o.children=p}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:w,type:e,key:i,ref:a,props:o,_owner:P.current}}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function p(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function c(e,t,n,r){if(L.length){var o=L.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,L.length<10&&L.push(e)}function d(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case w:case E:i=!0}}if(i)return n(r,e,""===t?"."+h(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+h(o=e[a],a);i+=d(o,s,n,r)}else if(null==e?s=null:s="function"==typeof(s=z&&e[z]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(o=e.next()).done;)i+=d(o=o.value,s=t+h(o,a++),n,r);else"object"===o&&l("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?p(e.key):t.toString(36)}function f(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,C.thatReturnsArgument):null!=e&&(s(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function g(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(j,"$&/")+"/"),t=c(t,i,r,o),null==e||d(e,"",m,t),u(t)}var y=n(3),v=n(2),b=n(1),C=n(5),x="function"==typeof Symbol&&Symbol["for"],w=x?Symbol["for"]("react.element"):60103,E=x?Symbol["for"]("react.portal"):60106,_=x?Symbol["for"]("react.fragment"):60107,T=x?Symbol["for"]("react.strict_mode"):60108,S=x?Symbol["for"]("react.profiler"):60114,R=x?Symbol["for"]("react.provider"):60109,N=x?Symbol["for"]("react.context"):60110,k=x?Symbol["for"]("react.async_mode"):60111,O=x?Symbol["for"]("react.forward_ref"):60112;x&&Symbol["for"]("react.timeout");var z="function"==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&l("85"),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=r.prototype;var I=i.prototype=new o;I.constructor=i,y(I,r.prototype),I.isPureReactComponent=!0;var P={current:null},D=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,L=[],U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=c(null,null,t,n),null==e||d(e,"",f,t),void u(t))},count:function(e){return null==e?0:d(e,"",C.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,C.thatReturnsArgument),t},only:function(e){return s(e)||l("143"),e}},createRef:function(){return{current:null}},Component:r,PureComponent:i,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:N,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:R,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:O,render:e}},Fragment:_,StrictMode:T,unstable_AsyncMode:k,unstable_Profiler:S,createElement:a,cloneElement:function(e,t,n){null==e&&l("267",e);var r=void 0,o=y({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=P.current),void 0!==t.key&&(i=""+t.key);var p=void 0;for(r in e.type&&e.type.defaultProps&&(p=e.type.defaultProps),t)D.call(t,r)&&!M.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==p?p[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){p=Array(r);for(var c=0;c<r;c++)p[c]=arguments[c+2];o.children=p}return{$$typeof:w,type:e.type,key:i,ref:a,props:o,_owner:s}},createFactory:function(e){var t=a.bind(null,e);return t.type=e,t},isValidElement:s,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:y}},F={"default":U},B=F&&U||F;e.exports=B["default"]?B["default"]:B},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(18);e.exports=r},function(e){"use strict";function t(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,,function(e){"use strict";function t(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(17);e.exports=r},,function(e){"use strict";function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function t(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!a.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=t},,function(e,t,n){"use strict";function j(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Pr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(e,t,n){this._hasCaughtError=!1,this._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function o(){if(Vr._hasRethrowError){var e=Vr._rethrowError;throw Vr._rethrowError=null,Vr._hasRethrowError=!1,e}}function i(){if(Hr)for(var e in Wr){var t=Wr[e],n=Hr.indexOf(e);if(-1<n||j("96",e),!$r[n])for(var r in t.extractEvents||j("97",e),n=($r[n]=t).eventTypes){var o=void 0,i=n[r],a=t,s=r;Kr.hasOwnProperty(s)&&j("99",s);var p=(Kr[s]=i).phasedRegistrationNames;if(p){for(o in p)p.hasOwnProperty(o)&&c(p[o],a,s);o=!0}else i.registrationName?(c(i.registrationName,a,s),o=!0):o=!1;o||j("98",r,e)}}}function c(e,t,n){Gr[e]&&j("100",e),Gr[e]=t,Yr[e]=t.eventTypes[n].dependencies}function a(e){Hr&&j("101"),Hr=Array.prototype.slice.call(e),i()}function s(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];Wr.hasOwnProperty(t)&&Wr[t]===r||(Wr[t]&&j("102",t),Wr[t]=r,n=!0)}n&&i()}function p(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),Vr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function l(e,t){return null==t&&j("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function u(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function d(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)p(e,t,n[o],r[o]);else n&&p(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function h(e){return d(e,!0)}function f(e){return d(e,!1)}function m(e,t){var n=e.stateNode;if(!n)return null;var r=Xr(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&j("231",t,typeof n),n)}function g(e,t){null!==e&&(eo=l(eo,e)),e=eo,eo=null,e&&(u(e,t?h:f),eo&&j("95"),Vr.rethrowCaughtError())}function y(e,t,n,r){for(var o=null,i=0;i<$r.length;i++){var a=$r[i];a&&(a=a.extractEvents(e,t,n,r))&&(o=l(o,a))}g(o,!1)}function v(e){if(e[oo])return e[oo];for(;!e[oo];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[oo]).tag||6===e.tag?e:null}function b(e){return 5===e.tag||6===e.tag?e.stateNode:void j("33")}function C(e){return e[io]||null}function x(e){for(;(e=e["return"])&&5!==e.tag;);return e||null}function w(e,t,n){for(var r=[];e;)r.push(e),e=x(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function E(e,t,n){(t=m(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=l(n._dispatchListeners,t),n._dispatchInstances=l(n._dispatchInstances,e))}function _(e){e&&e.dispatchConfig.phasedRegistrationNames&&w(e._targetInst,E,e)}function T(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;w(t=t?x(t):null,E,e)}}function S(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=m(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=l(n._dispatchListeners,t),n._dispatchInstances=l(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.registrationName&&S(e._targetInst,null,e)}function N(e){u(e,_)}function k(e,t,n,r){if(n&&r)e:{for(var o=n,i=r,a=0,s=o;s;s=x(s))a++;s=0;for(var p=i;p;p=x(p))s++;for(;0<a-s;)o=x(o),a--;for(;0<s-a;)i=x(i),s--;for(;a--;){if(o===i||o===i.alternate)break e;o=x(o),i=x(i)}o=null}else o=null;for(i=o,o=[];n&&n!==i&&(null===(a=n.alternate)||a!==i);)o.push(n),n=x(n);for(n=[];r&&r!==i&&(null===(a=r.alternate)||a!==i);)n.push(r),r=x(r);for(r=0;r<o.length;r++)S(o[r],"bubbled",e);for(e=n.length;0<e--;)S(n[e],"captured",t)}function O(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function z(e){if(co[e])return co[e];if(!po[e])return e;var t,n=po[e];for(t in n)if(n.hasOwnProperty(t)&&t in lo)return co[e]=n[t];return e}function L(){return!yo&&Mr.canUseDOM&&(yo="textContent"in document.documentElement?"textContent":"innerText"),yo}function A(){if(vo._fallbackText)return vo._fallbackText;var e,t,n=vo._startText,r=n.length,o=I(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return vo._fallbackText=o.slice(e,1<t?1-t:void 0),vo._fallbackText}function I(){return"value"in vo._root?vo._root.value:vo._root[L()]}function P(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Lr.thatReturnsTrue:Lr.thatReturnsFalse,this.isPropagationStopped=Lr.thatReturnsFalse,this}function D(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function M(e){e instanceof this||j("223"),e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function U(e){e.eventPool=[],e.getPooled=D,e.release=M}function F(e,t){switch(e){case"keyup":return-1!==Eo.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function B(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function q(e,t){switch(e){case"compositionend":return B(t);case"keypress":return 32!==t.which?null:(Oo=!0,No);case"textInput":return(e=t.data)===No&&Oo?null:e;default:return null}}function V(e,t){if(zo)return"compositionend"===e||!_o&&F(e,t)?(e=A(),vo._root=null,vo._startText=null,vo._fallbackText=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t["char"]&&1<t["char"].length)return t["char"];if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ro?null:t.data;default:return null}}function H(e){if(e=Jr(e)){Io&&"function"==typeof Io.restoreControlledState||j("194");var t=Xr(e.stateNode);Io.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Do?Mo?Mo.push(e):Mo=[e]:Do=e}function $(){return null!==Do||null!==Mo}function K(){if(Do){var e=Do,t=Mo;if(Mo=Do=null,H(e),t)for(e=0;e<t.length;e++)H(t[e])}}function G(e,t){return e(t)}function Y(e,t,n){return e(t,n)}function Q(){}function X(e,t){if(Lo)return e(t);Lo=!0;try{return G(e,t)}finally{Lo=!1,$()&&(Q(),K())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Uo[e.type]:"textarea"===t}function Z(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Mr.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ie(e){return null==e?null:"function"==typeof(e=Jo&&e[Jo]||e["@@iterator"])?e:null}function ae(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yo:return"AsyncMode";case Go:return"Context.Consumer";case Ho:return"ReactFragment";case Vo:return"ReactPortal";case $o:return"Profiler("+e.pendingProps.id+")";case Ko:return"Context.Provider";case Wo:return"StrictMode";case Xo:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case Qo:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,o=ae(e),i=null;n&&(i=ae(n)),o="\n    in "+(o||"Unknown")+((n=r)?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":i?" (created by "+i+")":"");break e;default:o=""}t+=o,e=e["return"]}while(e);return t}function pe(e){return!!ei.call(ni,e)||!ei.call(ti,e)&&(Zo.test(e)?ni[e]=!0:!(ti[e]=!0))}function ce(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function le(e,t,n,r){if(null==t||ce(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function ue(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,n,r){var o=ri.hasOwnProperty(t)?ri[t]:null;(null!==o?0===o.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(le(t,n,o,r)&&(n=null),r||null===o?pe(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function fe(e,t){var n=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function me(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ce(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ge(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ye(e,t){ge(e,t);var n=Ce(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?be(e,t.type,n):t.hasOwnProperty("defaultValue")&&be(e,t.type,Ce(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ve(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function be(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function xe(e,t,n){return(e=P.getPooled(ii.change,e,t,n)).type="change",W(n),N(e),e}function we(e){g(e,!1)}function Ee(e){if(oe(b(e)))return e}function _e(e,t){if("change"===e)return t}function Te(){ai&&(ai.detachEvent("onpropertychange",Se),si=ai=null)}function Se(e){"value"===e.propertyName&&Ee(si)&&X(we,e=xe(si,e,Z(e)))}function Re(e,t,n){"focus"===e?(Te(),si=n,(ai=t).attachEvent("onpropertychange",Se)):"blur"===e&&Te()}function Ne(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ee(si)}function ke(e,t){if("click"===e)return Ee(t)}function Oe(e,t){if("input"===e||"change"===e)return Ee(t)}function ze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ui[e])&&!!t[e]}function Ae(){return ze}function Ie(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(0!=(2&(t=t["return"]).effectTag))return 1}return 3===t.tag?2:3}function Pe(e){2!==Ie(e)&&j("188")}function De(e){var t=e.alternate;if(!t)return 3===(t=Ie(e))&&j("188"),1===t?null:e;for(var n=e,r=t;;){var o=n["return"],i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var a=o.child;a;){if(a===n)return Pe(o),e;if(a===r)return Pe(o),t;a=a.sibling}j("188")}if(n["return"]!==r["return"])n=o,r=i;else{a=!1;for(var s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}a||j("189")}}n.alternate!==r&&j("190")}return 3!==n.tag&&j("188"),n.stateNode.current===n?e:t}function Me(e){if(!(e=De(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child["return"]=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function je(e){if(!(e=De(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t=(t.child["return"]=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function Le(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Ri[e]=t,Ni[n]=t}function Fe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n["return"];)n=n["return"];if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=v(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],y(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Be(e){Ai=!!e}function qe(e,t){if(!t)return null;var n=(Oi(e)?He:We).bind(null,e);t.addEventListener(e,n,!1)}function Ve(e,t){if(!t)return null;var n=(Oi(e)?He:We).bind(null,e);t.addEventListener(e,n,!0)}function He(e,t){Y(We,e,t)}function We(e,t){if(Ai){var n=Z(t);if(null===(n=v(n))||"number"!=typeof n.tag||2===Ie(n)||(n=null),zi.length){var r=zi.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{X(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,zi.length<10&&zi.push(e)}}}function $e(e){return Object.prototype.hasOwnProperty.call(e,Mi)||(e[Mi]=Di++,Pi[e[Mi]]={}),Pi[e[Mi]]}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ge(e,t){var n,r=Ke(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ke(r)}}function Ye(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Qe(e,t){if(qi||null==Ui||Ui!==Ur())return null;var n=Ui;return"selectionStart"in n&&Ye(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Bi&&Fr(Bi,n)?null:(Bi=n,(e=P.getPooled(Li.select,Fi,e,t)).type="select",e.target=Ui,N(e),e)}function Xe(e){var t="";return Dr.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Je(e,t){return e=jr({children:void 0},t),(t=Xe(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&j("91"),jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&j("92"),Array.isArray(t)&&(t.length<=1||j("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function ot(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function it(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?it(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function pt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,i=t[n];o=null==i||"boolean"==typeof i||""===i?"":r||"number"!=typeof i||0===i||ga.hasOwnProperty(o)&&ga[o]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}function ct(e,t,n){t&&(va[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&j("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&j("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||j("61")),null!=t.style&&"object"!=typeof t.style&&j("62",n()))}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ut(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Yr[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":Ve("scroll",e);break;case"focus":case"blur":Ve("focus",e),Ve("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(o,!0)&&Ve(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===go.indexOf(o)&&qe(o,e)}n[o]=!0}}}function dt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ha.html&&(r=it(e)),r===ha.html?"script"===e?((e=n.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ft(e,t,n,r){var o=lt(t,n);switch(t){case"iframe":case"object":qe("load",e);var i=n;break;case"video":case"audio":for(i=0;i<go.length;i++)qe(go[i],e);i=n;break;case"source":qe("error",e),i=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=n;break;case"form":qe("reset",e),qe("submit",e),i=n;break;case"details":qe("toggle",e),i=n;break;case"input":me(e,n),i=fe(e,n),qe("invalid"
,e),ut(r,"onChange");break;case"option":i=Je(e,n);break;case"select":et(e,n),i=jr({},n,{value:void 0}),qe("invalid",e),ut(r,"onChange");break;case"textarea":nt(e,n),i=tt(e,n),qe("invalid",e),ut(r,"onChange");break;default:i=n}ct(t,i,ba);var a,s=i;for(a in s)if(s.hasOwnProperty(a)){var p=s[a];"style"===a?pt(e,p,ba):"dangerouslySetInnerHTML"===a?null!=(p=p?p.__html:void 0)&&ma(e,p):"children"===a?"string"==typeof p?("textarea"!==t||""!==p)&&st(e,p):"number"==typeof p&&st(e,""+p):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Gr.hasOwnProperty(a)?null!=p&&ut(r,a):null!=p&&he(e,a,p,o))}switch(t){case"input":re(e),ve(e,n,!1);break;case"textarea":re(e),ot(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Lr)}}function mt(e,t,n,r,o){var i=null;switch(t){case"input":n=fe(e,n),r=fe(e,r),i=[];break;case"option":n=Je(e,n),r=Je(e,r),i=[];break;case"select":n=jr({},n,{value:void 0}),r=jr({},r,{value:void 0}),i=[];break;case"textarea":n=tt(e,n),r=tt(e,r),i=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}ct(t,r,ba),t=e=void 0;var a=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Gr.hasOwnProperty(e)?i||(i=[]):(i=i||[]).push(e,null));for(e in r){var p=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&p!==s&&(null!=p||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||p&&p.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in p)p.hasOwnProperty(t)&&s[t]!==p[t]&&(a||(a={}),a[t]=p[t])}else a||(i||(i=[]),i.push(e,a)),a=p;else"dangerouslySetInnerHTML"===e?(p=p?p.__html:void 0,s=s?s.__html:void 0,null!=p&&s!==p&&(i=i||[]).push(e,""+p)):"children"===e?s===p||"string"!=typeof p&&"number"!=typeof p||(i=i||[]).push(e,""+p):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Gr.hasOwnProperty(e)?(null!=p&&ut(o,e),i||s===p||(i=[])):(i=i||[]).push(e,p))}return a&&(i=i||[]).push("style",a),i}function gt(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&ge(e,o),lt(n,r),r=lt(n,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?pt(e,s,ba):"dangerouslySetInnerHTML"===a?ma(e,s):"children"===a?st(e,s):he(e,a,s,r)}switch(n){case"input":ye(e,o);break;case"textarea":rt(e,o);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Ze(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?Ze(e,!!o.multiple,o.defaultValue,!0):Ze(e,!!o.multiple,o.multiple?[]:"",!1))}}function yt(e,t,n,r,o){switch(t){case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(r=0;r<go.length;r++)qe(go[r],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"form":qe("reset",e),qe("submit",e);break;case"details":qe("toggle",e);break;case"input":me(e,n),qe("invalid",e),ut(o,"onChange");break;case"select":et(e,n),qe("invalid",e),ut(o,"onChange");break;case"textarea":nt(e,n),qe("invalid",e),ut(o,"onChange")}for(var i in ct(t,n,ba),r=null,n)if(n.hasOwnProperty(i)){var a=n[i];"children"===i?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):Gr.hasOwnProperty(i)&&null!=a&&ut(o,i)}switch(t){case"input":re(e),ve(e,n,!0);break;case"textarea":re(e),ot(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Lr)}return r}function vt(e,t){return e.nodeValue!==t}function bt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ct(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function xt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Et(e){return{current:e}}function _t(e){Ra<0||(e.current=Sa[Ra],Sa[Ra]=null,Ra--)}function Tt(e,t){Sa[++Ra]=e.current,e.current=t}function St(e){return Nt(e)?Oa:Na.current}function Rt(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return 2===e.tag&&null!=e.type.childContextTypes}function kt(e){Nt(e)&&(_t(ka,e),_t(Na,e))}function Ot(e){_t(ka,e),_t(Na,e)}function zt(e,t,n){Na.current!==qr&&j("168"),Tt(Na,t,e),Tt(ka,n,e)}function At(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var o in n=n.getChildContext())o in r||j("108",ae(e)||"Unknown",o);return jr({},t,n)}function It(e){if(!Nt(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||qr,Oa=Na.current,Tt(Na,t,e),Tt(ka,ka.current,e),!0}function Pt(e,t){var n=e.stateNode;if(n||j("169"),t){var r=At(e,Oa);n.__reactInternalMemoizedMergedChildContext=r,_t(ka,e),_t(Na,e),Tt(Na,r,e)}else _t(ka,e);Tt(ka,t,e)}function Dt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this["return"]=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Mt(e,t,n){var r=e.alternate;return null===r?((r=new Dt(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,(r.alternate=e).alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jt(e,t,n){var r=e.type,o=e.key;if(e=e.props,"function"==typeof r)var i=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)i=5;else switch(r){case Ho:return Lt(e.children,t,n,o);case Yo:i=11,t|=3;break;case Wo:i=11,t|=2;break;case $o:return(r=new Dt(15,e,o,4|t)).type=$o,r.expirationTime=n,r;case Xo:i=16,t|=2;break;default:e:{switch("object"==typeof r&&null!==r?r.$$typeof:null){case Ko:i=13;break e;case Go:i=12;break e;case Qo:i=14;break e;default:j("130",null==r?r:typeof r,"")}i=void 0}}return(t=new Dt(i,e,o,t)).type=r,t.expirationTime=n,t}function Lt(e,t,n,r){return(e=new Dt(10,e,r,t)).expirationTime=n,e}function Ut(e,t,n){return(e=new Dt(6,e,null,t)).expirationTime=n,e}function Ft(e,t,n){return(t=new Dt(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bt(e,t,n){return e={current:t=new Dt(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function qt(t){return function(e){try{return t(e)}catch(t){}}}function Vt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);za=qt(function(e){return t.onCommitFiberRoot(n,e)}),Aa=qt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Ht(e){"function"==typeof za&&za(e)}function Wt(e){"function"==typeof Aa&&Aa(e)}function $t(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Gt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Yt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Qt(e,t,n){var r=e.alternate;if(null===r){var o=e.updateQueue,i=null;null===o&&(o=e.updateQueue=$t(e.memoizedState))}else o=e.updateQueue,i=r.updateQueue,null===o?null===i?(o=e.updateQueue=$t(e.memoizedState),i=r.updateQueue=$t(r.memoizedState)):o=e.updateQueue=Kt(i):null===i&&(i=r.updateQueue=Kt(o));null===i||o===i?Yt(o,t,n):null===o.lastUpdate||null===i.lastUpdate?(Yt(o,t,n),Yt(i,t,n)):(Yt(o,t,n),i.lastUpdate=t)}function Xt(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=$t(e.memoizedState):Jt(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Jt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Kt(t)),t}function Zt(e,t,n,r,o,i){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(i,r,o):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(i,r,o):e))break;return jr({},r,o);case 2:Ia=!0}return r}function en(e,t,n,r,o){if(Ia=!1,!(0===t.expirationTime||t.expirationTime>o)){for(var i=(t=Jt(e,t)).baseState,a=null,s=0,p=t.firstUpdate,c=i;null!==p;){var l=p.expirationTime;o<l?(null===a&&(a=p,i=c),(0===s||l<s)&&(s=l)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,(p.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=p:(t.lastEffect.nextEffect=p,t.lastEffect=p))),p=p.next}for(l=null,p=t.firstCapturedUpdate;null!==p;){var u=p.expirationTime;o<u?(null===l&&(l=p,null===a&&(i=c)),(0===s||u<s)&&(s=u)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,(p.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=p:(t.lastCapturedEffect.nextEffect=p,t.lastCapturedEffect=p))),p=p.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=c}}function tn(e,t){"function"!=typeof e&&j("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function on(e){var t=e.type._context;Tt(Ma,t._changedBits,e),Tt(Da,t._currentValue,e),Tt(Pa,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function an(e){var t=Ma.current,n=Da.current;_t(Pa,e),_t(Da,e),_t(Ma,e),(e=e.type._context)._currentValue=n,e._changedBits=t}function sn(e){return e===ja&&j("174"),e}function pn(e,t){Tt(Fa,t,e),Tt(Ua,e,e),Tt(La,ja,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:t=at(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_t(La,e),Tt(La,t,e)}function cn(e){_t(La,e),_t(Ua,e),_t(Fa,e)}function ln(e){Ua.current===e&&(_t(La,e),_t(Ua,e))}function un(e,t,n){var r=e.memoizedState;r=null==(t=t(n,r))?r:jr({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function dn(e,t,n,r,o,i){var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,o,i):!(e.prototype&&e.prototype.isPureReactComponent&&Fr(t,n)&&Fr(r,o))}function hn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function fn(e,t){var n=e.type,r=e.stateNode,o=e.pendingProps,i=St(e);r.props=o,r.state=e.memoizedState,r.refs=qr,r.context=Rt(e,i),null!==(i=e.updateQueue)&&(en(e,i,o,r,t),r.state=e.memoizedState),"function"==typeof(i=e.type.getDerivedStateFromProps)&&(un(e,i,o),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Ba.enqueueReplaceState(r,r.state,null),null!==(i=e.updateQueue)&&(en(e,i,o,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&j("110"),r=n.stateNode),r||j("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs===qr?r.refs={}:r.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&j("148"),n._owner||j("254",e)}return e}function gn(e,t){"textarea"!==e.type&&j("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yn(u){function d(e,t){if(u){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function h(e,t){if(!u)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function f(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Mt(e,t,n)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,u?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return u&&null===e.alternate&&(e.effectTag=2),e}function i(e,t,n,r){return(t=null===t||6!==t.tag?Ut(n,e.mode,r):a(t,n,r))["return"]=e,t}function p(e,t,n,r){return(r=null!==t&&t.type===n.type?a(t,n.props,r):jt(n,e.mode,r)).ref=mn(e,t,n),r["return"]=e,r}function c(e,t,n,r){return(t=null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?Ft(n,e.mode,r):a(t,n.children||[],r))["return"]=e,t}function l(e,t,n,r,o){return(t=null===t||10!==t.tag?Lt(n,e.mode,r,o):a(t,n,r))["return"]=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ut(""+t,e.mode,n))["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case qo:return(n=jt(t,e.mode,n)).ref=mn(e,null,t),n["return"]=e,n;case Vo:return(t=Ft(t,e.mode,n))["return"]=e,t}if(qa(t)||ie(t))return(t=Lt(t,e.mode,n,null))["return"]=e,t;gn(e,t)}return null}function y(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case qo:return n.key===o?n.type===Ho?l(e,t,n.props.children,r,o):p(e,t,n,r):null;case Vo:return n.key===o?c(e,t,n,r):null}if(qa(n)||ie(n))return null!==o?null:l(e,t,n,r,null);gn(e,n)}return null}function v(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case qo:return e=e.get(null===r.key?n:r.key)||null,r.type===Ho?l(t,e,r.props.children,o,r.key):p(t,e,r,o);case Vo:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(qa(r)||ie(r))return l(t,e=e.get(n)||null,r,o,null);gn(t,r)}return null}function b(t,e,n,r){for(var o=null,i=null,a=e,s=e=0,p=null;null!==a&&s<n.length;s++){a.index>s?(p=a,a=null):p=a.sibling;var c=y(t,a,n[s],r);if(null===c){null===a&&(a=p);break}u&&a&&null===c.alternate&&d(t,a),e=m(c,e,s),null===i?o=c:i.sibling=c,i=c,a=p}if(s===n.length)return h(t,a),o;if(null===a){for(;s<n.length;s++)(a=g(t,n[s],r))&&(e=m(a,e,s),null===i?o=a:i.sibling=a,i=a);return o}for(a=f(t,a);s<n.length;s++)(p=v(a,t,s,n[s],r))&&(u&&null!==p.alternate&&a["delete"](null===p.key?s:p.key),e=m(p,e,s),null===i?o=p:i.sibling=p,i=p);return u&&a.forEach(function(e){return d(t,e)}),o}function C(t,e,n,r){var o=ie(n);"function"!=typeof o&&j("150"),null==(n=o.call(n))&&j("151");for(var i=o=null,a=e,s=e=0,p=null,c=n.next();null!==a&&!c.done;s++,c=n.next()){a.index>s?(p=a,a=null):p=a.sibling;var l=y(t,a,c.value,r);if(null===l){a||(a=p);break}u&&a&&null===l.alternate&&d(t,a),e=m(l,e,s),null===i?o=l:i.sibling=l,i=l,a=p}if(c.done)return h(t,a),o;if(null===a){for(;!c.done;s++,c=n.next())null!==(c=g(t,c.value,r))&&(e=m(c,e,s),null===i?o=c:i.sibling=c,i=c);return o}for(a=f(t,a);!c.done;s++,c=n.next())null!==(c=v(a,t,s,c.value,r))&&(u&&null!==c.alternate&&a["delete"](null===c.key?s:c.key),e=m(c,e,s),null===i?o=c:i.sibling=c,i=c);return u&&a.forEach(function(e){return d(t,e)}),o}return function(e,t,n,r){var o="object"==typeof n&&null!==n&&n.type===Ho&&null===n.key;o&&(n=n.props.children);var i="object"==typeof n&&null!==n;if(i)switch(n.$$typeof){case qo:e:{for(i=n.key,o=t;null!==o;){if(o.key===i){if(10===o.tag?n.type===Ho:o.type===n.type){h(e,o.sibling),(t=a(o,n.type===Ho?n.props.children:n.props,r)).ref=mn(e,o,n),t["return"]=e,e=t;break e}h(e,o);break}d(e,o),o=o.sibling}n.type===Ho?((t=Lt(n.props.children,e.mode,r,n.key))["return"]=e,e=t):((r=jt(n,e.mode,r)).ref=mn(e,t,n),r["return"]=e,e=r)}return s(e);case Vo:e:{for(o=n.key;null!==t;){if(t.key===o){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){h(e,t.sibling),(t=a(t,n.children||[],r))["return"]=e,e=t;break e}h(e,t);break}d(e,t),t=t.sibling}(t=Ft(n,e.mode,r))["return"]=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,null!==t&&6===t.tag?(h(e,t.sibling),t=a(t,n,r)):(h(e,t),t=Ut(n,e.mode,r)),t["return"]=e,s(e=t);if(qa(n))return b(e,t,n,r);if(ie(n))return C(e,t,n,r);if(i&&gn(e,n),void 0===n&&!o)switch(e.tag){case 2:case 1:j("152",(r=e.type).displayName||r.name||"Component")}return h(e,t)}}function vn(e,t){var n=new Dt(5,null,null,0);n.type="DELETED",n.stateNode=t,n["return"]=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Cn(e){if(Ka){var t=$a;if(t){var n=t;if(!bn(e,t)){if(!(t=xt(n))||!bn(e,t))return e.effectTag|=2,Ka=!1,void(Wa=e);vn(Wa,n)}Wa=e,$a=wt(t)}else e.effectTag|=2,Ka=!1,Wa=e}}function xn(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag;)e=e["return"];Wa=e}function wn(e){if(e!==Wa)return!1;if(!Ka)return xn(e),!(Ka=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ct(t,e.memoizedProps))for(t=$a;t;)vn(e,t),t=xt(t);return xn(e),$a=Wa?xt(e.stateNode):null,!0}function En(){$a=Wa=null,Ka=!1}function _n(e,t,n){Tn(e,t,n,t.expirationTime)}function Tn(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Va(t,e.child,n,r)}function Sn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Rn(e,t,n,r,o){Sn(e,t);var i=0!=(64&t.effectTag);if(!n&&!i)return r&&Pt(t,!1),zn(e,t);n=t.stateNode,Fo.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(Tn(e,t,null,o),t.child=null),Tn(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Pt(t,!0),t.child}function Nn(e){var t=e.stateNode;t.pendingContext?zt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zt(e,t.context,!1),pn(e,t.containerInfo)}function kn(e,t,n,r){var o=e.child;for(null!==o&&(o["return"]=e);null!==o;){switch(o.tag){case 12:var i=0|o.stateNode;if(o.type===t&&0!=(i&n)){for(i=o;null!==i;){var a=i.alternate;if(0===i.expirationTime||i.expirationTime>r)i.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}i=i["return"]}i=null}else i=o.child;break;case 13:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i["return"]=o;else for(i=o;null!==i;){if(i===e){i=null;break}if(null!==(o=i.sibling)){o["return"]=i["return"],i=o;break}i=i["return"]}o=i}}function On(e,t,n){var r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=!0;if(ka.current)a=!1;else if(i===o)return t.stateNode=0,on(t),zn(e,t);var s=o.value;if(t.memoizedProps=o,null===i)s=1073741823;else if(i.value===o.value){if(i.children===o.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else{var p=i.value;if(p===s&&(0!==p||1/p==1/s)||p!=p&&s!=s){if(i.children===o.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(p,s):1073741823,0===(s|=0)){if(i.children===o.children&&a)return t.stateNode=0,on(t),zn(e,t)}else kn(t,r,s,n)}return t.stateNode=s,on(t),_n(e,t,o.children),t.child}function zn(e,t){if(null!==e&&t.child!==e.child&&j("153"),null!==t.child){var n=Mt(e=t.child,e.pendingProps,e.expirationTime);for((t.child=n)["return"]=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mt(e,e.pendingProps,e.expirationTime))["return"]=t;n.sibling=null}return t.child}function An(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Nn(t);break;case 2:It(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 13:on(t)}return null}switch(t.tag){case 0:null!==e&&j("155");var r=t.type,o=t.pendingProps,i=St(t);return r=r(o,i=Rt(t,i)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(i=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(i=i.getDerivedStateFromProps)&&un(t,i,o),o=It(t),r.updater=Ba,fn((t.stateNode=r)._reactInternalFiber=t,n),e=Rn(e,t,!0,o,n)):(t.tag=1,_n(e,t,r),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,ka.current||t.memoizedProps!==n?(o=o(n,r=Rt(t,r=St(t))),t.effectTag|=1,_n(e,t,o),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 2:if(o=It(t),null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;r=St(t);var p=2===t.tag&&null!=t.type.contextTypes;a=new s(a,i=p?Rt(t,r):qr),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Ba,(t.stateNode=a)._reactInternalFiber=t,p&&((p=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,p.__reactInternalMemoizedMaskedChildContext=i),fn(t,n),r=!0}else{s=t.type,r=t.stateNode,p=t.memoizedProps,i=t.pendingProps,r.props=p;var c=r.context;a=Rt(t,a=St(t));var l=s.getDerivedStateFromProps;(s="function"==typeof l||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(p!==i||c!==a)&&hn(t,r,i,a),Ia=!1;var u=t.memoizedState;c=r.state=u;var d=t.updateQueue;null!==d&&(en(t,d,i,r,n),c=t.memoizedState),p!==i||u!==c||ka.current||Ia?("function"==typeof l&&(un(t,l,i),c=t.memoizedState),(p=Ia||dn(t,p,i,u,c,a))?(s||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.effectTag|=4)):("function"==typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,r=p):("function"==typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,i=t.memoizedProps,p=t.pendingProps,r.props=i,c=r.context,a=Rt(t,a=St(t)),(s="function"==typeof(l=s.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(i!==p||c!==a)&&hn(t,r,p,a),Ia=!1,c=t.memoizedState,u=r.state=c,null!==(d=t.updateQueue)&&(en(t,d,p,r,n),u=t.memoizedState),i!==p||c!==u||ka.current||Ia?("function"==typeof l&&(un(t,l,p),u=t.memoizedState),(l=Ia||dn(t,i,p,c,u,a))?(s||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(p,u,a),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(p,u,a)),"function"==typeof r.componentDidUpdate&&(t.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof r.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=p,t.memoizedState=u),r.props=p,r.state=u,r.context=a,r=l):("function"!=typeof r.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Rn(e,t,r,o,n);case 3:return Nn(t),null!==(o=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,en(t,o,t.pendingProps,null,n),(o=t.memoizedState.element)===r?(En(),e=zn(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&($a=wt(t.stateNode.containerInfo),Wa=t,r=Ka=!0),r?(t.effectTag|=2,t.child=Ha(t,null,o,n)):(En(),_n(e,t,o)),e=t.child)):(En(),e=zn(e,t)),e;case 5:return sn(Fa.current),(o=sn(La.current))!==(r=at(o,t.type))&&(Tt(Ua,t,t),Tt(La,r,t)),null===e&&Cn(t),o=t.type,p=t.memoizedProps,r=t.pendingProps,i=null!==e?e.memoizedProps:null,ka.current||p!==r||((p=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),p&&1073741823===n)?(p=r.children,Ct(o,r)?p=null:i&&Ct(o,i)&&(t.effectTag|=16),Sn(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(_n(e,t,p),t.memoizedProps=r,e=t.child)):e=zn(e,t),e;case 6:return null===e&&Cn(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return pn(t,t.stateNode.containerInfo),o=t.pendingProps,ka.current||t.memoizedProps!==o?(null===e?t.child=Va(t,null,o,n):_n(e,t,o),t.memoizedProps=o,e=t.child):e=zn(e,t),e;case 14:return o=t.type.render,n=t.pendingProps,r=t.ref,ka.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(_n(e,t,o=o(n,r)),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 10:return n=t.pendingProps,ka.current||t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 11:return n=t.pendingProps.children,ka.current||null!==n&&t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=zn(e,t):(_n(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return On(e,t,n);case 12:e:if(r=t.type,i=t.pendingProps,p=t.memoizedProps,o=r._currentValue,a=r._changedBits,ka.current||0!==a||p!==i){if(null!=(s=(t.memoizedProps=i).unstable_observedBits)||(s=1073741823),0!=(a&(t.stateNode=s)))kn(t,r,a,n);else if(p===i){e=zn(e,t);break e}n=(n=i.children)(o),t.effectTag|=1,_n(e,t,n),e=t.child}else e=zn(e,t);return e;default:j("156")}}function In(e){e.effectTag|=4}function Pn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return kt(t),null;case 3:cn(t),Ot(t);var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(wn(t),t.effectTag&=-3),Ga(t),null;case 5:ln(t),r=sn(Fa.current);var o=t.type;if(null!==e&&null!=t.stateNode){var i=e.memoizedProps,a=t.stateNode,s=sn(La.current);a=mt(a,o,i,n,r),Ya(e,t,a,o,i,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&j("166"),null;if(e=sn(La.current),wn(t))n=t.stateNode,o=t.type,i=t.memoizedProps,n[oo]=t,n[io]=i,r=yt(n,o,i,e,r),null!==(t.updateQueue=r)&&In(t);else{(e=dt(o,n,r,e))[oo]=t,e[io]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i=(i.child["return"]=i).child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===t)break e;i=i["return"]}i.sibling["return"]=i["return"],i=i.sibling}ft(e,o,n,r),bt(o,n)&&In(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&j("166"),null;r=sn(Fa.current),sn(La.current),wn(t)?(r=t.stateNode,n=t.memoizedProps,r[oo]=t,vt(r,n)&&In(t)):((r=ht(n,r))[oo]=t).stateNode=r}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return cn(t),Ga(t),null;case 13:return an(t),null;case 12:return null;case 0:j("167");default:j("156")}}function Dn(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&ae(n),t=t.value,null!==e&&2===e.tag&&ae(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Mn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qn(e,t)}else t.current=null}function jn(e){switch("function"==typeof Wt&&Wt(e),e.tag){case 2:Mn(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Qn(e,t)}break;case 5:Mn(e);break;case 4:Fn(e)}}function Ln(e){return 5===e.tag||3===e.tag||4===e.tag}function Un(e){e:{for(var t=e["return"];null!==t;){if(Ln(t)){var n=t;break e}t=t["return"]}j("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:j("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n["return"]||Ln(n["return"])){n=null;break e}n=n["return"]}for(n.sibling["return"]=n["return"],n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child["return"]=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=t,a=o.stateNode,s=n;8===i.nodeType?i.parentNode.insertBefore(a,s):i.insertBefore(a,s)}else t.insertBefore(o.stateNode,n);else r?(i=t,a=o.stateNode,8===i.nodeType?i.parentNode.insertBefore(a,i):i.appendChild(a)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o=(o.child["return"]=o).child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===e)return;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}}function Fn(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t["return"];e:for(;;){switch(null===n&&j("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n["return"]}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,a=i;;)if(jn(a),null!==a.child&&4!==a.tag)a.child["return"]=a,a=a.child;else{if(a===i)break;for(;null===a.sibling;){if(null===a["return"]||a["return"]===i)break e;a=a["return"]}a.sibling["return"]=a["return"],a=a.sibling}o?(i=r,a=t.stateNode,8===i.nodeType?i.parentNode.removeChild(a):i.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:jn(t),null!==t.child){t=(t.child["return"]=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;4===(t=t["return"]).tag&&(n=!1)}t.sibling["return"]=t["return"],t=t.sibling}}function Bn(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;(t.updateQueue=null)!==i&&(n[io]=r,gt(n,i,o,e,r))}break;case 6:null===t.stateNode&&j("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:j("163")}}function qn(e,t,n){(n=Gt(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fr(r),Dn(e,t)},n}function Vn(n,r,e){(e=Gt(e)).tag=3;var t=n.stateNode;return null!==t&&"function"==typeof t.componentDidCatch&&(e.callback=function(){null===us?us=new Set([this]):us.add(this);var e=r.value,t=r.stack;Dn(n,r),this.componentDidCatch(e,{componentStack:null!==t?t:""})}),e}function Hn(e,t,n,r,o,i){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Xt(e,r=qn(
e,r,i),i);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===us||!us.has(n)))return e.effectTag|=1024,void Xt(e,r=Vn(e,t,i),i)}e=e["return"]}while(null!==e)}function Wn(e){switch(e.tag){case 2:kt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return cn(e),Ot(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ln(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return cn(e),null;case 13:return an(e),null;default:return null}}function $n(){if(null!==rs)for(var e=rs["return"];null!==e;){var t=e;switch(t.tag){case 2:kt(t);break;case 3:cn(t),Ot(t);break;case 5:ln(t);break;case 4:cn(t);break;case 13:an(t)}e=e["return"]}is=0,rs=os=null,ls=ss=!(as=-1)}function Kn(e){for(;;){var t=e.alternate,n=e["return"],r=e.sibling;if(0==(512&e.effectTag)){t=Pn(t,e,is);var o=e;if(1073741823===is||1073741823!==o.expirationTime){var i=0;switch(o.tag){case 3:case 2:var a=o.updateQueue;null!==a&&(i=a.expirationTime)}for(a=o.child;null!==a;)0!==a.expirationTime&&(0===i||i>a.expirationTime)&&(i=a.expirationTime),a=a.sibling;o.expirationTime=i}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ls=!0;break}e=n}else{if(null!==(e=Wn(e,ss,is)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function Gn(e){var t=An(e.alternate,e,is);return null===t&&(t=Kn(e)),Fo.current=null,t}function Yn(t,e,n){ns&&j("243"),ns=!0,e===is&&t===os&&null!==rs||($n(),is=e,as=-1,rs=Mt((os=t).current,null,is),t.pendingCommitExpirationTime=0);var r=!1;for(ss=!n||is<=Ja;;){try{if(n)for(;null!==rs&&!hr();)rs=Gn(rs);else for(;null!==rs;)rs=Gn(rs)}catch(e){if(null===rs)r=!0,fr(e);else{null===rs&&j("271");var o=(n=rs)["return"];if(null===o){r=!0,fr(e);break}Hn(t,o,n,e,ss,is,Za),rs=Kn(n)}}break}if(ns=!1,r)return null;if(null===rs){if(ls)return t.pendingCommitExpirationTime=e,t.current.alternate;ss&&j("262"),0<=as&&setTimeout(function(){var e=t.current.expirationTime;0!==e&&(0===t.remainingExpirationTime||t.remainingExpirationTime<e)&&or(t,e)},as),mr(t.current.expirationTime)}return null}function Qn(e,t){var n;e:{for(ns&&!cs&&j("263"),n=e["return"];null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"!=typeof n.type.getDerivedStateFromCatch&&("function"!=typeof r.componentDidCatch||null!==us&&us.has(r)))break;Qt(n,e=Vn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e;case 3:Qt(n,e=qn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}n=n["return"]}3===e.tag&&(Qt(e,n=qn(e,n=rn(t,e),1),1),Zn(e,1)),n=void 0}return n}function Xn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=es&&(e=es+1),es=e}function Jn(e,t){return e=0!==ts?ts:ns?cs?1:is:1&t.mode?Ss?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ss&&(0===bs||bs<e)&&(bs=e),e}function Zn(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e["return"]){if(3!==e.tag)break;var n=e.stateNode;!ns&&0!==is&&t<is&&$n();var r=n.current.expirationTime;ns&&!cs&&os===n||or(n,r),Ns<ks&&j("185")}e=e["return"]}}function er(){return Za=Ea()-Xa,Ja=2+(Za/10|0)}function tr(e){var t=ts;ts=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{ts=t}}function nr(e,t,n,r,o){var i=ts;ts=1;try{return e(t,n,r,o)}finally{ts=i}}function rr(e){if(0!==fs){if(fs<e)return;null!==ms&&Ta(ms)}var t=Ea()-Xa;ms=_a(ar,{timeout:10*((fs=e)-2)-t})}function or(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===hs?(ds=hs=e,e.nextScheduledRoot=e):(hs=hs.nextScheduledRoot=e).nextScheduledRoot=ds;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}gs||(_s?Ts&&ur(ys=e,vs=1,!1):1===t?sr():rr(t))}function ir(){var e=0,t=null;if(null!==hs)for(var n=hs,r=ds;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===hs)&&j("244"),r===r.nextScheduledRoot){ds=hs=r.nextScheduledRoot=null;break}if(r===ds)ds=o=r.nextScheduledRoot,hs.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===hs){(hs=n).nextScheduledRoot=ds,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=r),r===hs)break;r=(n=r).nextScheduledRoot}}null!==(n=ys)&&n===t&&1===e?ks++:ks=0,ys=t,vs=e}function ar(e){pr(0,!0,e)}function sr(){pr(1,!1,null)}function pr(e,t,n){if(Es=n,ir(),t)for(;null!==ys&&0!==vs&&(0===e||vs<=e)&&(!Cs||er()>=vs);)er(),ur(ys,vs,!Cs),ir();else for(;null!==ys&&0!==vs&&(0===e||vs<=e);)ur(ys,vs,!1),ir();null!==Es&&(fs=0,ms=null),0!==vs&&rr(vs),Es=null,Cs=!1,lr()}function cr(e,t){gs&&j("253"),ur(ys=e,vs=t,!1),sr(),lr()}function lr(){if(ks=0,null!==Rs){var e=Rs;Rs=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){xs||(xs=!0,ws=e)}}}if(xs)throw e=ws,ws=null,xs=!1,e}function ur(e,t,n){gs&&j("245"),gs=!0,n?null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Yn(e,t,!0))&&(hr()?e.finishedWork=n:dr(e,n,t)):null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Yn(e,t,!1))&&dr(e,n,t),gs=!1}function dr(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Rs?Rs=[r]:Rs.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,cs=ns=!0,(n=t.stateNode).current===t&&j("177"),0===(r=n.pendingCommitExpirationTime)&&j("261"),n.pendingCommitExpirationTime=0,er(),Fo.current=null,1<t.effectTag)if(null!==t.lastEffect)var o=(t.lastEffect.nextEffect=t).firstEffect;else o=t;else o=t.firstEffect;xa=Ai;var i=Ur();if(Ye(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var p=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch(e){a=null;break e}var l=0,u=-1,d=-1,h=0,f=0,m=i,g=null;t:for(;;){for(var y;m!==a||0!==p&&3!==m.nodeType||(u=l+p),m!==c||0!==s&&3!==m.nodeType||(d=l+s),3===m.nodeType&&(l+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===i)break t;if(g===a&&++h===p&&(u=l),g===c&&++f===s&&(d=l),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}a=-1===u||-1===d?null:{start:u,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(Be(!(wa={focusedElem:i,selectionRange:a})),ps=o;null!==ps;){i=!1,a=void 0;try{for(;null!==ps;){if(256&ps.effectTag){var v=ps.alternate;switch((p=ps).tag){case 2:if(256&p.effectTag&&null!==v){var b=v.memoizedProps,C=v.memoizedState,x=p.stateNode;x.props=p.memoizedProps,x.state=p.memoizedState;var w=x.getSnapshotBeforeUpdate(b,C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:case 5:case 6:case 4:break;default:j("163")}}ps=ps.nextEffect}}catch(e){i=!0,a=e}i&&(null===ps&&j("178"),Qn(ps,a),null!==ps&&(ps=ps.nextEffect))}for(ps=o;null!==ps;){v=!1,b=void 0;try{for(;null!==ps;){var E=ps.effectTag;if(16&E&&st(ps.stateNode,""),128&E){var _=ps.alternate;if(null!==_){var T=_.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&E){case 2:Un(ps),ps.effectTag&=-3;break;case 6:Un(ps),ps.effectTag&=-3,Bn(ps.alternate,ps);break;case 4:Bn(ps.alternate,ps);break;case 8:Fn(C=ps),C["return"]=null,C.child=null,C.alternate&&(C.alternate.child=null,C.alternate["return"]=null)}ps=ps.nextEffect}}catch(e){v=!0,b=e}v&&(null===ps&&j("178"),Qn(ps,b),null!==ps&&(ps=ps.nextEffect))}if(T=wa,_=Ur(),E=T.focusedElem,v=T.selectionRange,_!==E&&Br(document.documentElement,E)){null!==v&&Ye(E)&&(_=v.start,void 0===(T=v.end)&&(T=_),"selectionStart"in E?(E.selectionStart=_,E.selectionEnd=Math.min(T,E.value.length)):window.getSelection&&(_=window.getSelection(),b=E[L()].length,T=Math.min(v.start,b),v=void 0===v.end?T:Math.min(v.end,b),!_.extend&&v<T&&(b=v,v=T,T=b),b=Ge(E,T),C=Ge(E,v),b&&C&&(1!==_.rangeCount||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==C.node||_.focusOffset!==C.offset)&&((x=document.createRange()).setStart(b.node,b.offset),_.removeAllRanges(),v<T?(_.addRange(x),_.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),_.addRange(x))))),_=[];for(T=E;T=T.parentNode;)1===T.nodeType&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof E.focus&&E.focus(),E=0;E<_.length;E++)(T=_[E]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(wa=null,Be(xa),xa=null,n.current=t,ps=o;null!==ps;){o=!1,E=void 0;try{for(_=r;null!==ps;){var S=ps.effectTag;if(36&S){var R=ps.alternate;switch(v=_,(T=ps).tag){case 2:var N=T.stateNode;if(4&T.effectTag)if(null===R)N.props=T.memoizedProps,N.state=T.memoizedState,N.componentDidMount();else{var k=R.memoizedProps,O=R.memoizedState;N.props=T.memoizedProps,N.state=T.memoizedState,N.componentDidUpdate(k,O,N.__reactInternalSnapshotBeforeUpdate)}var z=T.updateQueue;null!==z&&(N.props=T.memoizedProps,N.state=T.memoizedState,nn(T,z,N,v));break;case 3:var A=T.updateQueue;if(null!==A){if((b=null)!==T.child)switch(T.child.tag){case 5:b=T.child.stateNode;break;case 2:b=T.child.stateNode}nn(T,A,b,v)}break;case 5:var I=T.stateNode;null===R&&4&T.effectTag&&bt(T.type,T.memoizedProps)&&I.focus();break;case 6:case 4:case 15:case 16:break;default:j("163")}}if(128&S){T=void 0;var P=ps.ref;if(null!==P){var D=ps.stateNode;switch(ps.tag){case 5:T=D;break;default:T=D}"function"==typeof P?P(T):P.current=T}}var M=ps.nextEffect;ps.nextEffect=null,ps=M}}catch(e){o=!0,E=e}o&&(null===ps&&j("178"),Qn(ps,E),null!==ps&&(ps=ps.nextEffect))}ns=cs=!1,"function"==typeof Ht&&Ht(t.stateNode),0===(t=n.current.expirationTime)&&(us=null),e.remainingExpirationTime=t}function hr(){return!(null===Es||Es.timeRemaining()>Os)&&(Cs=!0)}function fr(e){null===ys&&j("246"),ys.remainingExpirationTime=0,xs||(xs=!0,ws=e)}function mr(e){null===ys&&j("246"),ys.remainingExpirationTime=e}function gr(e,t){var n=_s;_s=!0;try{return e(t)}finally{(_s=n)||gs||sr()}}function yr(e,t){if(_s&&!Ts){Ts=!0;try{return e(t)}finally{Ts=!1}}return e(t)}function vr(e,t){gs&&j("187");var n=_s;_s=!0;try{return nr(e,t)}finally{_s=n,sr()}}function br(e,t,n){if(Ss)return e(t,n);_s||gs||0===bs||(pr(bs,!1,null),bs=0);var r=Ss,o=_s;_s=Ss=!0;try{return e(t,n)}finally{Ss=r,(_s=o)||gs||sr()}}function Cr(e){var t=_s;_s=!0;try{nr(e)}finally{(_s=t)||gs||pr(1,!1,null)}}function xr(e,t,n,r,o){var i=t.current;if(n){var a;e:{for(2===Ie(n=n._reactInternalFiber)&&2===n.tag||j("170"),a=n;3!==a.tag;){if(Nt(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a["return"])||j("171")}a=a.stateNode.context}n=Nt(n)?At(n,a):a}else n=qr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=Gt(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Qt(i,o,r),Zn(i,r),r}function wr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?j("188"):j("268",Object.keys(e))),null===(e=Me(t))?null:e.stateNode}function Er(e,t,n,r){var o=t.current;return xr(e,t,n,o=Jn(er(),o),r)}function _r(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tr(e){var t=e.findFiberByHostInstance;return Vt(jr({},e,{findHostInstanceByFiber:function(e){return null===(e=Me(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Sr(e,t,n,r){var o=3<arguments.length&&void 0!==r?arguments[3]:null;return{$$typeof:Vo,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}function Rr(e){this._expirationTime=Xn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Nr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function kr(e,t,n){this._internalRoot=Bt(e,t,n)}function Or(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zr(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new kr(e,!1,t)}function Ar(e,t,n,r,o){Or(n)||j("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var a=o;o=function(){var e=_r(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=zr(n,r),"function"==typeof o){var s=o;o=function(){var e=_r(i._internalRoot);s.call(e)}}yr(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return _r(i._internalRoot)}function Ir(e,t,n){var r=2<arguments.length&&void 0!==n?arguments[2]:null;return Or(t)||j("200"),Sr(e,t,null,r)}var Pr=n(2),Dr=n(4),Mr=n(12),jr=n(3),Lr=n(5),Ur=n(14),Fr=n(20),Br=n(13),qr=n(1);Dr||j("227");var Vr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(){r.apply(Vr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(Vr.invokeGuardedCallback.apply(this,arguments),Vr.hasCaughtError()){var e=Vr.clearCaughtError();Vr._hasRethrowError||(Vr._hasRethrowError=!0,Vr._rethrowError=e)}},rethrowCaughtError:function(){return o.apply(Vr,arguments)},hasCaughtError:function(){return Vr._hasCaughtError},clearCaughtError:function(){if(Vr._hasCaughtError){var e=Vr._caughtError;return Vr._caughtError=null,Vr._hasCaughtError=!1,e}j("198")}},Hr=null,Wr={},$r=[],Kr={},Gr={},Yr={},Qr={plugins:$r,eventNameDispatchConfigs:Kr,registrationNameModules:Gr,registrationNameDependencies:Yr,possibleRegistrationNames:null,injectEventPluginOrder:a,injectEventPluginsByName:s},Xr=null,Jr=null,Zr=null,eo=null,to={injectEventPluginOrder:a,injectEventPluginsByName:s},no={injection:to,getListener:m,runEventsInBatch:g,runExtractedEventsInBatch:y},ro=Math.random().toString(36).slice(2),oo="__reactInternalInstance$"+ro,io="__reactEventHandlers$"+ro,ao={precacheFiberNode:function(e,t){t[oo]=e},getClosestInstanceFromNode:v,getInstanceFromNode:function(e){return!(e=e[oo])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:b,getFiberCurrentPropsFromNode:C,updateFiberProps:function(e,t){e[io]=t}},so={accumulateTwoPhaseDispatches:N,accumulateTwoPhaseDispatchesSkipTarget:function(e){u(e,T)},accumulateEnterLeaveDispatches:k,accumulateDirectDispatches:function(e){u(e,R)}},po={animationend:O("Animation","AnimationEnd"),animationiteration:O("Animation","AnimationIteration"),animationstart:O("Animation","AnimationStart"),transitionend:O("Transition","TransitionEnd")},co={},lo={};Mr.canUseDOM&&(lo=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);var uo=z("animationend"),ho=z("animationiteration"),fo=z("animationstart"),mo=z("transitionend"),go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yo=null,vo={_root:null,_startText:null,_fallbackText:null},bo="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Co={type:null,target:null,currentTarget:Lr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};jr(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Lr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Lr.thatReturnsTrue)},persist:function(){this.isPersistent=Lr.thatReturnsTrue},isPersistent:Lr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bo.length;t++)this[bo[t]]=null}}),P.Interface=Co,P.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return jr(o,n.prototype),n.prototype=o,(n.prototype.constructor=n).Interface=jr({},r.Interface,e),n.extend=r.extend,U(n),n},U(P);var xo=P.extend({data:null}),wo=P.extend({data:null}),Eo=[9,13,27,32],_o=Mr.canUseDOM&&"CompositionEvent"in window,To=null;Mr.canUseDOM&&"documentMode"in document&&(To=document.documentMode);var So=Mr.canUseDOM&&"TextEvent"in window&&!To,Ro=Mr.canUseDOM&&(!_o||To&&8<To&&To<=11),No=String.fromCharCode(32),ko={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Oo=!1,zo=!1,Ao={eventTypes:ko,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(_o)e:{switch(e){case"compositionstart":o=ko.compositionStart;break e;case"compositionend":o=ko.compositionEnd;break e;case"compositionupdate":o=ko.compositionUpdate;break e}o=void 0}else zo?F(e,n)&&(o=ko.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ko.compositionStart);return o?(Ro&&(zo||o!==ko.compositionStart?o===ko.compositionEnd&&zo&&(i=A()):(vo._root=r,vo._startText=I(),zo=!0)),o=xo.getPooled(o,t,n,r),i?o.data=i:null!==(i=B(n))&&(o.data=i),N(o),i=o):i=null,(e=So?q(e,n):V(e,n))?((t=wo.getPooled(ko.beforeInput,t,n,r)).data=e,N(t)):t=null,null===i?t:null===t?i:[i,t]}},Io=null,Po={injectFiberControlledHostComponent:function(e){Io=e}},Do=null,Mo=null,jo={injection:Po,enqueueStateRestore:W,needsStateRestore:$,restoreStateIfNeeded:K},Lo=!1,Uo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Fo=Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bo="function"==typeof Symbol&&Symbol["for"],qo=Bo?Symbol["for"]("react.element"):60103,Vo=Bo?Symbol["for"]("react.portal"):60106,Ho=Bo?Symbol["for"]("react.fragment"):60107,Wo=Bo?Symbol["for"]("react.strict_mode"):60108,$o=Bo?Symbol["for"]("react.profiler"):60114,Ko=Bo?Symbol["for"]("react.provider"):60109,Go=Bo?Symbol["for"]("react.context"):60110,Yo=Bo?Symbol["for"]("react.async_mode"):60111,Qo=Bo?Symbol["for"]("react.forward_ref"):60112,Xo=Bo?Symbol["for"]("react.timeout"):60113,Jo="function"==typeof Symbol&&Symbol.iterator,Zo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ei=Object.prototype.hasOwnProperty,ti={},ni={},ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ri[e]=new ue(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ri[t]=new ue(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ri[e]=new ue(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){ri[e]=new ue(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ri[e]=new ue(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ri[e]=new ue(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){ri[e]=new ue(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){ri[e]=new ue(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){ri[e]=new ue(e,5,!1,e.toLowerCase(),null)});var oi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oi,de);ri[t]=new ue(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oi,de);ri[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oi,de);ri[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ri.tabIndex=new ue("tabIndex",1,!1,"tabindex",null);var ii={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},ai=null,si=null,pi=!1;Mr.canUseDOM&&(pi=ee("input")&&(!document.documentMode||9<document.documentMode));var ci={eventTypes:ii,_isInputEventSupported:pi,extractEvents:function(e,t,n,r){var o=t?b(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===o.type?i=_e:J(o)?pi?i=Oe:(i=Ne,a=Re):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=ke),i&&(i=i(e,t))?xe(i,n,r):(a&&a(e,o,t),void("blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&be(o,"number",o.value)))}},li=P.extend({view:null,detail:null}),ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},di=li.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),hi=di.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mi={eventTypes:fi,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?v(t):null):i=null,i===t)return null;var a=void 0,s=void 0,p=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(a=di,s=fi.mouseLeave,p=fi.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=hi,s=fi.pointerLeave,p=fi.pointerEnter,c="pointer"),e=null==i?o:b(i),o=null==t?o:b(t),(s=a.getPooled(s,i,n,r)).type=c+"leave",s.target=e,s.relatedTarget=o,(n=a.getPooled(p,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,k(s,n,i,t),[s,n]}},gi=P.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yi=P.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=li.extend({relatedTarget:null}),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xi=li.extend({key:function(e){if(e.key){var t=bi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Le(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ci[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?Le(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Le(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wi=di.extend({dataTransfer:null}),Ei=li.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),_i=P.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ti=di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Si=[["abort","abort"],[uo,"animationEnd"],[ho,"animationIteration"],[fo,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[mo,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ri={},Ni={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ue(e,!0)}),Si.forEach(function(e){Ue(e,!1)});var ki={eventTypes:Ri,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ni[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=Ni[e];if(!o)return null;switch(e){case"keypress":if(0===Le(n))return null;case"keydown":case"keyup":e=xi;break;case"blur":case"focus":e=vi;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ei;break;case uo:case ho:case fo:e=gi;break;case mo:e=_i;break;case"scroll":e=li;break;case"wheel":e=Ti;break;case"copy":case"cut":case"paste":e=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=hi;break;default:e=P}return N(t=e.getPooled(o,t,n,r)),t}},Oi=ki.isInteractiveTopLevelEventType,zi=[],Ai=!0,Ii={get _enabled(){return Ai},setEnabled:Be,isEnabled:function(){return Ai},trapBubbledEvent:qe,trapCapturedEvent:Ve,dispatchEvent:We},Pi={},Di=0,Mi="_reactListenersID"+(""+Math.random()).slice(2),ji=Mr.canUseDOM&&"documentMode"in document&&document.documentMode<=11,Li={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ui=null,Fi=null,Bi=null,qi=!1,Vi={eventTypes:Li,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=$e(i),o=Yr.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?b(t):window,e){case"focus":(J(i)||"true"===i.contentEditable)&&(Ui=i,Fi=t,Bi=null);break;case"blur":Bi=Fi=Ui=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":return qi=!1,Qe(n,r);case"selectionchange":if(ji)break;case"keydown":case"keyup":return Qe(n,r)}return null}};to.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Xr=ao.getFiberCurrentPropsFromNode,Jr=ao.getInstanceFromNode,Zr=ao.getNodeFromInstance,to.injectEventPluginsByName({SimpleEventPlugin:ki,EnterLeaveEventPlugin:mi,ChangeEventPlugin:ci,SelectEventPlugin:Vi,BeforeInputEventPlugin:Ao});var Hi="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,Wi=Date,$i=setTimeout,Ki=clearTimeout,Gi=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Yi=performance;Gi=function(){return Yi.now()}}else Gi=function(){return Wi.now()};var Qi=void 0,Xi=void 0;if(Mr.canUseDOM){var Ji="function"==typeof Hi?Hi:function(){j("276")},Zi=null,ea=null,ta=-1,na=!1,ra=!1,oa=0,ia=33,aa=33,sa={didTimeout:!1,timeRemaining:function(){var e=oa-Gi();return 0<e?e:0}},pa=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{Xi(e),r||(na=!0,window.postMessage(ca,"*"))}},ca="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===ca&&(na=!1,null!==Zi)){if(null!==Zi){var t=Gi();if(!(-1===ta||t<ta)){e=-1;for(var n=[],r=Zi;null!==r;){var o=r.timeoutTime;-1!==o&&o<=t?n.push(r):-1!==o&&(-1===e||o<e)&&(e=o),r=r.next}if(0<n.length)for(sa.didTimeout=!0,t=0,r=n.length;t<r;t++)pa(n[t],sa);ta=e}}for(e=Gi();0<oa-e&&null!==Zi;)e=Zi,sa.didTimeout=!1,pa(e,sa),e=Gi();null===Zi||ra||(ra=!0,Ji(la))}},!1);var la=function(e){ra=!1;var t=e-oa+aa;t<aa&&ia<aa?(t<8&&(t=8),aa=t<ia?ia:t):ia=t,oa=e+aa,na||(na=!0,window.postMessage(ca,"*"))};Qi=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Gi()+t.timeout),(-1===ta||-1!==n&&n<ta)&&(ta=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Zi?Zi=e:null!==(t=e.prev=ea)&&(t.next=e),ea=e,ra||(ra=!0,Ji(la)),e},Xi=function(e){if(null!==e.prev||Zi===e){var t=e.next,n=e.prev;e.next=null,(e.prev=null)!==t?null!==n?(n.next=t).prev=n:(t.prev=null,Zi=t):null!==n?(n.next=null,ea=n):ea=Zi=null}}}else{var ua=new Map;Qi=function(e){var t={scheduledCallback:e,timeoutTime:0,
next:null,prev:null},n=$i(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return ua.set(e,n),t},Xi=function(e){var t=ua.get(e.scheduledCallback);ua["delete"](e),Ki(t)}}var da,ha={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},fa=void 0,ma=(da=function(e,t){if(e.namespaceURI!==ha.svg||"innerHTML"in e)e.innerHTML=t;else{for((fa=fa||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return da(e,t,n,r)})}:da),ga={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ya=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(t){ya.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ga[e]=ga[t]})});var va=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ba=Lr.thatReturns(""),Ca={createElement:dt,createTextNode:ht,setInitialProperties:ft,diffProperties:mt,updateProperties:gt,diffHydratedProperties:yt,diffHydratedText:vt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ye(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=C(r);o||j("90"),oe(r),ye(r,o)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},xa=null,wa=null,Ea=Gi,_a=Qi,Ta=Xi;new Set;var Sa=[],Ra=-1,Na=Et(qr),ka=Et(!1),Oa=qr,za=null,Aa=null,Ia=!1,Pa=Et(null),Da=Et(null),Ma=Et(0),ja={},La=Et(ja),Ua=Et(ja),Fa=Et(ja),Ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ie(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er(),o=Gt(r=Jn(r,e));o.payload=t,null!=n&&(o.callback=n),Qt(e,o,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er(),o=Gt(r=Jn(r,e));o.tag=1,o.payload=t,null!=n&&(o.callback=n),Qt(e,o,r),Zn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er(),r=Gt(n=Jn(n,e));r.tag=2,null!=t&&(r.callback=t),Qt(e,r,n),Zn(e,n)}},qa=Array.isArray,Va=yn(!0),Ha=yn(!1),Wa=null,$a=null,Ka=!1,Ga=void 0,Ya=void 0,Qa=void 0;Ga=function(){},Ya=function(e,t,n){(t.updateQueue=n)&&In(t)},Qa=function(e,t,n,r){n!==r&&In(t)};var Xa=Ea(),Ja=2,Za=Xa,es=0,ts=0,ns=!1,rs=null,os=null,is=0,as=-1,ss=!1,ps=null,cs=!1,ls=!1,us=null,ds=null,hs=null,fs=0,ms=void 0,gs=!1,ys=null,vs=0,bs=0,Cs=!1,xs=!1,ws=null,Es=null,_s=!1,Ts=!1,Ss=!1,Rs=null,Ns=1e3,ks=0,Os=1,zs={updateContainerAtExpirationTime:xr,createContainer:function(e,t,n){return Bt(e,t,n)},updateContainer:Er,flushRoot:cr,requestWork:or,computeUniqueAsyncExpiration:Xn,batchedUpdates:gr,unbatchedUpdates:yr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:br,flushInteractiveUpdates:function(){gs||0===bs||(pr(bs,!1,null),bs=0)},flushControlled:Cr,flushSync:vr,getPublicRootInstance:_r,findHostInstance:wr,findHostInstanceWithNoPortals:function(e){return null===(e=je(e))?null:e.stateNode},injectIntoDevTools:Tr};Po.injectFiberControlledHostComponent(Ca),Rr.prototype.render=function(e){this._defer||j("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Nr;return xr(e,t,null,n,r._onCommit),r},Rr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Rr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||j("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)o=(r=o)._next;null===r&&j("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,cr(e,n),t=this._next,(this._next=null)!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Rr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Nr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&j("191",n),n()}}},kr.prototype.render=function(e,t){var n=this._internalRoot,r=new Nr;return null!==(t=void 0===t?null:t)&&r.then(t),Er(e,n,null,r._onCommit),r},kr.prototype.unmount=function(e){var t=this._internalRoot,n=new Nr;return null!==(e=void 0===e?null:e)&&n.then(e),Er(null,t,null,n._onCommit),n},kr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new Nr;return null!==(n=void 0===n?null:n)&&o.then(n),Er(t,r,e,o._onCommit),o},kr.prototype.createBatch=function(){var e=new Rr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)(n.firstBatch=e)._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)r=(n=r)._next;e._next=r,null!==n&&(n._next=e)}return e},G=zs.batchedUpdates,Y=zs.interactiveUpdates,Q=zs.flushInteractiveUpdates;var As={createPortal:Ir,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:wr(e)},hydrate:function(e,t,n){return Ar(null,e,t,!0,n)},render:function(e,t,n){return Ar(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&j("38"),Ar(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Or(e)||j("40"),!!e._reactRootContainer&&(yr(function(){Ar(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ir.apply(void 0,arguments)},unstable_batchedUpdates:gr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:br,flushSync:vr,unstable_flushControlled:Cr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:no,EventPluginRegistry:Qr,EventPropagators:so,ReactControlledComponent:jo,ReactDOMComponentTree:ao,ReactDOMEventListener:Ii},unstable_createRoot:function(e,t){return new kr(e,!0,null!=t&&!0===t.hydrate)}};Tr({findFiberByHostInstance:v,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var Is={"default":As},Ps=Is&&As||Is;e.exports=Ps["default"]?Ps["default"]:Ps},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(22)}]),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactTransitionGroup=t(require("react"),require("react-dom")):e.ReactTransitionGroup=t(e.React,e.ReactDOM)}(this,function(t,n){return function(n){function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r={};return o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=22)}([function(e){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&s())}function s(){if(!f){var e=o(a);f=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,f=!1,i(e)}}function p(e,t){this.fun=e,this.array=t}function t(){}var c,l,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,h=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new p(e,t)),1!==h.length||f||o(s)},p.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=t,u.addListener=t,u.once=t,u.off=t,u.removeListener=t,u.removeAllListeners=t,u.emit=t,u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e){e.exports=t},function(i,e,a){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==e.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,r=function r(e){return"object"===(void 0===e?"undefined":t(e))&&null!==e&&e.$$typeof===n},o=!0;i.exports=a(19)(r,o)}else i.exports=a(18)()}).call(e,a(0))},function(e){"use strict";function t(e){return function(){return e}}var n=function n(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(n,e,t){"use strict";(function(e){function t(e,t,n,r,o,i,a,s){if(u(t),!e){var p;if(t===undefined)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}var u=function u(){};"production"!==e.env.NODE_ENV&&(u=function u(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),n.exports=t}).call(e,t(0))},function(p,g,y){"use strict";(function(c){function e(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}g.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=e(y(11)),h=e(y(1)),n=e(y(2)),f=e(y(20)),m=y(23),r={component:n["default"].any,childFactory:n["default"].func,children:n["default"].node},o={component:"span",childFactory:function s(e){return e}},i=function(n){function o(e,t){a(this,o);var r=l(this,n.call(this,e,t));return r.performAppear=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(r._handleDoneAppearing.bind(r,e,t)):r._handleDoneAppearing(e,t)},r._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete r.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(r.props.children);n&&n.hasOwnProperty(e)||r.performLeave(e,t)},r.performEnter=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(r._handleDoneEntering.bind(r,e,t)):r._handleDoneEntering(e,t)},r._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete r.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(r.props.children);n&&n.hasOwnProperty(e)||r.performLeave(e,t)},r.performLeave=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(r._handleDoneLeaving.bind(r,e,t)):r._handleDoneLeaving(e,t)},r._handleDoneLeaving=function(n,e){e.componentDidLeave&&e.componentDidLeave(),delete r.currentlyTransitioningKeys[n];var t=(0,m.getChildMapping)(r.props.children);t&&t.hasOwnProperty(n)?r.keysToEnter.push(n):r.setState(function(e){var t=u({},e.children);return delete t[n],{children:t}})},r.childRefs=Object.create(null),r.state={children:(0,m.getChildMapping)(e.children)},r}return t(o,n),o.prototype.componentWillMount=function e(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},o.prototype.componentDidMount=function r(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},o.prototype.componentWillReceiveProps=function s(e){var t=(0,m.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,m.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},o.prototype.componentDidUpdate=function i(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},o.prototype.render=function p(){var i=this,a=[],s=function s(t){var e=i.state.children[t];if(e){var n="string"!=typeof e.ref,r=i.props.childFactory(e),o=function o(e){i.childRefs[t]=e};"production"!==c.env.NODE_ENV&&(0,f["default"])(n,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),r===e&&n&&(o=(0,d["default"])(e.ref,o)),a.push(h["default"].cloneElement(r,{key:t,ref:o}))}};for(var e in this.state.children)s(e);var t=u({},this.props);return delete t.transitionLeave,delete t.transitionName,delete t.transitionAppear,delete t.transitionEnter,delete t.childFactory,delete t.transitionLeaveTimeout,delete t.transitionEnterTimeout,delete t.transitionAppearTimeout,delete t.component,h["default"].createElement(this.props.component,t,a)},o}(h["default"].Component);i.displayName="TransitionGroup",i.propTypes="production"!==c.env.NODE_ENV?r:{},i.defaultProps=o,g["default"]=i,p.exports=g["default"]}).call(g,y(0))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t["default"]},function(n,e,r){"use strict";(function(e){var s,t=r(3);"production"!==e.env.NODE_ENV&&(s=function s(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(a){}},t=function i(e,t){if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];s.apply(undefined,[t].concat(r))}}),n.exports=t}).call(e,r(0))},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=undefined,t.transitionTimeout=o;r(n(1));var i=r(n(2));t.nameShape=i["default"].oneOfType([i["default"].string,i["default"].shape({enter:i["default"].string,leave:i["default"].string,active:i["default"].string}),i["default"].shape({enter:i["default"].string,enterActive:i["default"].string,leave:i["default"].string,leaveActive:i["default"].string,appear:i["default"].string,appearActive:i["default"].string})])},function(f,m,g){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}m.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=t(g(1)),o=t(g(2)),l=t(g(5)),u=t(g(21)),i=g(9),a={transitionName:i.nameShape.isRequired,transitionAppear:o["default"].bool,transitionEnter:o["default"].bool,transitionLeave:o["default"].bool,transitionAppearTimeout:(0,i.transitionTimeout)("Appear"),transitionEnterTimeout:(0,i.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,i.transitionTimeout)("Leave")},d={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},h=function(i){function a(){var e,t;s(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=p(this,i.call.apply(i,[this].concat(r))))._wrapChild=function(e){return c["default"].createElement(u["default"],{name:t.props.transitionName,appear:t.props.transitionAppear,enter:t.props.transitionEnter,leave:t.props.transitionLeave,appearTimeout:t.props.transitionAppearTimeout,enterTimeout:t.props.transitionEnterTimeout,leaveTimeout:t.props.transitionLeaveTimeout},e)},p(t,e)}return n(a,i),a.prototype.render=function e(){return c["default"].createElement(l["default"],r({},this.props,{childFactory:this._wrapChild}))},a}(c["default"].Component);h.displayName="CSSTransitionGroup",h.propTypes="production"!==e.env.NODE_ENV?a:{},h.defaultProps=d,m["default"]=h,f.exports=m["default"]}).call(m,g(0))},function(e){"use strict";e.exports=function r(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];return 0===(t=t.filter(function(e){return null!=e})).length?undefined:1===t.length?t[0]:t.reduce(function(e,t){return function n(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){e.classList?e.classList.add(t):(0,i["default"])(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=r(n(13));e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e){"use strict";e.exports=function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=document.createElement("div").style,t={O:function p(e){return"o"+e.toLowerCase()},Moz:function c(e){return e.toLowerCase()},Webkit:function l(e){return"webkit"+e},ms:function u(e){return"MS"+e}},n=Object.keys(t),r=void 0,o=void 0,i="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){i="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),o=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!o&&"animationName"in e&&(o="animationend"),e=null,{animationEnd:o,transitionEnd:r,prefix:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=undefined;var i="transform",a=void 0,s=void 0,p=void 0,c=void 0,l=void 0,u=void 0,d=void 0,h=void 0,f=void 0,m=void 0,g=void 0;if(r(n(6))["default"]){var y=o();a=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=p=y.animationEnd,t.transform=i=a+"-"+i,t.transitionProperty=c=a+"-transition-property",t.transitionDuration=l=a+"-transition-duration",t.transitionDelay=d=a+"-transition-delay",t.transitionTiming=u=a+"-transition-timing-function",t.animationName=h=a+"-animation-name",t.animationDuration=f=a+"-animation-duration",t.animationTiming=m=a+"-animation-delay",t.animationDelay=g=a+"-animation-timing-function"}t.transform=i,t.transitionProperty=c,t.transitionTiming=u,t.transitionDelay=d,t.transitionDuration=l,t.transitionEnd=s,t.animationName=h,t.animationDuration=f,t.animationTiming=m,t.animationDelay=g,t.animationEnd=p,t["default"]={transform:i,end:s,property:c,timing:u,delay:d,duration:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),r=setTimeout(e,n);return u=t,r}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=["","webkit","moz","o","ms"],s="clearTimeout",p=o,c=void 0,l=function l(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i["default"]&&a.some(function(e){var t=l(e,"request");if(t in window)return s=l(e,"cancel"),p=function n(e){return window[t](e)}});var u=(new Date).getTime();(c=function c(e){return p(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t["default"]=c,e.exports=t["default"]},function(t,e,n){"use strict";(function(c){function e(e,t,n,r,o){if("production"!==c.env.NODE_ENV)for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]&&("production"!==c.env.NODE_ENV?u(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,i):u(!1)),a=e[i](t,i,r,n,null,h)}catch(p){a=p}if("production"!==c.env.NODE_ENV&&d(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,i,void 0===a?"undefined":l(a)),a instanceof Error&&!(a.message in f)){f[a.message]=!0;var s=o?o():"";"production"!==c.env.NODE_ENV&&d(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==c.env.NODE_ENV)var u=n(4),d=n(7),h=n(8),f={};t.exports=e}).call(e,n(0))},function(e,t,n){"use strict";(function(r){var o=n(3),i=n(4);e.exports=function(){function e(){"production"!==r.env.NODE_ENV?i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"):i(!1)}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n}}).call(t,n(0))},function(e,t,n){"use strict";(function(T){var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=n(3),N=n(4),k=n(7),O=n(8),z=n(17);e.exports=function(a,u){function i(e){var t=e&&(x&&e[x]||e[w]);if("function"==typeof t)return t}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){this.message=e,this.stack=""}function t(p){function e(e,t,n,r,o,i,a){if(r=r||E,i=i||n,a!==O)if(u)"production"!==T.env.NODE_ENV?N(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"):N(!1);else if("production"!==T.env.NODE_ENV&&"undefined"!=typeof console){var s=r+":"+n;!c[s]&&l<3&&("production"!==T.env.NODE_ENV&&k(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",i,r),c[s]=!0,l++)}return null==t[n]?e?null===t[n]?new d("The "+o+" `"+i+"` is marked as required in `"+r+"`, but its value is `null`."):new d("The "+o+" `"+i+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:p(t,n,r,o,i)}if("production"!==T.env.NODE_ENV)var c={},l=0;var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function e(a){function e(e,t,n,r,o){var i=e[t];return v(i)===a?null:new d("Invalid "+r+" `"+o+"` of type `"+b(i)+"` supplied to `"+n+"`, expected `"+a+"`.")}return t(e)}function n(){return t(R.thatReturnsNull)}function r(p){function e(e,t,n,r,o){if("function"!=typeof p)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=e[t];if(!Array.isArray(i))return new d("Invalid "+r+" `"+o+"` of type `"+v(i)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<i.length;a++){var s=p(i,a,n,r,o+"["+a+"]",O);if(s instanceof Error)return s}return null}return t(e)}function o(){function e(e,t,n,r,o){var i=e[t];return a(i)?null:new d("Invalid "+r+" `"+o+"` of type `"+v(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}return t(e)}function s(a){function e(e,t,n,r,o){if(e[t]instanceof a)return null;var i=a.name||E;return new d("Invalid "+r+" `"+o+"` of type `"+C(e[t])+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return t(e)}function c(s){function e(e,t,n,r,o){for(var i=e[t],a=0;a<s.length;a++)if(p(i,s[a]))return null;return new d("Invalid "+r+" `"+o+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(s)+".")}return Array.isArray(s)?t(e):("production"!==T.env.NODE_ENV&&"production"!==T.env.NODE_ENV&&k(!1,"Invalid argument supplied to oneOf, expected an instance of array."),R.thatReturnsNull)}function l(c){function e(e,t,n,r,o){if("function"!=typeof c)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=e[t],a=v(i);if("object"!==a)return new d("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in i)if(i.hasOwnProperty(s)){var p=c(i,s,n,r,o+"."+s,O);if(p instanceof Error)return p}return null}return t(e)}function h(a){function e(e,t,n,r,o){for(var i=0;i<a.length;i++){if(null==(0,a[i])(e,t,n,r,o,O))return null}return new d("Invalid "+r+" `"+o+"` supplied to `"+n+"`.")}return Array.isArray(a)?t(e):("production"!==T.env.NODE_ENV&&"production"!==T.env.NODE_ENV&&k(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),R.thatReturnsNull)}function f(){function e(e,t,n,r,o){return g(e[t])?null:new d("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return t(e)}function m(l){function e(e,t,n,r,o){var i=e[t],a=v(i);if("object"!==a)return new d("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in l){var p=l[s];if(p){var c=p(i,s,n,r,o+"."+s,O);if(c)return c}}return null}return t(e)}function g(e){switch(void 0===e?"undefined":S(e)){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(g);if(null===e||a(e))return!0;var t=i(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!g(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!g(o[1]))return!1}return!0;default:return!1}}function y(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function v(e){var t=void 0===e?"undefined":S(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":y(t,e)?"symbol":t}function b(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var x="function"==typeof Symbol&&Symbol.iterator,w="@@iterator",E="<<anonymous>>",_={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(),arrayOf:r,element:o(),instanceOf:s,node:f(),objectOf:l,oneOf:c,oneOfType:h,shape:m};return d.prototype=Error.prototype,_.checkPropTypes=z,_.PropTypes=_}}).call(t,n(0))},function(t,e,n){"use strict";(function(e){var p=function p(){};"production"!==e.env.NODE_ENV&&(p=function p(e,t,n){var r=arguments.length;n=new Array(2<r?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}}),t.exports=p}).call(e,n(0))},function(c,b,C){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(t,n){return o.length?o.forEach(function(e){return t.addEventListener(e,n,!1)}):setTimeout(n,0),function(){o.length&&o.forEach(function(e){return t.removeEventListener(e,n,!1)})}}b.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=t(C(12)),f=t(C(14)),m=t(C(16)),g=C(15),y=t(C(1)),n=t(C(2)),v=C(24),r=C(9),o=[];g.transitionEnd&&o.push(g.transitionEnd),g.animationEnd&&o.push(g.animationEnd);var i={children:n["default"].node,name:r.nameShape.isRequired,appear:n["default"].bool,enter:n["default"].bool,leave:n["default"].bool,appearTimeout:n["default"].number,enterTimeout:n["default"].number,leaveTimeout:n["default"].number},a=function(i){function a(){var e,t;s(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=p(this,i.call.apply(i,[this].concat(r)))).componentWillAppear=function(e
){t.props.appear?t.transition("appear",e,t.props.appearTimeout):e()},t.componentWillEnter=function(e){t.props.enter?t.transition("enter",e,t.props.enterTimeout):e()},t.componentWillLeave=function(e){t.props.leave?t.transition("leave",e,t.props.leaveTimeout):e()},p(t,e)}return l(a,i),a.prototype.componentWillMount=function e(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},a.prototype.componentWillUnmount=function t(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},a.prototype.transition=function c(e,t,n){var r=(0,v.findDOMNode)(this);if(r){var o=this.props.name[e]||this.props.name+"-"+e,i=this.props.name[e+"Active"]||o+"-active",a=null,s=void 0;(0,h["default"])(r,o),this.queueClassAndNode(i,r);var p=function p(e){e&&e.target!==r||(clearTimeout(a),s&&s(),(0,f["default"])(r,o),(0,f["default"])(r,i),s&&s(),t&&t())};n?(a=setTimeout(p,n),this.transitionTimeouts.push(a)):g.transitionEnd&&(s=u(r,p))}else t&&t()},a.prototype.queueClassAndNode=function r(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m["default"])(function(){return n.flushClassNameAndNodeQueue()}))},a.prototype.flushClassNameAndNodeQueue=function n(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,h["default"])(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},a.prototype.render=function o(){var e=d({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,y["default"].cloneElement(y["default"].Children.only(this.props.children),e)},a}(y["default"].Component);a.displayName="CSSTransitionGroupChild",a.propTypes="production"!==e.env.NODE_ENV?i:{},b["default"]=a,c.exports=b["default"]}).call(b,C(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=r(n(10)),i=r(n(5));e.exports={TransitionGroup:i["default"],CSSTransitionGroup:o["default"]}},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return i.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function o(t,n){function e(e){return n.hasOwnProperty(e)?n[e]:t[e]}t=t||{},n=n||{};var r={},o=[];for(var i in t)n.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a=void 0,s={};for(var p in n){if(r.hasOwnProperty(p))for(a=0;a<r[p].length;a++){var c=r[p][a];s[r[p][a]]=e(c)}s[p]=e(p)}for(a=0;a<o.length;a++)s[o[a]]=e(o[a]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=o;var i=n(1)},function(e){e.exports=n}])}),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PortalClient=t():e.PortalClient=t()}(this,function(){return function(n){function r(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o={};return r.m=n,r.c=o,r.p="",r(0)}([function(e,t,n){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=n(1),h=n(2),f=n(3).TreeMirrorClient,o=function(){function i(e,t,n){var r=1<arguments.length&&t!==undefined?arguments[1]:"portal",o=2<arguments.length&&n!==undefined?arguments[2]:"portal";u(this,i),this.socked=e,this.channelName=r,this.id=o,this.sendMousePosition=h(this._sendMousePosition,200,{trailing:!0}).bind(this),this.sendWindowSize=h(this._sendWindowSize,200,{trailing:!0}).bind(this),this.sendScroll=h(this._sendScroll,200,{trailing:!0}).bind(this)}return d(i,[{key:"_sendMousePosition",value:function t(e){this.socketSend("mouseMove",{x:e.clientX,y:e.clientY})}},{key:"_sendWindowSize",value:function e(){this.socketSend("windowResize",{w:window.innerWidth,h:window.innerHeight})}},{key:"_sendScroll",value:function o(){var e;if(window.pageYOffset!=undefined)e={x:pageXOffset,y:pageYOffset};else{var t=document,n=t.documentElement,r=t.body;e={x:n.scrollLeft||r.scrollLeft||0,y:n.scrollTop||r.scrollTop||0}}this.socketSend("windowScroll",e)}},{key:"socketSend",value:function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=this.channel.users.getUsers();n.portalId=this.id,r&&1<r.length&&r.some(function(e){return!!e.admin})&&this.channel.trigger("client-"+e,n)}},{key:"createMirrorClient",value:function r(){var o=this;this.mirrorClient&&(this.mirrorClient.disconnect(),this.mirrorClient=null),this.mirrorClient=new f(document,{initialize:function n(e,t){o.socketSend("domEvent",{base:window.origin||window.location.origin,f:"initialize",args:[e,t]}),o.sendWindowSize()},applyChanged:function i(e,t,n,r){o.socketSend("domEvent",{f:"applyChanged",args:[e,t,n,r]})}})}},{key:"onClientPing",value:function n(e){this.id&&e.data&&this.id==e.data.portalId&&this.socketSend("pong")}},{key:"start",value:function s(){var e=this;this.channel||(this.channel=this.socked.subscribe(this.channelName),this.channel.on("internal:subscription_success",function(){e.createMirrorClient(),e.setupListeners(),e.socked.once("disconnected",e.end.bind(e))}),this.channel.on("client-initialize",function(){e.createMirrorClient()}),this.channel.on("client-ping",this.onClientPing.bind(this)))}},{key:"end",value:function p(){this.mirrorClient&&this.mirrorClient.disconnect(),this.mirrorClient=null,this.socked.unsubscribe(this.channelName),this.channel=null,this.teardownListeners()}},{key:"setupListeners",value:function c(){this.teardownListeners(),document.addEventListener("mousemove",this.sendMousePosition),window.addEventListener("resize",this.sendWindowSize),window.addEventListener("scroll",this.sendScroll)}},{key:"teardownListeners",value:function l(){document.removeEventListener("mousemove",this.sendMousePosition),window.removeEventListener("resize",this.sendWindowSize),window.removeEventListener("scroll",this.sendScroll)}}]),i}();r(o.prototype),e.exports=o},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){"use strict";function t(n,r,o){var i,a,s,p=null,c=0;o||(o={});var l=function l(){c=!1===o.leading?0:Date.now(),p=null,s=n.apply(i,a),p||(i=a=null)};return function(){var e=Date.now();c||!1!==o.leading||(c=e);var t=r-(e-c);return i=this,a=arguments,t<=0||r<t?(p&&(clearTimeout(p),p=null),c=e,s=n.apply(i,a),p||(i=a=null)):p||!1===o.trailing||(p=setTimeout(l,t)),s}}e.exports=t},function(e,t,n){"use strict";var c=n(4),r=function(){function e(e,t){this.root=e,this.delegate=t,this.idMap={}}return e.prototype.initialize=function(e,t){this.idMap[e]=this.root;for(var n=0;n<t.length;n++)this.deserializeNode(t[n],this.root)},e.prototype.applyChanged=function(e,t,n,r){var i=this;t.forEach(function(e){var t=i.deserializeNode(e);i.deserializeNode(e.parentNode),i.deserializeNode(e.previousSibling);t.parentNode&&t.parentNode.removeChild(t)}),e.forEach(function(e){var t=i.deserializeNode(e);t.parentNode&&t.parentNode.removeChild(t)}),t.forEach(function(e){var t=i.deserializeNode(e),n=i.deserializeNode(e.parentNode),r=i.deserializeNode(e.previousSibling);n.insertBefore(t,r?r.nextSibling:n.firstChild)}),n.forEach(function(r){var o=i.deserializeNode(r);Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];try{null===t?o.removeAttribute(e):i.delegate&&i.delegate.setAttribute&&i.delegate.setAttribute(o,e,t,r.attributes)||o.setAttribute(e,t)}catch(n){console.log(n)}})}),r.forEach(function(e){i.deserializeNode(e).textContent=e.textContent}),e.forEach(function(e){delete i.idMap[e.id]})},e.prototype.deserializeNode=function(n,e){var r=this;if(null===n)return null;var o=this.idMap[n.id];if(o)return o;var t=this.root.ownerDocument;switch(null===t&&(t=this.root),n.nodeType){case Node.COMMENT_NODE:o=t.createComment(n.textContent);break;case Node.TEXT_NODE:o=t.createTextNode(n.textContent);break;case Node.DOCUMENT_TYPE_NODE:o=t.implementation.createDocumentType(n.name,n.publicId,n.systemId);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(o=this.delegate.createElement(n.tagName)),o||(o=t.createElement(n.tagName)),Object.keys(n.attributes).forEach(function(e){try{r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(o,e,n.attributes[e],n.attributes)||o.setAttribute(e,n.attributes[e])}catch(t){console.log(t)}})}if(!o)throw"ouch";if(this.idMap[n.id]=o,e&&e.appendChild(o),n.childNodes)for(var i=0;i<n.childNodes.length;i++)this.deserializeNode(n.childNodes[i],o);return o},e}(),l=function l(e,t,n){var r=["password","secret","passwd","api_key","apikey","access_token","auth","credentials","mysql_pwd","stripetoken","card[number]"],o=/\b(?:3[47]\d|(?:4\d|5[1-5]|65)\d{2}|6011)\d{12}\b/,i=/-----BEGIN[A-Z ]+(PRIVATE|PUBLIC) KEY-----.+-----END[A-Z ]+(PRIVATE|PUBLIC) KEY-----/,a=/^\b(?!(000|666|9))\d{3}-(?!00)\d{2}-(?!0000)\d{4}\b/;return"input"!=e.tagName.toLowerCase()&&("textarea"!=e.tagName.toLowerCase()||"value"!=t)||!(e.name&&(0<r.indexOf(e.name.toLowerCase())||e.name.match(/^cc/i)||e.name.match(/cvv/i))||n&&(n.replace(/[\-\s]/g,"").match(o)||n.match(i)||n.replace(/[\-\s]/g,"").match(a)))},o=function(){function e(e,t,n){var r=this;this.target=e,this.mirror=t,this.nextId=1,this.knownNodes=new c.NodeMap;for(var o=this.serializeNode(e).id,i=[],a=e.firstChild;a;a=a.nextSibling)i.push(this.serializeNode(a,!0));this.mirror.initialize(o,i);var s=[{all:!0}];n&&(s=s.concat(n)),this.mutationSummary=new c({rootNode:e,callback:function p(e){r.applyChanged(e)},queries:s})}return e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=undefined)},e.prototype.rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},e.prototype.forgetNode=function(e){this.knownNodes["delete"](e)},e.prototype.serializeNode=function(e,t){if(null===e)return null;var n=this.knownNodes.get(e);if(n!==undefined)return{id:n};var r={nodeType:e.nodeType,id:this.rememberNode(e)};switch(r.nodeType){case Node.DOCUMENT_TYPE_NODE:var o=e;r.name=o.name,r.publicId=o.publicId,r.systemId=o.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:r.textContent=e.textContent;break;case Node.ELEMENT_NODE:var i=e;r.tagName=i.tagName,r.attributes={};for(var a=0;a<i.attributes.length;a++){var s=i.attributes[a];l(i,s.name,s.value)?r.attributes[s.name]=s.value:r.attributes[s.name]=""}if(t&&i.childNodes.length){r.childNodes=[];for(var p=i.firstChild;p;p=p.nextSibling)r.childNodes.push(this.serializeNode(p,!0))}}return r},e.prototype.serializeAddedAndMoved=function(e,t,n){var i=this,r=e.concat(t).concat(n),a=new c.NodeMap;r.forEach(function(e){var t=e.parentNode,n=a.get(t);n||(n=new c.NodeMap,a.set(t,n)),n.set(e,!0)});var s=[];return a.keys().forEach(function(e){for(var t=a.get(e),n=t.keys();n.length;){for(var r=n[0];r.previousSibling&&t.has(r.previousSibling);)r=r.previousSibling;for(;r&&t.has(r);){var o=i.serializeNode(r);o.previousSibling=i.serializeNode(r.previousSibling),o.parentNode=i.serializeNode(r.parentNode),s.push(o),t["delete"](r),r=r.nextSibling}n=t.keys()}}),s},e.prototype.serializeAttributeChanges=function(e){var r=this,o=new c.NodeMap;return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var t=o.get(e);t||((t=r.serializeNode(e)).attributes={},o.set(e,t)),l(e,n,e.getAttribute(n))?t.attributes[n]=e.getAttribute(n):t.attributes[n]=""})}),o.keys().map(function(e){return o.get(e)})},e.prototype.applyChanged=function(e){var n=this,t=e[0],r=t.removed.map(function(e){return n.serializeNode(e)}),o=this.serializeAddedAndMoved(t.added,t.reparented,t.reordered),i=this.serializeAttributeChanges(t.attributeChanged),a=t.characterDataChanged.map(function(e){var t=n.serializeNode(e);return t.textContent=e.textContent,t});this.mirror.applyChanged(r,o,i,a),t.removed.forEach(function(e){n.forgetNode(e)})},e}();e.exports={TreeMirror:r,TreeMirrorClient:o}},function(e){"use strict";var n,t,r=window.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};if((n="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver)===undefined)console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");else{(function v(){return Oeb===d.ENTERED||Oeb===d.EXITED});var d,o=function o(e){return'"'+e.replace(/"/,'\\"')+'"'},p=function p(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(g))throw Error("Invalid request option. invalid attribute name: "+e);return e},c=function c(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t={},n={},r=e.split(/\s+/),o=0;o<r.length;o++){if(i=r[o]){var i,a=(i=p(i)).toLowerCase();if(t[a])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");n[i]=!0,t[a]=!0}}return Object.keys(n)},i=function i(e){var t={};return e.forEach(function(e){e.qualifiers.forEach(function(e){t[e.attrName]=!0})}),Object.keys(t)},l=function(){function n(){this.nodes=[],this.values=[]}return n.prototype.isIndex=function(e){return+e==e>>>0},n.prototype.nodeId=function(e){var t=e[n.ID_PROP];return t||(t=e[n.ID_PROP]=n.nextId_++),t},n.prototype.set=function(e,t){var n=this.nodeId(e);this.nodes[n]=e,this.values[n]=t},n.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},n.prototype.has=function(e){return this.nodeId(e)in this.nodes},n.prototype["delete"]=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=undefined},n.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},n.ID_PROP="__mutation_summary_node_map_id__",n.nextId_=1,n}();(t=d||(d={}))[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED";var s=function(){function e(e,t,n,r,o,i,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=o,this.added=i,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return e.prototype.getAttributeOldValue=function(e){return this.attributeOldValues?(this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]):undefined},e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},e.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},e.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},e.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},e.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e}(),a=function(){function e(){this.added=new l,this.removed=new l,this.maybeMoved=new l,this.oldPrevious=new l,this.moved=undefined}return e}(),u=function(a){function e(e,t){a.call(this),this.rootNode=e,this.reachableCache=undefined,this.wasReachableCache=undefined,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var n=0;n<t.length;n++){var r=t[n];switch(r.type){case"childList":this.anyParentsChanged=!0;for(var o=0;o<r.removedNodes.length;o++){var i=r.removedNodes[o];this.getChange(i).removedFromParent(r.target)}for(o=0;o<r.addedNodes.length;o++){i=r.addedNodes[o];this.getChange(i).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=!0,this.getChange(r.target).attributeMutated(r.attributeName,r.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,this.getChange(r.target).characterDataMutated(r.oldValue)}}}return r(e,a),e.prototype.getChange=function(e){var t=this.get(e);return t||(t=new s(e),this.set(e,t)),t},e.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},e.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new l;var t=this.reachableCache.get(e);return t===undefined&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},e.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new l;var t=this.wasReachableCache.get(e);return t===undefined&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},e.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?d.STAYED_IN:d.ENTERED:this.getWasReachable(e)?d.EXITED:d.STAYED_OUT},e}(l),h=function(){function e(e,t,n,r,o){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=o,this.treeChanges=new u(e,t),this.entered=[],this.exited=[],this.stayedIn=new l,this.visited=new l,this.childListChangeMap=undefined,this.characterDataOnly=undefined,this.matchCache=undefined,this.processMutations()}return e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],undefined)},e.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((n&&n.childList||r==undefined)&&(r=this.treeChanges.reachabilityChange(e)),r!==d.STAYED_OUT){if(this.matchabilityChange(e),r===d.ENTERED)this.entered.push(e);else if(r===d.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(r===d.STAYED_IN){var o=d.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?(o=d.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(o=d.REORDERED)),this.stayedIn.set(e,o)}if(r!==d.STAYED_IN)for(var i=e.firstChild;i;i=i.nextSibling)this.visitNode(i,r)}}},e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);r||(r=new a,this.childListChangeMap.set(t,r)),r.oldPrevious.has(e)||r.oldPrevious.set(e,e.previousSibling)}},e.prototype.getChanged=function(e,t,n){this.selectors=t,this.characterDataOnly=n;for(var r=0;r<this.entered.length;r++){var o=this.entered[r];(s=this.matchabilityChange(o))!==d.ENTERED&&s!==d.STAYED_IN||e.added.push(o)}var i=this.stayedIn.keys();for(r=0;r<i.length;r++){o=i[r];if((s=this.matchabilityChange(o))===d.ENTERED)e.added.push(o);else if(s===d.EXITED)e.removed.push(o);else if(s===d.STAYED_IN&&(e.reparented||e.reordered)){var a=this.stayedIn.get(o);e.reparented&&a===d.REPARENTED?e.reparented.push(o):e.reordered&&a===d.REORDERED&&e.reordered.push(o)}}for(r=0;r<this.exited.length;r++){var s;o=this.exited[r];(s=this.matchabilityChange(o))!==d.EXITED&&s!==d.STAYED_IN||e.removed.push(o)}},e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);if(n===d.STAYED_OUT||n===d.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},e.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(r===undefined)throw Error("getOldAttribute requested for unchanged attribute name.");return r},e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,n;if(e){t={},n={};for(var r=0;r<e.length;r++){t[u=e[r]]=!0,n[u.toLowerCase()]=u}}var o={},i=this.treeChanges.keys();for(r=0;r<i.length;r++){var a=i[r],s=this.treeChanges.get(a);if(s.attributes&&(d.STAYED_IN===this.treeChanges.reachabilityChange(a)&&d.STAYED_IN===this.matchabilityChange(a)))for(var p=a,c=s.getAttributeNamesMutated(),l=0;l<c.length;l++){var u=c[l];if(!t||t[u]||s.isCaseInsensitive&&n[u])s.getAttributeOldValue(u)!==p.getAttribute(u)&&(n&&s.isCaseInsensitive&&(u=n[u]),o[u]=o[u]||[],o[u].push(p))}}return o},e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0;n<e.length;n++){var r=e[n];if(d.STAYED_IN===this.treeChanges.reachabilityChange(r)){var o=this.treeChanges.get(r);o.characterData&&r.textContent!=o.characterDataOldValue&&t.push(r)}}return t},e.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new l);var n=this.matchCache[e.uid],r=n.get(t);return r===undefined&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return d.STAYED_IN;default:return d.STAYED_OUT}if(!this.selectors)return d.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return d.STAYED_OUT;for(var n=e,r=this.selectors.map(function(e){return t.computeMatchabilityChange(e,n)}),o=d.STAYED_OUT,i=0;o!==d.STAYED_IN&&i<r.length;){switch(r[i]){case d.STAYED_IN:o=d.STAYED_IN;break;case d.ENTERED:o=o===d.EXITED?d.STAYED_IN:d.ENTERED;break;case d.EXITED:o=o===d.ENTERED?d.STAYED_IN:d.EXITED}i++}return o},e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new a,this.childListChangeMap.set(e,t)),t},e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new l;for(var e=0;e<this.mutations.length;e++){var n=function n(e,t){!e||r.oldPrevious.has(e)||r.added.has(e)||r.maybeMoved.has(e)||t&&(r.added.has(t)||r.maybeMoved.has(t))||r.oldPrevious.set(e,t)},t=this.mutations[e];if("childList"==t.type&&(this.treeChanges.reachabilityChange(t.target)===d.STAYED_IN||this.calcOldPreviousSibling)){for(var r=this.getChildlistChange(t.target),o=t.previousSibling,i=0;i<t.removedNodes.length;i++){var a=t.removedNodes[i];n(a,o),r.added.has(a)?r.added["delete"](a):(r.removed.set(a,!0),r.maybeMoved["delete"](a)),o=a}n(t.nextSibling,o);for(i=0;i<t.addedNodes.length;i++){a=t.addedNodes[i];r.removed.has(a)?(r.removed["delete"](a),r.maybeMoved.set(a,!0)):r.added.set(a,!0)}}}}},e.prototype.wasReordered=function(e){function n(e){if(!e)return!1;if(!a.maybeMoved.has(e))return!1;var t=a.moved.get(e);return t!==undefined||(s.has(e)?t=!0:(s.set(e,!0),t=o(e)!==r(e)),s.has(e)?(s["delete"](e),a.moved.set(e,t)):t=a.moved.get(e)),t}function r(e){var t=p.get(e);if(t!==undefined)return t;for(t=a.oldPrevious.get(e);t&&(a.removed.has(t)||n(t));)t=r(t);return t===undefined&&(t=e.previousSibling),p.set(e,t),t}function o(e){if(c.has(e))return c.get(e);for(var t=e.previousSibling;t&&(a.added.has(t)||n(t));)t=t.previousSibling;return c.set(e,t),t}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,i=this.treeChanges.get(e);i&&i.oldParentNode&&(t=i.oldParentNode);var a=this.childListChangeMap.get(t);if(!a)return!1;if(a.moved)return a.moved.get(e);a.moved=new l;var s=new l,p=new l,c=new l;return a.maybeMoved.keys().forEach(n),a.moved.get(e)},e}(),f=function(){function e(e,t){var n=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:undefined,this.reordered=t.all?[]:undefined,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var r=t.attribute?[t.attribute]:t.attributeList,o=e.attributeChangedNodes(r);t.attribute?this.valueChanged=o[t.attribute]||[]:(this.attributeChanged=o,t.attributeList&&t.attributeList.forEach(function(e){n.attributeChanged.hasOwnProperty(e)||(n.attributeChanged[e]=[])}))}if(t.all||t.characterData){var i=e.getCharacterDataChanged();t.characterData?this.valueChanged=i:this.characterDataChanged=i}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}return e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},e}(),R=/[a-zA-Z_]+/,N=/[a-zA-Z0-9_\-]+/,k=function(){function e(){}return e.prototype.matches=function(e){if(null===e)return!1;if(this.attrValue===undefined)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),n=0;n<t.length;n++)if(this.attrValue===t[n])return!0;return!1},e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+o(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+o(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},e}(),m=function(){function S(){this.uid=S.nextUid++,this.qualifiers=[]}var e;return Object.defineProperty(S.prototype,"caseInsensitiveTagName",{get:function t(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"selectorString",{get:function n(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),S.prototype.isMatching=function(e){return e[S.matchesSelector](this.selectorString)},S.prototype.wasMatching=function(e,t,n){if(!t||!t.attributes)return n;var r=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==r&&r!==e.tagName)return!1;for(var o=[],i=!1,a=0;a<this.qualifiers.length;a++){var s=this.qualifiers[a],p=t.getAttributeOldValue(s.attrName);o.push(p),i=i||p!==undefined}if(!i)return n;for(a=0;a<this.qualifiers.length;a++){s=this.qualifiers[a];if((p=o[a])===undefined&&(p=e.getAttribute(s.attrName)),!s.matches(p))return!1}return!0},S.prototype.matchabilityChange=function(e,t){var n=this.isMatching(e);return n?this.wasMatching(e,t,n)?d.STAYED_IN:d.ENTERED:this.wasMatching(e,t,n)?d.EXITED:d.STAYED_OUT},S.parseSelectors=function(e){function t(){r&&(o&&(r.qualifiers.push(o),o=undefined),a.push(r)),r=new S}function n(){o&&r.qualifiers.push(o),o=new k}for(var r,o,i,a=[],s=/\s/,p="Invalid or unsupported selector syntax.",c=1,l=2,u=3,d=4,h=5,f=6,m=7,g=8,y=9,v=10,b=11,C=12,x=13,w=14,E=c,_=0;_<e.length;){var T=e[_++];switch(E){case c:if(T.match(R)){t(),r.tagName=T,E=l;break}if("*"==T){t(),r.tagName="*",E=u;break}if("."==T){t(),n(),r.tagName="*",o.attrName="class",o.contains=!0,E=d;break}if("#"==T){t(),n(),r.tagName="*",o.attrName="id",E=d;break}if("["==T){t(),n(),r.tagName="*",o.attrName="",E=f;break}if(T.match(s))break;throw Error(p);case l:if(T.match(N)){r.tagName+=T;break}if("."==T){n(),o.attrName="class",o.contains=!0,E=d;break}if("#"==T){n(),o.attrName="id",E=d;break}if("["==T){n(),o.attrName="",E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case u:if("."==T){n(),o.attrName="class",o.contains=!0,E=d;break}if("#"==T){n(),o.attrName="id",E=d;break}if("["==T){n(),o.attrName="",E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case d:if(T.match(R)){o.attrValue=T,E=h;break}throw Error(p);case h:if(T.match(N)){o.attrValue+=T;break}if("."==T){n(),o.attrName="class",o.contains=!0,E=d;break}if("#"==T){n(),o.attrName="id",E=d;break}if("["==T){n(),E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case f:if(T.match(R)){o.attrName=T,E=m;break}if(T.match(s))break;throw Error(p);case m:if(T.match(N)){o.attrName+=T;break}if(T.match(s)){E=g;break}if("~"==T){o.contains=!0,E=y;break}if("="==T){o.attrValue="",E=b;break}if("]"!=T)throw Error(p);E=u;break;case g:if("~"==T){o.contains=!0,E=y;break}if("="==T){o.attrValue="",E=b;break}if("]"==T){E=u;break}if(T.match(s))break;throw Error(p);case y:if("="!=T)throw Error(p);o.attrValue="",E=b;break;case v:if("]"==T){E=u;break}if(T.match(s))break;throw Error(p);case b:if(T.match(s))break;if('"'==T||"'"==T){i=T,E=x;break}o.attrValue+=T,E=C;break;case C:if(T.match(s)){E=v;break}if("]"==T){E=u;break}if("'"==T||'"'==T)throw Error(p);o.attrValue+=T;break;case x:if(T==i){E=v;break}o.attrValue+=T;break;case w:if(T.match(s))break;if(","!=T)throw Error(p);E=c}}switch(E){case c:case l:case u:case h:case w:t();break;default:throw Error(p)}if(!a.length)throw Error(p);return a},S.nextUid=1,S.matchesSelector="function"==typeof(e=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof e.mozMatchesSelector?"mozMatchesSelector":"function"==typeof e.msMatchesSelector?"msMatchesSelector":"matchesSelector",S}(),g=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,y=function(){function s(e){var t=this;this.connected=!1,this.options=s.validateOptions(e),this.observerOptions=s.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=undefined),this.calcReordered=this.options.queries.some(function(e){return e.all}),this.queryValidators=[],s.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return s.createQueryValidator(t.root,e)})),this.observer=new n(function(e){t.observerCallback(e)}),this.reconnect()}return s.createObserverOptions=function(e){function n(e){r.attributes&&!t||(r.attributes=!0,r.attributeOldValue=!0,e?(t=t||{},e.forEach(function(e){t[e]=!0,t[e.toLowerCase()]=!0})):t=undefined)}var t,r={childList:!0,subtree:!0};return e.forEach(function(e){if(e.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(e.all)return n(),r.characterData=!0,void(r.characterDataOldValue=!0);if(e.attribute)n([e.attribute.trim()]);else{var t=i(e.elementFilter).concat(e.attributeList||[]);t.length&&n(t)}}),t&&(r.attributeFilter=Object.keys(t)),r},s.validateOptions=function(e){for(var t in e)if(!(t in s.optionKeys))throw Error("Invalid option: "+t);if("function"!=typeof e.callback)throw Error(
"Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var n={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},r=0;r<e.queries.length;r++){var o=e.queries[r];if(o.all){if(1<Object.keys(o).length)throw Error("Invalid request option. all has no options.");n.queries.push({all:!0})}else if("attribute"in o){if((a={attribute:p(o.attribute)}).elementFilter=m.parseSelectors("*["+a.attribute+"]"),1<Object.keys(o).length)throw Error("Invalid request option. attribute has no options.");n.queries.push(a)}else if("element"in o){var i=Object.keys(o).length,a={element:o.element,elementFilter:m.parseSelectors(o.element)};if(o.hasOwnProperty("elementAttributes")&&(a.attributeList=c(o.elementAttributes),i--),1<i)throw Error("Invalid request option. element only allows elementAttributes option.");n.queries.push(a)}else{if(!o.characterData)throw Error("Invalid request option. Unknown query request.");if(1<Object.keys(o).length)throw Error("Invalid request option. characterData has no options.");n.queries.push({characterData:!0})}}return n},s.prototype.createSummaries=function(e){if(!e||!e.length)return[];for(var t=new h(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),n=[],r=0;r<this.options.queries.length;r++)n.push(new f(t,this.options.queries[r]));return n},s.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){e&&e.recordPreviousState()})},s.prototype.runQueryValidators=function(n){this.queryValidators.forEach(function(e,t){e&&e.validate(n[t])})},s.prototype.changesToReport=function(e){return e.some(function(t){if(["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged&&Object.keys(t.attributeChanged).some(function(e){return!!t.attributeChanged[e].length}))return!0;return!1})},s.prototype.observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(t)&&this.callback(t),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},s.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},s.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:undefined},s.prototype.disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},s.NodeMap=l,s.parseElementFilter=m.parseSelectors,s.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},s}();e.exports=y}}])}),function(c){c.namespace("Reamaze"),c(document).off("Reamaze"),Reamaze={version:"2.1.2",visitor:null,_baseUrl:null,_settings:null,_ui:null,_customFields:null,_contactCustomFields:null,_callbacks:null,_preview:null,_translations:{},initialize:function(e,t,n,r){if(!(e=e||{}).account)throw"account is not defined";if(!e.app_domain)throw"app_domain is not defined";var o=e.account;if(o&&(o=o.toLowerCase()),this._baseUrl=e.protocol+o+"."+e.app_domain,this._baseDataUrl=e.protocol+o+"."+e.data_domain,this._pusherAppKey=e.pusherAppKey,this._ui=e.ui,this._customFields=n.widget,this._contactCustomFields=n.contact,this._settings=e,this._callbacks=r,this._translations=e.translations||{},this.styles=e.ui.styles||{},this.outbounds=e.outbounds||[],this.apps=e.apps||{},this.previewOptions=e.previewOptions||{},!this.styles.widgetColor&&this._ui&&this._ui.widget&&(this.styles.widgetColor=this._ui.widget.color||Reamaze.Styles["default"].widgetColor),this.styles.widgetColor){this.styles.headerBgColor||(this.styles.headerBgColor=this.styles.widgetColor);var i=3.25<Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.headerBgColor),Reamaze.Utils.parseColor(Reamaze.Styles.dark.headerFontColor))?Reamaze.Styles.dark.headerFontColor:Reamaze.Styles["default"].widgetIconColor;if(this.styles.headerFontColor||(this.styles.headerFontColor=i),!this.styles.buttonBgColor){this.styles.buttonBgColor=this.styles.widgetColor;var a=3.25<Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.buttonBgColor),Reamaze.Utils.parseColor(Reamaze.Styles.dark.buttonFontColor))?Reamaze.Styles.dark.buttonFontColor:Reamaze.Styles["default"].buttonFontColor;this.styles.buttonFontColor=a}this.styles.buttonBorder||(this.styles.buttonBorder="1px solid "+this.styles.widgetColor),this.styles.buttonLinkColor||(this.styles.buttonLinkColor=this.styles.widgetColor),this.styles.bodyLinkColor=this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.widgetColor),Reamaze.Utils.parseColor("#333"))<2&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.widgetColor)||this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.bodyLinkColor),Reamaze.Utils.parseColor("#333"))<4&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.bodyLinkColor,"rgb(0, 192, 255)")||this.styles.bodyLinkColor)),this.styles.buttonBorderRadius=Reamaze.Styles["default"].buttonBorderRadius,this.styles.inputBgColor=Reamaze.Styles["default"].inputBgColor,this.styles.inputFontColor=Reamaze.Styles["default"].inputFontColor,this.styles.inputBorder=Reamaze.Styles["default"].inputBorder}var s=function(){c(document).trigger("Reamaze.init",!window._rmzLoaded),document.dispatchEvent(new CustomEvent("Reamazeinit",{detail:!window._rmzLoaded})),window._rmzLoaded=!0,c.receiveMessage(function(e){try{var t=c.deparam(e.data);"reamaze:resize"==t._command?c(document).trigger("Reamaze.resize",t):"reamaze:navigate"==t._command?(c(document).trigger("Reamaze.navigate",t),c(document).trigger("Reamaze.resize",t)):"reamaze:new"==t._command?c(document).trigger("Reamaze.openPopup",t):"reamaze:esc"==t._command?c(document).trigger("Reamaze.closePopup"):"reamaze:widget:route"==t._command?c(document).trigger("Reamaze.Widget.route",t):"reamaze:anchorHeight"==t._command&&c(document).trigger("Reamaze.anchorHeight",t)}catch(e){}},function(e){return e===this._baseUrl||e===window.origin}.bind(this))}.bind(this);if(e._preview)return this._preview=!0,this.reset(),void(this._visitor=new Reamaze.Visitor(null,this._baseDataUrl,s,!0,!!e._setup));var p=Reamaze.localStorage.getItem("account");p?p!=this._settings.account&&Reamaze.reset():Reamaze.localStorage.setItem("account",this._settings.account),this._visitor=new Reamaze.Visitor(t,this._baseDataUrl,s)},_iframeform:function(e,t){var n=this;n.time=(new Date).getTime(),n.form=c('<form action="'+e+'" target="'+t.attr("name")+'" method="post" style="display:none;" id="form'+n.time+'"></form>'),n.addParameter=function(e,t){c("<input type='hidden' />").attr("name",e).attr("value",t).appendTo(n.form)},n.send=function(){c("body").append(n.form),n.form.submit(),t.bind("load",function(){c("#form"+c(this).data("time")).remove()})}},reset:function(){Reamaze.localStorage.reset(),Reamaze.sessionStorage.reset(),Reamaze.localStorage.setItem("account",this._settings.account)}}}(jQuery),function(o){o.namespace("Reamaze"),Reamaze.Styles={"default":{headerBgColor:"#10a2c5",headerFontColor:"#fff",headerFont:'"Nunito", Helvetica, Arial, sans-serif',bodyLinkColor:"#466bb8",bodyLinkDisabledColor:"#dedede",bodyFont:'"Nunito", Helvetica, Arial, sans-serif',bodyMutedFontColor:"#ccc",buttonBgColor:"#10a2c5",buttonFontColor:"#fff",buttonBorder:"1px solid #ccc",buttonLinkColor:"#10a2c5",buttonBorderRadius:"20px",inputBgColor:"#fff",inputFontColor:"#000",inputBorder:"1px solid #ddd",inputErrorColor:"#B94A48",widgetColor:"rgba(16, 161, 197, 1)",widgetIconColor:"rgba(255, 255, 255, 1)"},dark:{headerFontColor:"#5e5e5e",buttonFontColor:"#5e5e5e",widgetIconColor:"#5e5e5e"},fromBrand:function(e,t){var n=t||{},r={};return e&&e.preferences&&(r.headerBgColor=e.preferences.popup_header_bg_color,r.headerFontColor=e.preferences.popup_header_font_color,r.headerFont=e.preferences.popup_header_font,r.bodyLinkColor=e.preferences.popup_link_color,r.bodyFont=e.preferences.popup_body_font,r.buttonBgColor=e.preferences.popup_button_bg_color,r.buttonFontColor=e.preferences.popup_button_font_color,r.buttonBorder=e.preferences.popup_button_border,r.buttonBorderRadius=e.preferences.popup_button_border_radius,r.buttonLinkColor=e.preferences.popup_link_color,r.inputBgColor=e.preferences.popup_input_bg_color,r.inputFontColor=e.preferences.popup_input_font_color,r.inputBorder=e.preferences.popup_input_border),o.extend({},Reamaze.Styles["default"],r,n)}}}(jQuery),function(t){t.namespace("Reamaze"),Reamaze.Utils={getLocaleDateString:function(e){var t={formatMatcher:"basic",month:"short",day:"numeric"};(new Date).getYear()!=e.getYear()&&(t.year="numeric");try{return e.toLocaleDateString(window.navigator.language,t)}catch(n){return e.toLocaleDateString()}},getLocaleTimeString:function(e){try{return e.toLocaleTimeString(window.navigator.language,{formatMatcher:"basic",hour:"numeric",minute:"2-digit"})}catch(t){try{return e.toLocaleTimeString()}catch(t){return e.toLocaleTimeString("en-US",{formatMatcher:"basic",hour:"numeric",minute:"2-digit"})}}},entitiesDecode:function(e){return t("<textarea/>").html(e).text()},simpleFormat:function(e){var t=/\r\n?/g,n=/\n\n+/g,r=/([^\n]\n)(?=[^\n])/g,o=e;return(o=(o=(o=o.replace(t,"\n")).replace(n,"</p>\n\n<p>")).replace(r,"$1<br/>"))&&(o="<p>"+o+"</p>"),o=(o=o.replace(/^<p><p>/g,"<p>")).replace(/<\/p><\/p>$/g,"</p>")},escapeOnce:function(e){var t=/["><']|&(?!([a-zA-Z]+|(#\d+)|(#[xX][\dA-Fa-f]+));)/g,n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};return e.replace(t,function(e){return n[e]||e})},getUserDisplayDetails:function(t,e,n,r){if(!t)return null;var o=Reamaze.Utils.getDisplayStaffAvatars(e,n,r||("brand"===t.type?"brand-avatar":t.type));if("staff"==t.type){if(t.staffName&&e.allStaffAvatars){var i=e.allStaffAvatars.filter(function(e){return e.name===t.staffName});if(0<i.length)return{name:t.staffName||t.name,avatarUrls:[i[0].avatarUrl]}}var a=o[Math.floor(Math.random()*o.length)];return{name:a.name,avatarUrls:[a.avatarUrl]}}if("team"==t.type||"brand"==t.type)return{name:e.name,avatarUrls:o.map(function(e){return e.avatarUrl})};if(t){var s=t.avatarUrls||[];return t.avatarUrl&&(s=[t.avatarUrl]),{name:t.name,avatarUrls:s}}return null},getDisplayStaffAvatars:function(e,t,n){if("brand-avatar"===n&&e&&e.brandAvatarUrl)return[{avatarUrl:e.brandAvatarUrl}];if(t&&0<t.length)return t.map(function(e){return{avatarUrl:e}});var r=[];return e&&(e.liveStaffAvatars&&0<e.liveStaffAvatars.length?r=e.liveStaffAvatars:e.staffAvatars&&0<e.staffAvatars.length&&(r=e.staffAvatars)),r},pSBC:function(e,t,n){if("number"!=typeof e||e<-1||1<e||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||n&&"string"!=typeof n)return null;this.pSBCr||(this.pSBCr=function(e){var t=e.length,n={};if(9<t){if((e=e.split(",")).length<3||4<e.length)return null;n[0]=r(e[0].split("(")[1]),n[1]=r(e[1]),n[2]=r(e[2]),n[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(4<t?e[4]+""+e[4]:"")),e=r(e.slice(1),16),n[0]=e>>16&255,n[1]=e>>8&255,n[2]=255&e,n[3]=-1,9!=t&&5!=t||(n[3]=o(n[2]/255*1e4)/1e4,n[2]=n[1],n[1]=n[0],n[0]=e>>24&255)}return n});var r=parseInt,o=Math.round,i=9<t.length,a=(i="string"==typeof n?9<n.length||"c"==n&&!i:i,e<0),s=(e=a?-1*e:e,n=n&&"c"!=n?n:a?"#000000":"#FFFFFF",this.pSBCr(t)),p=this.pSBCr(n);return s&&p?i?"rgb"+(-1<s[3]||-1<p[3]?"a(":"(")+o((p[0]-s[0])*e+s[0])+","+o((p[1]-s[1])*e+s[1])+","+o((p[2]-s[2])*e+s[2])+(s[3]<0&&p[3]<0?")":","+(-1<s[3]&&-1<p[3]?o(1e4*((p[3]-s[3])*e+s[3]))/1e4:p[3]<0?s[3]:p[3])+")"):"#"+(4294967296+16777216*o((p[0]-s[0])*e+s[0])+65536*o((p[1]-s[1])*e+s[1])+256*o((p[2]-s[2])*e+s[2])+(-1<s[3]&&-1<p[3]?o(255*((p[3]-s[3])*e+s[3])):-1<p[3]?o(255*p[3]):-1<s[3]?o(255*s[3]):255)).toString(16).slice(1,-1<s[3]||-1<p[3]?undefined:-2):null},parseColor:function(e){if("#"==e.substr(0,1)){var t=(e.length-1)/3,n=[17,1,.062272][t-1];return[Math.round(parseInt(e.substr(1,t),16)*n),Math.round(parseInt(e.substr(1+t,t),16)*n),Math.round(parseInt(e.substr(1+2*t,t),16)*n)]}try{return e.split("(")[1].split(")")[0].split(",").map(function(e){return+e})}catch(r){return[NaN,NaN,NaN]}},colorLuminance:function(e,t,n){var r=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*r[0]+.7152*r[1]+.0722*r[2]},colorContrast:function(e,t){var n=this.colorLuminance(e[0],e[1],e[2]),r=this.colorLuminance(t[0],t[1],t[2]);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},massageUserAgent:function(e){var t=e.userAgent;if("MacIntel"===e.platform&&1<e.maxTouchPoints&&!window.MSStream){var n=t.indexOf("Safari/");return"ipad os _ like mac "+t.substring(0,n)+"Mobile "+t.substring(n)}return t}},Reamaze.Utils.Pusher={bindChunked:function(e,t,n){e.bind(t,n);var r={};e.bind("chunked-"+t,function(e){r.hasOwnProperty(e.id)||(r[e.id]={chunks:[],receivedFinal:!1});var t=r[e.id];t.chunks[e.index]=e.chunk,e["final"]&&(t.receivedFinal=!0),t.receivedFinal&&t.chunks.length===Object.keys(t.chunks).length&&(n(JSON.parse(t.chunks.join(""))),delete r[e.id])})}}}(jQuery),function(a,s,n,e,t){a.namespace("Reamaze.Conversations"),Reamaze.Conversations.ACTIONS={CONVERSATION_CREATED:"CONVERSATION_CREATED",CONVERSATION_UPDATED:"CONVERSATION_UPDATED",CHAT_ENDED:"CHAT_ENDED",CONVERSATION_STARTED_MESSAGE_TRIGGERED:"CONVERSATION_STARTED_MESSAGE_TRIGGERED",MESSAGE_CREATED:"MESSAGE_CREATED",MESSAGE_READ:"MESSAGE_READ",MESSAGE_APPRECIATED:"MESSAGE_APPRECIATED",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SUBMITTING_MODAL:"SUBMITTING_MODAL",GET_CONVERSATION:"GET_CONVERSATION",GET_CONVERSATION_CALLBACK:"GET_CONVERSATION_CALLBACK",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_CONVERSATIONS_CALLBACK:"GET_CONVERSATIONS_CALLBACK",VIDEO_CALL_OFFER:"VIDEO_CALL_OFFER",VIDEO_CALL_DECLINED:"VIDEO_CALL_DECLINED"};var r=function(e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.OPEN_MODAL:return e.modal=t.payload,e;case Reamaze.Conversations.ACTIONS.CLOSE_MODAL:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.SUBMITTING_MODAL:return e.modal.submitting=t.payload.submitting,e;default:return null}};Reamaze.Conversations.App=e({mixins:[TimerMixin],displayName:"Reamaze.Conversations.App",propTypes:{chatIsLive:t.bool,enableKb:t.bool,currentUser:t.object,active:t.bool,onAppMounted:t.func,contactHeader:t.string,conversations:t.object,conversationsFetched:t.bool,category:t.string,appContext:t.object.isRequired,contactMode:t.string,popupOptions:t.shape({override_placeholder:t.string,subject:t.string}),brandData:t.object},contextTypes:{window:t.object},getDefaultProps:function(){return{}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=a.extend({},this.state);t.effects=[],(t=r(t,e))&&this.setState(t)}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,submitting:!1}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};t.currentUser==this.state.currentUser&&t.inView==this.state.inView&&t.chatIsLive==this.state.chatIsLive||this.setState(t)},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4)},componentDidUpdate:function(e,t){(e.appContext.route!=this.props.appContext.route||this.props.active&&e.active!=this.props.active)&&(a(this.context.window).trigger("app:reinitjs"),t.modal&&this.setState({modal:null})),"conversations:show"!=this.props.appContext.route||this.props.conversations[this.props.appContext.routeParams.slug]||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_onBackButtonClicked:function(){this.props.appContext.prevRoute&&!this.props.appContext.prevRoute.match(/^conversations/)?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:this.props.appContext.prevRoute,routeParams:this.props.appContext.prevRouteParams}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_scrollContent:function(e){if(this.refs.content){var t=n.findDOMNode(this.refs.content);t.scrollTop="t"==e?0:"b"==e?100*t.scrollHeight:e}},_openEmailTranscriptPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"email_transcript",slug:e}})},_openEndChatPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"end_chat",slug:e}})},onSubmit:function(r){if(!this.props.appContext._preview){var o=this.props.conversations[this.props.appContext.routeParams.slug],i=o&&o.outbound&&1==o.messages.length;return i?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:r},slug:o.slug}}):this.setState({submitting:!0},function(){var e=this.props.appContext.getPusher(),t={message:r};e&&e.connection&&e.connection.socket_id&&(t.socket_id=e.connection.socket_id),this.props.currentUser&&(t.sparams=a.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3);t._zt=Reamaze.ec("0"+n),t._zt2=n,t._zc_field="5b5cd0da3121fc53b4bc84d0c8af2e81",this.state.chatIsLive&&(t.chat=1),i?(t._url=window.location.href,t._browser=Reamaze.Utils.massageUserAgent(window.navigator),o.outboundData&&(t.outbound_data_str=JSON.stringify(o.outboundData)),a.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations",type:"POST",data:t,success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})):a.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+o.slug+"/messages",type:"POST",data:t,beforeSend:function(e){e.requestId=Math.floor(99999999*Math.random()+1),e.messagePayload={id:"pending-"+e.requestId,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.message.body)),pending:!0,user:{id:this.props.currentUser.get("_id"),name:this.props.currentUser.get("name"),email:this.props.currentUser.get("email")},viewed:!1,createdAt:(new Date).toISOString(),requestId:e.requestId},t.message.attachment_ids&&(e.messagePayload.pendingData={message:{attachment_ids:t.message.attachment_ids}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e.messagePayload,conversationSlug:o.slug,conversationId:o.id,inView:!0}})}.bind(this),success:function(e,t,n){e.requestId=n.requestId,e.pending=!1,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e,conversationSlug:o.slug,conversationId:o.id,inView:!0}})}.bind(this),error:function(e){m=e.messagePayload,m.requestId=e.requestId,m.pending=!1,m.errored=!0,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:m,conversationSlug:o.slug,conversationId:o.id,inView:!0}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})}.bind(this)),!1}},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},getHeader:function(){var e=!1,t=null;if("conversations:show"==this.props.appContext.route&&(t=this.props.conversations[this.props.appContext.routeParams.slug])&&t.outbound&&1==t.messages.length&&(e=!0),t&&t.loaded&&!e){for(var o={},n=0;n<t.messages.length;n++){var r=t.messages[n];r.user.isStaff&&(o[r.user.id]=r.user)}if(1<Object.keys(o).length&&o[undefined]&&delete o[undefined],0<Object.keys(o).length)return s.createElement("div",{className:"staff-avatars"},Object.keys(o).slice(0,3).map(function(e,t){var n=o[e],r=n.avatarUrl||Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode)[0].avatarUrl;return s.createElement("img",{title:n.name,style:{position:"relative",zIndex:3-e},src:r,key:t})}.bind(this)))}return this.props.contactHeader||!1},getSecondaryHeader:function(){var e=!1,t=!1,n=null;return"conversations:show"==this.props.appContext.route&&(n=this.props.conversations[this.props.appContext.routeParams.slug])&&n.outbound&&n.outboundData&&1==n.messages.length&&(e=!0,n.outboundData.live&&Date.now()-n.outboundData.timestamp<6e5&&(t=!0)),!(!n||e&&!t)&&(n.isChat?s.createElement("div",{id:"secondary-header"},s.createElement("div",{id:"chat-actions"},s.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEmailTranscriptPopup(n.slug)}.bind(this),title:this.props.appContext.brand.preferences.trans_chat_email_transcript},s.createElement("i",{className:"fas rmzfa rmzfa-envelope anim-btn"})),"archived"!=n.status&&s.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEndChatPopup(n.slug)}.bind(this),title:this.props.appContext.brand.preferences.trans_chat_end_chat},s.createElement("i",{className:"fas rmzfa rmzfa-power-off anim-btn"})))):s.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.state.chatIsLive,brand:this.props.appContext.brand}))},getContent:function(){if("conversations:show"==this.props.appContext.route){var e=this.props.conversations[this.props.appContext.routeParams.slug];if(e)return s.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:a.extend({},e),dispatcher:this.state.dispatcher,channel:!e.outbound&&!e.preview&&this.props.appContext.getPusher().channel("presence-conversation-"+e.id),scrollContent:this._scrollContent,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,contactMode:this.props.contactMode,onPromptOptionClick:this.onSubmit,submitting:this.state.submitting,videoCallInformation:this.props.videoCallInformation,brandData:this.props.brandData})}else if("conversations:index"==this.props.appContext.route){if(Object.keys(this.props.conversations||{}).length)return s.createElement("div",{id:"recent-conversations-container"},s.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:this._scrollContent.bind(this,"t"),ref:"contentInner",appContext:this.props.appContext}))}else if("conversations:new"==this.props.appContext.route){var t="object"==typeof this.props.label?this.props.label.text:this.props.label;if("traditional"==this.props.contactMode)return s.createElement(Reamaze.Conversations.ContactForm,{appContext:this.props.appContext,inView:this.state.inView,currentUser:this.props.currentUser,category:this.props.category,override_placeholder:this.props.popupOptions.override_placeholder,subject:this.props.popupOptions.subject});var n=this.props.appContext.brand.allowIncidents&&0<this.props.appContext.brand.activeIncidents.length;if(t||n){var r=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},""),o=[];return n&&o.push({id:"*rmz-incident-text*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:r,meta:{buttons:[{text:this.props.appContext.brand.preferences.trans_status_view_status_button,script:function i(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})}.bind(this)}]}}),t&&o.push({id:"*rmz-prompt*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:this.props.label.text}),s.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:{id:"*rmz-prompt*",slug:"*rmz-prompt*",loaded:!1,outbound:!0,messages:o},dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,scrollContent:this._scrollContent,contactMode:this.props.contactMode,brandData:this.props.brandData})}}return null},getFooter:function(){if("conversations:show"==this.props.appContext.route&&this.props.conversations[this.props.appContext.routeParams.slug]){var e=this.props.conversations[this.props.appContext.routeParams.slug],t=e.messages&&0<e.messages.length?new Date-new Date(e.messages[e.messages.length-1].createdAt):0,n=6048e5,r=1728e5;return"archived"===e.status&&(e.isChat||r<t)||"resolved"===e.status&&n<t?s.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations,overridePlaceholder:this.props.popupOptions.override_placeholder}):s.createElement(Reamaze.Conversations.ConversationFooter,{conversation:a.extend({},this.props.conversations[this.props.appContext.routeParams.slug]),ref:"footer",dispatcher:this.state.dispatcher,scrollContentToBottom:this._scrollContent.bind(this,"b"),currentUser:this.state.currentUser,inView:this.state.inView,chatIsLive:this.state.chatIsLive,blur:!!this.state.modal,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.onSubmit,submitting:this.state.submitting})}return"conversations:new"==this.props.appContext.route&&"traditional"==this.props.contactMode?null:s.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations,overridePlaceholder:this.props.popupOptions.override_placeholder})},onNewMessageSubmit:function(e){var t=e.customer_body;delete e.customer_body,data={message:e,customer_body:t},this.props.currentUser&&(data.sparams=a.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3),r=Reamaze.ec("0"+n);return data._zt=r,data._zt2=n,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.state.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+r,data:data}}),!1},getModal:function(){if(!this.state.modal)return null;var e=0;if(this.refs.header){var t=n.findDOMNode(this.refs.header);t&&(e=t.offsetHeight||0)}return"end_chat"==this.state.modal.action?s.createElement(Reamaze.Conversations.EndChatModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"email_transcript"==this.state.modal.action?s.createElement(Reamaze.Conversations.EmailTranscriptModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"transitional"==this.state.modal.action?s.createElement(Reamaze.Conversations.TransitionalModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{bottom:0},appContext:this.props.appContext}):void 0},render:function(){if(!this.props.active)return null;var e=!(this.props.appContext.routeParams&&this.props.appContext.routeParams.noback||"conversations:show"!=this.props.appContext.route&&"conversations:new"!=this.props.appContext.route);return s.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},s.createElement(Reamaze.Conversations.Css,{appContext:this.props.appContext}),s.createElement(Reamaze.Shared.Header,{ref:"header",chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.getHeader(),allowHtmlHeader:!0,appContext:this.props.appContext,backButton:e,onBackButtonClicked:this._onBackButtonClicked,secondaryHeader:this.getSecondaryHeader()}),s.createElement("div",{id:"content",ref:"content",className:(this.state.modal?"rmz-blur":"")+" "+(!1===this.props.appContext.brand.attribution?"":"attributed")},s.createElement("div",{id:"content-inner",className:"traditional"==this.props.contactMode&&"conversations:new"==this.props.appContext.route?"flex":""},this.getContent()),s.createElement(Reamaze.Attribution,{appContext:this.props.appContext,style:{textAlign:"center",paddingBottom:"5px"}})),this.getFooter(),this.getModal())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Availability=r({displayName:"Reamaze.Conversations.Availability",propTypes:{chatIsLive:o.bool,brand:o.object},render:function(){var e=this.getAvailability();return e?t.createElement("div",{className:"availability"},e):null},getAvailability:function(){return this.props.chatIsLive?this.props.brand.preferences.trans_chat_online:this.props.brand.inOffice||!this.props.brand.nextOfficeTime?this.props.brand.staffResponseTime:this.nextOfficeHour()},_transNextOfficeHour:function(e,t,n){var r=null;return r="time"==(arguments.length<=2||n===undefined?"date":n)?Reamaze.Utils.getLocaleTimeString(e):Reamaze.Utils.getLocaleDateString(e),null!==t&&t<=5184e5&&(r=e.toLocaleDateString(window.navigator.language,{weekday:"long"})),this.props.brand.preferences.trans_popup_staff_next_available_time.replace(/{{\s*date_time\s*}}/g,r)},nextOfficeHour:function(){return t.createElement("span",null,t.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 93.651 93.651",style:{position:"relative",top:"4px",marginRight:"3px"},width:"18px",height:"18px"},t.createElement("path",{d:"M62.093,73.15c-6.914,6.679-15.97,10.31-25.404,10.31c-1.603,0-3.217-0.105-4.833-0.318  C11.831,80.508-2.318,62.073,0.315,42.047C2.95,22.022,21.38,7.871,41.411,10.506c0.515,0.068,1.024,0.152,1.531,0.24  c0.718,0.125,1.305,0.643,1.519,1.34c0.214,0.697,0.018,1.455-0.506,1.961c-4.536,4.381-7.628,9.811-9.071,15.851h-3.974  c1.243-5.848,3.853-11.21,7.684-15.774c-0.664-0.04-1.325-0.06-1.983-0.06c-16.179,0-30.289,12.023-32.455,28.488  C1.8,60.461,14.453,76.947,32.362,79.303c8.714,1.144,17.36-1.211,24.233-6.511c-6.034-1.719-11.336-4.895-15.584-9.072h5.921  c4.03,3.045,8.826,5.203,14.148,6.13c0.718,0.125,1.305,0.643,1.519,1.34C62.813,71.886,62.618,72.643,62.093,73.15z M71.026,57.598  c0-1.069-0.867-1.937-1.937-1.937h-9.212l10.453-10.555c0.549-0.555,0.712-1.387,0.411-2.108c-0.301-0.721-1.006-1.191-1.787-1.191  h-13.72c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.077L53.858,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.855C70.158,59.535,71.026,58.668,71.026,57.598z   M93.651,57.598c0-1.069-0.867-1.937-1.937-1.937h-9.211l10.453-10.555c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H77.86c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.076L76.484,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.854C92.784,59.535,93.651,58.668,93.651,57.598z   M48.798,57.598c0-1.069-0.867-1.937-1.937-1.937H29.77l18.257-18.436c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H25.127c-1.07,0-1.937,0.867-1.937,1.936c0,1.07,0.867,1.937,1.937,1.937h16.881  L23.751,56.236c-0.55,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h21.735  C47.931,59.535,48.798,58.668,48.798,57.598z",fill:"#FFFFFF",style:{fill:"#fff"}}))," ",function(){var e=new Date(this.props.brand.nextOfficeTime),t=new Date,n=e-t;if(864e5<n||t.getDate()!==e.getDate()){try{return this._transNextOfficeHour(e,n)}catch(r){}return this._transNextOfficeHour(e,null)}return this._transNextOfficeHour(e,null,"time")}.bind(this)())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatBusyMessage=n({displayName:"Reamaze.Conversations.ChatBusyMessage",mixins:[TimerMixin],propTypes:{appContext:o.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){
this.setState({visible:!0})}.bind(this),300)},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3);return r.createElement("li",{className:"message staff chat-busy prompt rmz-fade "+(this.state.visible?"in":"")},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},this.props.appContext.brand.preferences.trans_chat_staff_busy," ",this.props.appContext.brand.preferences.trans_chat_staff_busy_follow_up)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatEndedMessage=n({displayName:"Reamaze.Conversations.ChatEndedMessage",mixins:[TimerMixin],propTypes:{appContext:o.object.isRequired,conversation:o.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var e,n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3),t=this.props.appContext.brand.preferences.trans_chat_ended.match(/\[(.*?)\]/);return e=t&&t[1]?r.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_ended.replace(/\[(.*?)\]/,'<a href="'+this.props.conversation.permalink+'" target="_blank">$1</a>')}}):r.createElement("div",null,this.props.appContext.brand.preferences.trans_chat_ended),r.createElement("li",{className:"message staff chat-ended prompt rmz-fade "+(this.state.visible?"in":"")},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,r,e,o){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactForm=e({displayName:"Reamaze.Conversations.ContactForm",mixins:[TimerMixin],propTypes:{appContext:o.object.isRequired,inView:o.bool,override_placeholder:o.string,subject:o.string},getDefaultProps:function(){return{inView:!1}},getInitialState:function(){return{uploading:!1,attachmentsCount:0,showErrors:!1,submitting:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.submitting!=t.submitting||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors},contextTypes:{window:o.object},componentDidMount:function(){t(this.context.window.document).find("#contact_form").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)).on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)).on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)).on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),t(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize(r.findDOMNode(this.refs.body))},componentDidUpdate:function(){t(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(r.findDOMNode(this.refs.body))},componentWillUnmount:function(){t(this.context.window.document).find("#contact_form").off("attachments:add").off("attachments:remove").off("attachments:start").off("attachments:done"),t(this.context.window.document).find(r.findDOMNode(this.refs.fileupload1)).remove(),t(this.context.window.document).find(r.findDOMNode(this.refs.fileupload2)).remove()},_getStyleTag:function(){return n.createElement("style",null,"\n          form#contact_form #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#contact_form input#fileupload {\n            position: absolute;\n          }\n          form#contact_form #fileupload-wrap > div {\n            margin-right: 10px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#contact_form .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#contact_form .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#contact_form.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#contact_form .attachments-error-indicator {\n            display: none;\n          }\n          form#contact_form.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#contact_form .action-bar {\n            text-align: right;\n          }\n          form#contact_form #body-container {\n            margin-bottom: 10px;\n          }\n          form#contact_form #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            min-height: 100%;\n            height: 100px;\n            overflow-y: hidden;\n            -ms-overflow-style: none;\n            resize: none;\n          }\n          form#contact_form .attachment-box {\n            display: none;\n          }\n          form#contact_form .attachment-box.in {\n            display: block;\n          }\n          ")},_onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),!this.state.uploading&&!this.props.appContext._preview)return 0<t(this.refs.form).find(".input-error").length?(this.setState({showErrors:!0}),t(this.refs.form).find(".input-error")[0].scrollIntoView(),void t(this.refs.form).find(".input-error :input")[0].focus()):(this.state.showErrors&&this.setState({showErrors:!1}),this.setState({submitting:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{formData:t(r.findDOMNode(this.refs.form)).serializeArray()}}),!1)},_submit:function(){t(this.refs.submitButton).click()},_getCaptchas:function(){var e="customer_body_data_"+parseInt(Date.now()/1e3,10);return n.createElement("div",{id:e},n.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),n.createElement("label",{htmlFor:"customer_body"},"Do not fill in this field"),n.createElement("textarea",{name:"customer_body",id:"customer_body",ref:"customer_body"}))},render:function(){var e=this.state.messageBlank&&this.state.showErrors,t=!!this.props.currentUser.get("_id");return n.createElement("div",{className:"flex"},this._getStyleTag(),n.createElement("form",{id:"contact_form",method:"POST",className:"upload-attachments popup flex","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"conversation[messages_attributes][0][attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"1.5em 2em 1em 2em"}},this.props.subject&&n.createElement("input",{type:"hidden",name:"conversation[subject]",value:this.props.subject}),n.createElement("fieldset",{disabled:this.state.submitting,id:"new-conversation-fieldset",className:"flex",style:{opacity:this.state.submitting?"0.7":1}},n.createElement("div",{className:"flex flex-column",style:{minHeight:"100%"}},n.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!t,showCategory:!0,showCustomFields:!0,showErrors:this.state.showErrors}),n.createElement("div",{id:"body-container",className:"flex flex-column flex-grow"},n.createElement("textarea",{name:"message[body]",placeholder:this.props.override_placeholder||this.props.appContext.brand.preferences.trans_body,className:"mousetrap "+(this.state.messageBlank?"input-error":"")+" flex-grow",style:{boxShadow:e?"red 0px 1px 0px 0px":"none"},ref:"body",name:"conversation[messages_attributes][0][body]",required:"required"})),n.createElement("div",{className:"action-bar flex"},n.createElement("div",{className:"attachment-box public"},n.createElement("div",{className:"attachments-list-wrap"},n.createElement("div",{className:"close"},n.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),n.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},n.createElement("li",{className:"attachment-wrap add-attachment"},n.createElement("a",{className:"preview-wrap upload-wrap"},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),n.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),n.createElement("div",{id:"fileupload-wrap",role:"button",className:(0<this.state.attachmentsCount?"attachment-view":"")+" anim-btn flex-grow"},this.state.uploading&&n.createElement(Reamaze.Spinner,{style:{width:"32px",height:"32px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),n.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),n.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),0<this.state.attachmentsCount&&n.createElement("span",{className:"attachment-count"}),n.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),n.createElement("button",{type:"submit",className:"btn btn-primary anim-btn",disabled:this.state.submitting},this.props.appContext.brand.preferences.trans_send_message))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(a,n,e,t,r){a.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactFormFields=t({displayName:"Reamaze.Conversations.ContactFormFields",mixins:[TimerMixin],propTypes:{appContext:r.object.isRequired,category:r.string,inView:r.bool,currentUser:r.object.isRequired,showIdentity:r.bool,showCategory:r.bool,showCustomFields:r.bool,showErrors:r.bool,conversation:r.object},getDefaultProps:function(){return{showIdentity:!0,showCategory:!0,showCustomFields:!0}},getInitialState:function(){return{formFieldValues:{}}},componentDidMount:function(){this.focusInput()},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.focusInput()},focusInput:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.inputToFocus&&this.inputToFocus.focus()}.bind(this),500)},getIdentityFields:function(){return[n.createElement(Reamaze.Conversations.Field,{field:{type:"text",name:"user[name]",placeholder:this.props.appContext.brand.preferences.trans_name,required:!0,value:this.props.currentUser.get("name")},key:"userName",k:"userName",showErrors:this.props.showErrors,ref:"userName",required:"required",focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation}),n.createElement(Reamaze.Conversations.Field,{field:{type:"email",name:"user[email]",placeholder:this.props.appContext.brand.preferences.trans_email,required:!0,value:this.props.currentUser.get("email")},key:"userEmail",k:"userEmail",ref:"userEmail",required:"required",showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation})]},getCategoryField:function(){return this.props.category?n.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.category,ref:"category_id"}):0==this.props.appContext.brand.categories.length?null:1<this.props.appContext.brand.categories.length?n.createElement("div",{className:"field-container"},n.createElement("select",{id:"conversation_category_id",name:"category_id",ref:"category_id"},this.props.appContext.brand.categories.map(function(e){return n.createElement("option",{value:e.id,key:e.id},e.name)}))):n.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.appContext.brand.categories[0].id,ref:"category_id"})},updateField:function(e,t){var n=this.state.formFieldValues;n[e]=t,this.setState({formFieldValues:n})},buildFormField:function(t){var e=a.extend({},this.props.appContext.customFields[t]);return"heading"==e.type?n.createElement("div",{className:"heading",style:{margin:"5px 7px 10px 7px"},pos:e.pos,key:t,dangerouslySetInnerHTML:{__html:e.value}}):("order_number"===e.type?e.type="text":"phone"===e.type&&(e.type="tel"),e.name="conversation[data]["+t+"]",n.createElement(Reamaze.Conversations.Field,{pos:e.pos,field:e,key:t,k:t,showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),onChange:function(e){this.updateField(t,e)}.bind(this)}))},getCustomFields:function(){var o=this.props.appContext.customFields||{},e=Object.keys(this.props.appContext.customFields||{}),i=this.state.formFieldValues;return 0==e.length?null:e.reduce(function(e,t){var n=a.extend({},this.props.appContext.customFields[t]);if(n.dependantField){var r=i[n.dependantField];if(!(o[n.dependantField]&&"checkbox"===o[n.dependantField].type?r===undefined?!!o[n.dependantField].value:r:(n.dependantOptions||[]).find(function(e){return r===e})))return e}return e.push(this.buildFormField(t)),e}.bind(this),[]).sort(function(e,t){return(parseInt(e.props.pos)||0)-(parseInt(t.props.pos)||0)})},render:function(){return n.createElement("div",null,this.props.showCategory&&this.getCategoryField(),this.props.showIdentity&&this.getIdentityFields(),this.props.showCustomFields&&this.getCustomFields())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(p,c,e,t,n){p.namespace("Reamaze.Conversations"),Reamaze.Conversations.Conversation=t({displayName:"Reamaze.Conversations.Conversation",mixins:[TimerMixin],propTypes:{conversation:n.shape({id:n.any,slug:n.string,messages:n.arrayOf(n.object),permalink:n.string,isChat:n.bool,status:n.oneOf(["active","resolved","archived"]),unread:n.bool,loaded:n.bool,outbound:n.bool,outboundData:n.object,pending:n.bool,satisfactionRating:n.object}),scrollContent:n.func,currentUser:n.object,channel:n.any,inView:n.bool,documentVisible:n.bool,appContext:n.object.isRequired,chatIsLive:n.bool,category:n.string,videoCallInformation:n.object,brandData:n.object},getDefaultProps:function(){return{}},getInitialState:function(){return{typers:{},visible:!1,conversationStartedMessageId:null}},contextTypes:{window:n.object},componentDidMount:function(){this.props.conversation.pending?this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0):this.props.conversation.loaded||this.props.conversation.outbound?this.onConversationFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}}),"conversations:new"==this.props.appContext.route&&this.props.inView&&Reamaze.Analytics.track("New Conversation Form Shown")},componentWillUnmount:function(){this.props.channel&&this.props.channel.unbind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.unbind("pusher:member_removed",this._onMemberRemoved)},componentDidUpdate:function(e,t){if(!this.props.conversation.pending){if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return void this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}});if("conversations:new"==this.props.appContext.route&&this.props.inView!=e.inView&&Reamaze.Analytics.track("New Conversation Form Shown"),this.props.conversation.outbound)return void this.markAsRead();var n=function(e){return e.map(function(e){return e.id})},r=!e.conversation.loaded||n(e.conversation.messages).join(",")!=n(this.props.conversation.messages).join(","),o=Object.keys(t.typers).length<Object.keys(this.state.typers).length;(r||o)&&this.props.scrollContent("b"),!r&&e.inView&&e.documentVisible||this.markAsRead()}},componentWillReceiveProps:function(e){e.conversation.pending||e.conversation.loaded&&!this.props.conversation.loaded&&this.setTimeout(this.onConversationFetched,0);var t=this.props.conversation.isChat&&"archived"==this.props.conversation.status;e.conversation.insertConversationStartedMessageId&&!this._hasStaffMessage()&&this._hasCustomerMessage()&&!t&&this.props.conversation.insertConversationStartedMessageId!=e.conversation.insertConversationStartedMessageId&&this.setState({conversationStartedMessageId:this.props.conversation.messages[this.props.conversation.messages.length-1].id})},onConversationFetched:function(){var e=this.props.conversation.isChat&&"archived"==this.props.conversation.status,t={};!this.props.conversation.id||!this.props.conversation.loaded||this._hasStaffMessage()||!this._hasCustomerMessage()||e||this.props.conversation.botsEnabled&&!this.props.conversation.botHandoverTimestamp||(t.conversationStartedMessageId=this.props.conversation.messages[this.props.conversation.messages.length-1].id),this.checkChatTimeout(),this.setState(t,function(){this.setTimeout(function(){this.props.scrollContent("b"),this.setState({visible:!0})}.bind(this),300)}.bind(this)),this.props.appContext._preview||(this.props.channel&&this.props.channel.bind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.bind("pusher:member_removed",this._onMemberRemoved),this.markAsRead())},markAsRead:function(){if(this.props.inView&&this.props.documentVisible&&this.props.conversation.unread){var e=function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e.slug,props:e}})}.bind(this);if(this.props.conversation.outbound){var t=JSON.parse(JSON.stringify(this.props.conversation));t.unread=!1,e(t)}else!this._hasStaffMessage()&&this._hasBotMessage()?this.setTimeout(function(){this.props.documentVisible&&this._ajaxMarkRead(e)},5e3):this._ajaxMarkRead(e)}},_ajaxMarkRead:function(t){p.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/mark_read",type:"POST",data:{sparams:p.param({sso:this.props.currentUser.ssoData()})},success:function(e){t(e.conversation)}.bind(this),crossDomain:!0})},_onPusherClientStatusEvent:function(e){var t=p.extend({},this.state.typers||{});"typing:start"==e.status?t[e.id]=e:"typing:stop"==e.status&&delete t[e.id],this.setState({typers:t})},_onMemberRemoved:function(e){var t=p.extend({},this.state.typers||{});t[e.id]&&(delete t[e.id],this.setState({typers:t}))},_onAnswerVideoCall:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{}})},_onDeclineVideoCall:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}})},_lastMessageIsCustomer:function(){return!this.props.conversation.messages[this.props.conversation.messages.length-1].user.displayAsStaff},_hasOutboundMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(this.props.conversation.outboundData)return!0;return!1},_hasStaffMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(this.props.conversation.messages[e].user.isStaff)return!0;return!1},_hasBotMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(!this.props.conversation.messages[e].user.isStaff&&this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},_hasCustomerMessage:function(){for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},firstCustomerMessage:function(){if(!this.props.conversation.messages)return null;for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return this.props.conversation.messages[e]},checkChatTimeout:function(){var e=this.firstCustomerMessage();if(this.props.conversation.isChat&&!this._hasStaffMessage()&&!this._hasOutboundMessage()&&e){var t=Date.now()-new Date(e.createdAt).getTime();t<1e3*this.props.appContext.brand.preferences.unserved_chat_timeout&&(this.timeoutId&&this.clearTimeout(this.timeoutId),this.timeoutId=this.setTimeout(this.forceUpdate,1e3*this.props.appContext.brand.preferences.unserved_chat_timeout-t+1e3))}},onMoreDetailsSubmit:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{slug:this.props.conversation.slug,formData:e}})},render:function(){var n=this.state.typers,e=this.props.conversation.messages,t=[];if(this.props.conversation.pending)for(i=e.length-1;0<=i;i--){(a=e[i]).showViewedStatus=!1,t.unshift(c.createElement(Reamaze.Conversations.Message,{key:"message-"+a.id,message:p.extend({},a),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext,brandData:this.props.brandData}))}else{if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return c.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:this.props.appContext.brand.styles.widgetColor});for(var r,o,i=e.length-1;0<=i;i--){var a;(a=e[i]).user.displayAsStaff||(a.showViewedStatus=!1,o||(a.showViewedStatus=!0,o=a),a.viewed&&!r&&(a.showViewedStatus=!0,r=a)),this.state.conversationStartedMessageId&&a.id==this.state.conversationStartedMessageId&&!a.user.displayAsStaff&&t.unshift(c.createElement(Reamaze.Conversations.ConversationStartedMessage,{key:"convo-started-message",appContext:this.props.appContext,isChat:this.props.conversation.isChat,scrollContent:this.props.scrollContent})),t.unshift(c.createElement(Reamaze.Conversations.Message,{key:"message-"+a.id,message:p.extend({},a),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext,onButtonSelect:1==this.props.conversation.messages.length?this.props.onPromptOptionClick:function(){},brandData:this.props.brandData}))}if(this.props.conversation.isChat)if("archived"==this.props.conversation.status)t.push(c.createElement(Reamaze.Conversations.ChatEndedMessage,{key:"chat-ended-message",appContext:this.props.appContext,conversation:this.props.conversation,ref:function(){this.props.scrollContent("b")}.bind(this)})),this.props.conversation.satisfactionRating&&t.push(c.createElement(Reamaze.Conversations.SatisfactionRating,{currentUser:this.props.currentUser,appContext:this.props.appContext,conversation:this.props.conversation,satisfactionRating:this.props.conversation.satisfactionRating}));else{var s=this.firstCustomerMessage();if(s)if(!(this._hasStaffMessage()||this.props.conversation.botsEnabled&&!this.props.conversation.botHandoverTimestamp)){new Date(s.createdAt)<(this.props.conversation.botsEnabled?new Date(new Date(this.props.conversation.botHandoverTimestamp).getTime()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout):new Date(Date.now()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout))&&t.push(c.createElement(Reamaze.Conversations.ChatBusyMessage,{key:"chat-busy-message",appContext:this.props.appContext}))}}}return c.createElement("div",{key:"conversation-"+this.props.conversation.id,className:"conversation conversation-react rmz-fade "+(this.state.visible?" in":"")},c.createElement("ul",{id:"messages-list"},t,this.props.videoCallInformation&&this.props.videoCallInformation.offer&&c.createElement(Reamaze.Conversations.VideoCallMessage,{onAnswerClick:this._onAnswerVideoCall,onDeclineClick:this._onDeclineVideoCall,user:this.props.videoCallInformation.user,appContext:this.props.appContext}),this.props.conversation.pending&&c.createElement(Reamaze.Conversations.MoreDetailsMessage,{appContext:this.props.appContext,chatIsLive:this.props.chatIsLive,category:this.props.category,inView:this.props.inView,onSubmit:this.onMoreDetailsSubmit,conversation:this.props.conversation,currentUser:this.props.currentUser,scrollContent:this.props.scrollContent,contactMode:this.props.contactMode}),Object.keys(n).map(function(e){var t=n[e];return c.createElement(Reamaze.Conversations.TypingMessage,{user:{avatarUrl:t.image_url,name:t.name,id:t.id,displayAsStaff:t.staff},key:"typing-"+e,appContext:this.props.appContext})}.bind(this))),!!this.props.conversation.promptOptions&&0<this.props.conversation.promptOptions.length&&!this._lastMessageIsCustomer()&&c.createElement(Reamaze.Conversations.PromptOptions,{onPromptOptionClick:this.props.onPromptOptionClick,promptOptions:this.props.conversation.promptOptions,submitting:this.props.submitting,scrollContent:this.props.scrollContent}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationFooter=r({displayName:"Reamaze.Conversations.ConversationFooter",propTypes:{conversation:o.object,dispatcher:o.object,scrollContentToBottom:o.func,currentUser:o.object,inView:o.bool,chatIsLive:o.bool,blur:o.bool,appContext:o.object.isRequired,submitting:o.bool,onSubmit:o.func.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{showTransitional:this._shouldShowTransitional(this.props)}},componentWillReceiveProps:function(e){this.setState({showTransitional:this._shouldShowTransitional(e)})},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.props.inView!=e.inView||this.props.conversation.status!=e.conversation.status||this.props.conversation.loaded!=e.conversation.loaded||this.props.chatIsLive!=e.chatIsLive||this.props.blur!=e.blur||this.state.showTransitional!=t.showTransitional||this.props.conversation.pending!=e.conversation.pending||this.props.contactMode!=e.contactMode},_shouldShowTransitional:function(e){return(!!e.currentUser.get("anon_id")||!e.currentUser.get("email"))&&e.conversation.loaded},render:function(){if("archived"==this.props.conversation.status&&this.props.conversation.isChat)return null;if(this.props.conversation.pending){if(Object.keys(this.props.appContext.customFields))return null;if(!this.props.currentUser.get("_id")){if("none"==this.props.contactMode||"default"==this.props.contactMode)return null;if("mixed"==this.props.contactMode&&this.props.appContext.brand.chatEnabled&&!this.props.appContext.chatIsLive)return null;if("mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime)return null}}return this.props.appContext._preview?null:t.createElement("div",{id:"footer",ref:"footer",style:{padding:"10px 0 10px 0"},className:this.props.blur?"rmz-blur":""},t.createElement("style",null,"\n            #conversation-footer .alert:hover {\n              opacity: 0.8;\n            }\n          "),this.state.showTransitional&&t.createElement("div",{className:"alert alert-warning",style:{margin:"10px 10px 0px 10px",textAlign:"center",cursor:"pointer",fontSize:"0.9em",padding:"8px",position:"relative",top:"-10px",borderRadius:"15px"},ref:"transitional",onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"transitional",slug:this.props.conversation.slug}})}.bind(this)},this.props.appContext.brand.preferences.trans_transitional_email_cta),t.createElement(Reamaze.Conversations.RespondForm,{id:this.props.conversation.id,slug:this.props.conversation.slug,isChat:this.props.conversation.isChat,dispatcher:this.props.dispatcher,scrollContentToBottom:this.props.scrollContentToBottom,currentUser:this.props.currentUser,outbound:this.props.conversation.outbound,outboundData:this.props.conversation.outboundData,inView:this.props.inView,ref:"respondForm",chatIsLive:this.props.chatIsLive,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.props.onSubmit,submitting:this.props.submitting}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,r,t,n,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationList=n({displayName:"Reamaze.Conversations.ConversationList",mixins:[TimerMixin],propTypes:{conversations:o.object,conversationsFetched:o.bool,onMount:o.func,appContext:o.object.isRequired},contextTypes:{window:o.object},getDefaultProps:function(){return{conversations:{}}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.props.onMount(),this.props.conversationsFetched?this.onConversationsFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})},componentWillReceiveProps:function(e){e.conversationsFetched&&!this.props.conversationsFetched&&this.onConversationsFetched()},onConversationsFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},getSortedConversations:function(){return Object.keys(this.props.conversations).map(function(e){return this.props.conversations[e]}.bind(this)).sort(function(e,t){if(e.unread&&!t.unread)return-1;if(t.unread&&!e.unread)return 1;var n=new Date(e.messages&&0<e.messages.length?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&0<t.messages.length?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1})},render:function(){var e=this.props.conversationsFetched?this.getSortedConversations():[],t=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.55,t.headerBgColor)||"#999";return this.props.conversationsFetched?r.createElement("div",null,r.createElement("style",null,
"\n              #recent-conversations li {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                cursor: pointer;\n                border-left: 1px solid transparent;\n                padding: 12px 15px;\n                transition: all 0.25s linear;\n                opacity: 0.8;\n              }\n              #recent-conversations li .body {\n                opacity: 0.85;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                overflow: hidden;\n              }\n              #recent-conversations li.unread {\n                opacity: 1;\n                color: #000;\n                font-weight: bold;\n              }\n              #recent-conversations li:hover,\n              #recent-conversations li.unread:hover {\n                border-left: 1px solid "+t.headerBgColor+";\n              }\n              #recent-conversations li div.icon {\n                color: "+n+";\n                width: 20px;\n                overflow: hidden;\n                font-size: 16px;\n                position: relative;\n              }\n              #recent-conversations li div.icon i {\n                margin-top: -8px;\n                position: relative;\n                top: 50%;\n                display: block;\n                text-align: center;\n              }\n              #recent-conversations li .main .name {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                margin-bottom: 2px;\n                align-items: center;\n              }\n              #recent-conversations li .main .name .thumb {\n                width: 25px;\n                height: 20px;\n                padding-right: 5px;\n              }\n              #recent-conversations li .main .name .thumb img {\n                width: 20px;\n                height: 20px;\n                border-radius: 20px;\n              }\n              #recent-conversations li .main .name .names {\n                width: 100%;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n              #recent-conversations li .main .name .timestamp {\n                flex-shrink: 0;\n                font-size: 0.8em;\n                white-space: nowrap;\n                color: #737373;\n                text-align: right;\n              }\n              #recent-conversations li .main {\n                width: 100%;\n                overflow: hidden;\n                padding-left: 10px;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n              }\n            "),r.createElement("ul",{id:"recent-conversations",className:"rmz-fade "+(this.state.visible?"in":"")},e.map(function(e){return r.createElement(Reamaze.Conversations.ConversationListItem,_extends({key:e.id},e,{appContext:this.props.appContext}))}.bind(this)))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,p,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationListItem=n({displayName:"Reamaze.Conversations.ConversationListItem",propTypes:{id:r.any.isRequired,slug:r.string.isRequired,messages:r.arrayOf(r.object),isChat:r.bool,status:r.oneOf(["active","resolved","archived"]),unread:r.bool,appContext:r.object.isRequired,outbound:r.bool},getDefaultProps:function(){return{}},contextTypes:{window:r.object},_getNamesToDisplay:function(){for(var e={},t=[],n=this.props.messages.length-1;0<=n;n--){var r=this.props.messages[n].user;r.displayAsStaff&&r.id&&!e[r.id]&&(e[r.id]=1,t.push(r.name))}return t.length||t.push(this.props.appContext.brand.name),t},render:function(){var e="",t=this.props.messages[this.props.messages.length-1];this.props.messages[0];this.props.unread&&(e+=" unread");var n=new Date,r=new Date(t.createdAt);n.toDateString()==r.toDateString()?timestampDisplay=Reamaze.Utils.getLocaleTimeString(r):timestampDisplay=Reamaze.Utils.getLocaleDateString(r);var o,i,a=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode),s=Reamaze.Utils.getUserDisplayDetails(t.user,this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return s&&(s.avatarUrls&&(o=s.avatarUrls[0]),i=s.name),o||(o=t.user.avatarUrl||a[0].avatarUrl),i||(i=t.user.name||this.props.appContext.brand.name),p.createElement("li",{className:e,onClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:this.props.slug}}})}.bind(this)},p.createElement("div",{className:"icon"},p.createElement("i",{className:"fas rmzfa rmzfa-"+(this.props.outbound?"rss":"comments")})),p.createElement("div",{className:"main"},p.createElement("div",{className:"name"},p.createElement("div",{className:"thumb"},p.createElement("img",{src:o})),p.createElement("div",{className:"names"},this._getNamesToDisplay().join(", ")),t&&t.pendingData?p.createElement("div",{className:"timestamp"},p.createElement("i",{className:"fas rmzfa rmzfa-exclamation-triangle",style:{color:"#fc0",marginRight:"4px"}}),this.props.appContext.brand.preferences.trans_contact_us_pending):p.createElement("div",{className:"timestamp"},timestampDisplay)),p.createElement("p",{className:"body"},Reamaze.Utils.entitiesDecode(t.body_preview))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationStartedMessage=n({displayName:"Reamaze.Conversations.ConversationStartedMessage",mixins:[TimerMixin],propTypes:{appContext:o.object.isRequired,isChat:o.bool},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},getMessage:function(){var e=this.props.appContext.overrides.confirmationMessage||this.props.appContext.brand.preferences.trans_popup_new_message_confirmation;return this.props.isChat&&this.props.appContext.brand.preferences.trans_chat_started?r.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_started}}):e||this.props.appContext.brand.staffResponseTime?[r.createElement("p",{key:"msg",dangerouslySetInnerHTML:{__html:e}}),!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime||!this.props.appContext.brand.staffResponseTime?null:r.createElement("p",{key:"resptime"},this.props.appContext.brand.staffResponseTime)]:null},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3),e=this.getMessage(),t=null;return e&&(t=r.createElement("li",{className:"message staff convo-started prompt rmz-fade "+(this.state.visible?"in":""),ref:function(){this.props.scrollContent("b")}.bind(this)},n.map(function(e,t){return r.createElement("div",{key:t,className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},e)))),t}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,t){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Css=t({displayName:"Reamaze.Conversations.Css",shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.appContext.brand.styles,t=Reamaze.Utils.pSBC(.92,e.headerBgColor)||"#f0f0f0";Reamaze.Utils.pSBC(.55,e.headerBgColor);return n.createElement("style",null,'\n        #content-container .flex {\n          display: flex;\n          display: -webkit-box;\n          display: -moz-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          width: 100%;\n        }\n        #content-container .flex.flex-column {\n          flex-direction: column;\n          -webkit-box-direction: normal;\n          -webkit-box-orient: vertical;\n          -moz-box-direction: normal;\n          -moz-box-orient: vertical;\n          -webkit-flex-direction: column;\n          -ms-flex-direction: column;\n        }\n        #content-container .flex-grow {\n          flex-grow: 1;\n          -webkit-box-flex: 1;\n          -moz-box-flex: 1;\n          -webkit-flex-grow: 1;\n          -ms-flex: 1 1 auto;\n        }\n        #content-container form input, form select, form textarea {\n          width: 100%;\n          height: 37px;\n          resize: none;\n          background: transparent;\n        }\n        #content-container form label.checkbox {\n          display: block;\n          margin-bottom: 10px;\n          padding-left: 26px;\n          position: relative;\n          font-size: 14px;\n          background: transparent;\n        }\n        #content-container form label.checkbox input {\n          width: auto;\n          height: auto;\n          margin: 0px;\n          position: absolute;\n          margin-left: -20px;\n          margin-top: 5px;\n        }\n        #content-container form label.checkbox div {\n          line-height: 1.5em;\n          margin-bottom: 10px;\n        }\n        #recent-conversations-container {\n          width: 100%;\n          padding: 15px;\n        }\n        .conversation {\n          padding: 10px;\n        }\n        .conversation .pending-data.message.prompt .message-wrap {\n          width: 100%;\n        }\n        .conversation .pending-data.message.prompt .action-bar {\n          text-align: center;\n          margin: 15px 0 10px 0;\n        }\n        .conversation #messages-list {\n          list-style: none;\n          margin: 0px;\n        }\n        .conversation #messages-list .message {\n          *zoom: 1;\n          padding-bottom: 0px;\n          margin: 17px 0;\n          position: relative;\n        }\n        .conversation #messages-list .message:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .conversation #messages-list .message p {\n          font-size: 14px;\n          margin-bottom: 7px;\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message p:last-child {\n          margin-bottom: 0px;\n        }\n        .conversation #messages-list .message.transitional p {\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message .message-outer-wrap {\n          margin-left: 50px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message .message-user-image {\n          bottom: 5px;\n          left: 0px;\n          float: left;\n          overflow: hidden;\n          position: relative;\n          -moz-border-radius: 40px;\n          -webkit-border-radius: 40px;\n          border-radius: 40px;\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          border: 1px solid #fcfcfc;\n        }\n        .conversation #messages-list .message .message-user-image img {\n          width: 100%;\n          height: 100%;\n        }\n        .conversation #messages-list .message .message-meta {\n          font-size: 90%;\n          color: #666;\n        }\n        .conversation #messages-list .message .message-feedback {\n          white-space: nowrap;\n        }\n        .conversation #messages-list .message .message-feedback a {\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback .icon {\n          font-size: 90%;\n        }\n        .conversation #messages-list .message .message-feedback a:hover .icon {\n          text-decoration: none;\n        }\n        .conversation #messages-list .message .timestamp {\n          color: #888;\n        }\n        .conversation #messages-list .message .attachments {\n          margin-left: 0;\n          padding: 0px;\n          font-size: 95%;\n        }\n        .conversation #messages-list .message .attachments.images li {\n          display: inline-block;\n        }\n        .conversation #messages-list .message .attachments.images li img {\n          padding: 5px;\n          margin-right: 5px;\n          background: white;\n          border: 1px solid #dfdfdf;\n        }\n        .conversation #messages-list .message .attachments.other li {\n          list-style: none;\n        }\n        .conversation #messages-list .message .attachments h5 {\n          font-size: 100%;\n        }\n        .conversation #messages-list .message ul {\n          margin: 0 0 10px 25px;\n          list-style: disc;\n        }\n        .conversation #messages-list .message ol {\n          margin: 0 0 10px 25px;\n          list-style: decimal;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message a {\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message .message-wrap {\n          display: inline-block;\n          margin-bottom: 5px;\n          position: relative;\n          max-width: calc(100% - 10px);\n          background: '+t+";\n          padding: 15px 20px;\n          -moz-border-radius: 20px 20px 20px 0;\n          -webkit-border-radius: 20px 20px 20px 0;\n          border-radius: 20px 20px 20px 0;\n          /* transform z-index hack */\n          -moz-transform: rotate(0deg);\n          -ms-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          -moz-border-radius: 20px 20px 0 20px;\n          -webkit-border-radius: 20px 20px 0 20px;\n          border-radius: 20px 20px 0 20px;\n        }\n        .conversation #messages-list .message.convo-started .message-wrap {\n          padding: 20px;\n        }\n        .conversation #messages-list .message.pending {\n          opacity: 0.5;\n          color: silver;\n        }\n\n        .conversation #messages-list .message.customer {\n          text-align: right;\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          text-align: left;\n          background-color: "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerFontColor||"white")+"\n        }\n        .conversation #messages-list .message.customer .message-wrap a {\n          color: "+(e.headerFontColor||"white")+';\n          text-decoration: underline;\n        }\n        .conversation #messages-list .message.customer .message-outer-wrap {\n          margin-left: 0px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message.customer .message-meta {\n          text-align: right;\n        }\n\n        .conversation.chat #messages-list {\n          padding-bottom: 20px;\n        }\n        .conversation.chat #typing-indicator {\n          color: #999;\n          font-size: 12px;\n          margin-top: -20px;\n          margin-bottom: 10px;\n          margin-left: 60px;\n        }\n        @media screen and (max-width: 480px) {\n          .conversation.chat #typing-indicator {\n            margin-left: 45px;\n          }\n        }\n\n        .typing-indicator-dots {\n          font-size: 18px;\n          font-weight: bold;\n          margin-top: -3px;\n          color: #999;\n        }\n        .typing-indicator-dots .one {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.0s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.0s;\n        }\n        .typing-indicator-dots .two {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.2s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.2s;\n        }\n        .typing-indicator-dots .three {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.3s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.3s;\n        }\n\n        @-webkit-keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n\n        .conversation #messages-list .message pre {\n          display: block;\n          padding: 11px;\n          margin: 0 0 12px;\n          line-height: 23px;\n          word-break: break-all;\n          word-wrap: break-word;\n          white-space: pre;\n          background-color: #f5f5f5;\n          color: #333;\n          border: 1px solid #ccc;\n          border: 1px solid rgba(0,0,0,0.15);\n          border-radius: 4px;\n          overflow-x: auto;\n        }\n\n        .conversation #messages-list .message code {\n          font-family: "Source Code Pro", Menlo, Consolas, "Courier New", monospace;\n        }\n\n        #content-container .rmz-blur {\n          -webkit-filter: blur(2px);\n          filter: blur(2px);\n          filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);\n          opacity: 0.8;\n        }\n\n        .alert {\n          font-size: 0.9em;\n          margin: 0;\n          border-radius: 0;\n          border: 0;\n        }\n\n        .has-float-label label, .has-float-label > span {\n          left: 6px;\n          top: -4px;\n\n          text-overflow: ellipsis;\n          overflow: hidden;\n          white-space: nowrap;\n          width: 100%;\n        }\n\n        .has-float-label input:focus + *, .has-float-label select:focus + *, .has-float-label textarea:focus + * {\n          color: '+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label input:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label select:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label textarea:not(:placeholder-shown):not(.placeholder-shown) + *\n        {\n          color: "+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label select {\n          padding-top: 10px;\n          margin-bottom: 10px;\n        }\n\n        .template-card{\n          background: "+t+";\n        }\n\n        .prompt-options-container {\n          text-align: right;\n          margin-bottom: 10px;\n          transition: opacity 0.5s;\n          opacity: 1;\n          max-width: 75%;\n          margin-right: 0;\n          margin-left: auto;\n        }\n\n        .prompt-options-container.hidden {\n          opacity: 0;\n        }\n\n        .prompt-option {\n          background: white;\n          border: 1px solid "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerBgColor||"white")+";\n          border-radius: 5px;\n          padding: 6px 20px;\n        }\n\n        .prompt-option-li {\n          margin: 5px;\n          display: inline-block;\n        }\n\n        .prompt-option-li:first-child {\n          margin-top: 0px;\n        }\n\n        .prompt-option:hover, .prompt-option.selected {\n          cursor: pointer;\n          background: "+(e.headerBgColor||"#e0f6ff")+";\n          color: white;\n        }\n\n        .prompt-option:disabled {\n          opacity: 0.7;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(i,l,a,e,t){i.namespace("Reamaze.Conversations"),Reamaze.Conversations.Field=e({displayName:"Reamaze.Conversations.Field",propTypes:{k:t.string,field:t.object,showErrors:t.bool,focusInput:t.func,onChange:t.func,conversation:t.object},getInitialState:function(){return{error:!1,value:"dropdown"!==this.props.field.type?this.props.field.value:null,type:"date"===this.props.field.type?"text":this.props.field.type}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&e.conversation.errors.includes(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)&&"email"==this.props.field.type&&this.setState({error:!0})},handleChange:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.state.error&&this.setState({error:!1}),this.validate(),this.setState({value:t},function(){this.props.onChange&&this.props.onChange(this.state.value)}.bind(this))},componentDidMount:function(){this.validate()},validate:function(){var e=a.findDOMNode(this.input);this.props.field.required&&"false"!=this.props.field.required&&("checkbox"===e.type?this.setState({error:!e.checked}):this.setState({error:!i.trim(i(e).val())}));var t=/\b(?:\d[ -]*?){13,16}\b/g,n=i(e).val();if(n){var r=n.match(t);if(null!==r)for(var o=0;o<r.length;o++)if(checkCreditCard(r[o]))return void this.setState({error:!0})}},render:function(){var e,t,n=this,r=this.props.field,o=this.props.k;this.props.field.pos&&(e=l.createElement("input",{type:"hidden",name:"field_pos["+this.props.field.pos+"]",value:o})),"tel"!==r.type||"true"!==r.connectContact&&!0!==r.connectContact||(t=l.createElement("input",{type:"hidden",name:"connect_contact[]",value:o}));var i,a={};if(this.props.showErrors&&this.state.error&&(a.boxShadow="0 1px 0px 0px red"),"object"==typeof r){if("hidden"==r.type)return[l.createElement("input",{type:"hidden",key:o,name:Reamaze.Utils.entitiesDecode(r.name),value:Reamaze.Utils.entitiesDecode(r.value),ref:function(e){this.input=e}.bind(this)}),e];var s={name:Reamaze.Utils.entitiesDecode(r.name),defaultValue:Reamaze.Utils.entitiesDecode(r.value),placeholder:Reamaze.Utils.entitiesDecode(r.label?r.placeholder||o:" "),required:!!r.required},p={};if(this.props.showErrors&&this.state.error&&(p.color="red"),"dropdown"!=r.type)return"checkbox"==r.type?(delete s.defaultValue,r.value&&"false"!=r.value&&(s.defaultChecked=!0),l.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:p},l.createElement("label",{className:"checkbox",style:p},l.createElement("input",{name:s.name,type:"hidden",value:"no"}),l.createElement("input",_extends({type:"checkbox"},s,{value:"yes",onChange:this.handleChange,style:a,ref:function(e){this.input=e}.bind(this)})),l.createElement("div",null,Reamaze.Utils.entitiesDecode(r.placeholder||o))),e)):"date"==r.type?l.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:p},l.createElement("label",{className:"has-float-label"},l.createElement("input",_extends({type:this.state.type},s,{onChange:function(e){this.setState({type:e.target.value?r.type:"text"}),this.handleChange(e)}.bind(this),onFocus:function(){this.setState({type:r.type})}.bind(this),onBlur:function(e){this.setState({type:e.target.value?r.type:"text"})}.bind(this),style:a,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),l.createElement("span",null,Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o))),e):"tel"===r.type?l.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:p},l.createElement("label",{className:"has-float-label"},l.createElement("input",_extends({type:r.type},s,{onChange:this.handleChange,style:a,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this),pattern:"[0-9]{10,20}",title:"Use only numbers in your phone number, with a length of 10 to 20 digits."})),l.createElement("span",null,Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o))),e,t):"email"===r.type?l.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:p},l.createElement("label",{className:"has-float-label"},l.createElement("input",_extends({type:r.type},s,{onChange:this.handleChange,style:a,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this),required:!0,pattern:"^[^@]+@[^@]+\\.[a-zA-Z]{2,10}"})),l.createElement("span",null,Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o)))):l.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:p},l.createElement("label",{className:"has-float-label"},l.createElement("input",_extends({type:r.type},s,{onChange:this.handleChange,style:a,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),l.createElement("span",null,Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o))),e);var c=(i=!r.defaultValue||"undefined"===r.defaultValue||"_no_default"===r.defaultValue,s.defaultValue=i?Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o):Reamaze.Utils.entitiesDecode(r.defaultValue),{v:l.createElement("div",{className:"custom-field-container "+(n.state.error?"input-error":""),style:p},l.createElement("div",{className:"has-float-label"},l.createElement("select",_extends({id:"input-"+o},s,{onChange:n.handleChange,style:a,className:i&&!n.state.value?"placeholder-shown":"",ref:function(e){this.input=e}.bind(n)}),i&&l.createElement("option",{disabled:"disabled"},s.defaultValue),r.value.map(function(e){return i||r.defaultValue!==e?l.createElement("option",{value:Reamaze.Utils.entitiesDecode(e),key:e},Reamaze.Utils.entitiesDecode(e)):l.createElement("option",{selected:"selected",value:Reamaze.Utils.entitiesDecode(e),key:e},Reamaze.Utils.entitiesDecode(e))})),l.createElement("label",{htmlFor:"input-"+o},Reamaze.Utils.entitiesDecode(r.label||r.placeholder||o))),e)});if("object"==typeof c)return c.v}return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Conversations"),Reamaze.Conversations.Message=createReactClass({displayName:"Reamaze.Conversations.Message",propTypes:{message:PropTypes.shape({id:PropTypes.any.isRequired,user:PropTypes.shape({avatarUrl:PropTypes.string,name:PropTypes.string,displayAsStaff:PropTypes.bool}),createdAt:PropTypes.any,body:PropTypes.string,viewed:PropTypes.bool,showViewedStatus:PropTypes.bool,imageAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,thumbUrl:PropTypes.string.isRequired,url:PropTypes.string.isRequired})),otherAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,name:PropTypes.string.isRequired,url:PropTypes.string.isRequired,size:PropTypes.string.isRequired})),appreciated:PropTypes.bool,meta:PropTypes.object,pendingData:PropTypes.object,pending:PropTypes.bool,errored:PropTypes.bool}),conversationSlug:PropTypes.string,currentUser:PropTypes.object,appContext:PropTypes.object.isRequired,onButtonSelect:PropTypes.func,brandData:PropTypes.object},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e){return this.props.message.viewed!=e.message.viewed||this.props.message.showViewedStatus!=e.message.showViewedStatus||this.props.message.appreciated!=e.message.appreciated||(this.props.message.template||"")!=(e.message.template||"")},_onAppreciateClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id}}),this.props.appContext._preview||$jq.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/messages/"+this.props.message.id+"/votes/post?sparams="+encodeURIComponent($jq.param({sso:this.props.currentUser.ssoData()})),type:"GET",error:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id,error:!0}})}.bind(this),crossDomain:!0})},getMeta:function(){if(!this.props.message.meta||!this.props.message.meta.buttons||!this.props.message.meta.buttons.length)return null;var buttons=this.props.message.meta.buttons&&this.props.message.meta.buttons.map(function(button,idx){if(button.dismiss||button.pushprompt)return!1;var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText,style:{maxWidth:"250px",display:"block",margin:"0 auto 10px auto"}};if(button.url){if(button.url.match(/^https?.*\./))buttonProps.href=button.url;else if(button.url.match(/^#/))buttonProps.href=""+document.baseURI.split("#")[0]+button.url;else if(button.url.match(/^\//)){var parser=document.createElement("a");parser.href=document.baseURI,buttonProps.href=parser.protocol+"//"+parser.hostname+button.url}else{var parser=document.createElement("a");parser.href=document.baseURI.substring(0,document.baseURI.lastIndexOf("/")),buttonProps.href=parser.href+"/"+button.url}button.target?buttonProps.target=button.target:buttonProps.target="_blank"}return button.script?buttonProps.onClick=function(event){event.stopPropagation(),"string"==typeof button.script?eval(button.script):"function"==typeof button.script&&button.script()}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation()}.bind(this):button.response&&(buttonProps.onClick=function(){var e={body:button.text};this.props.onButtonSelect(e)}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn anim-btn-shadow",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this));return buttons.every(function(e){return 0==e})?null:React.createElement("div",{style:{marginTop:"15px"}},React.createElement("div",{style:{textAlign:"center"}},buttons))},template:function(){return React.createElement("div",{style:{marginBottom:"5px"}},React.createElement(Reamaze.Conversations.MessageTemplate,{template:this.props.message.template,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message}))},_uploadingAttachmentsText:function(e,o){return e.replace(/{{.*}}/g,function(e){var t=e.indexOf(":"),n=e.substring(t+1,e.length-2).split(",").map(function(e){return e.trim().replace(/['"]/g,"")}),r=n[0];return 1<o&&(r=1==n.length?n[0]+"s":n[1]),o+" "+r})},render:function(){var e,t=null,n=null;this.props.message.imageAttachments&&(t=React.createElement("ul",{className:"attachments images"},this.props.message.imageAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("img",{src:e.thumbUrl})))}))),this.props.message.otherAttachments&&(n=React.createElement("ul",{className:"attachments other"},this.props.message.otherAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("i",{className:"fas rmzfa rmzfa-paperclip"})," ",React.createElement("a",{href:e.url,target:"_blank"},e.name)," ",e.size)}))),this.props.message.user.displayAsStaff&&this.props.message.user.id&&!this.props.brandData.brandIsGoDaddy&&(e=React.createElement("span",{className:"message-feedback"},this.props.message.appreciated?React.createElement("i",{className:"icon fas rmzfa rmzfa-heart"}):React.createElement("a",{href:"javascript:;",onClick:this._onAppreciateClick,ref:"appreciateLink"},React.createElement("i",{className:"icon far rmzfa rmzfa-heart"})," ",React.createElement("span",{className:"feedback-label"},this.props.appContext.brand.preferences.trans_contact_us_appreciate))));var r=null;if(this.props.message.pendingData){var o=this.props.message.pendingData.message.attachment_ids;o&&0<o.length&&(r=React.createElement("p",{style:{textAlign:"right"}},React.createElement("i",{className:"fas rmzfa rmzfa-upload"})," ",this._uploadingAttachmentsText(this.props.appContext.brand.preferences.trans_attaching,o.length)))}var i=this.props.message.body;i||t||n||r||(i=this.props.appContext.brand.preferences.trans_empty_message);var a=React.createElement("div",{className:"message-body"+(this.props.message.body?"":" empty"),dangerouslySetInnerHTML:{__html:i}}),s=new Date,p=new Date(this.props.message.createdAt),c="";c=s.toDateString(
)==p.toDateString()?Reamaze.Utils.getLocaleTimeString(p):Reamaze.Utils.getLocaleDateString(p)+" "+Reamaze.Utils.getLocaleTimeString(p);var l,u,d,h=String.fromCharCode(183),f=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode),m=Reamaze.Utils.getUserDisplayDetails(this.props.message.user,this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return m&&(m.avatarUrls&&(l=m.avatarUrls[0]),u=m.name),l||(l=this.props.message.user.avatarUrl),u||(u=this.props.message.user.name||this.props.appContext.brand.name),d=l?[{avatarUrl:l,name:u}]:f.slice(0,3),React.createElement("li",{id:"message-"+this.props.message.id,className:"message "+(this.props.message.user.displayAsStaff?"staff":" customer")+" "+(this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"pending":"")+" "+(this.props.message.faux?"faux":"")},this.props.message.user.displayAsStaff&&d.map(function(e,t){var n=this.props.message.faux?-5:0;return n+=13*(d.length-t-1),React.createElement("div",{className:"message-user-image",key:"staff-avatar-"+t,style:{bottom:n+"px"}},React.createElement("img",{src:e.avatarUrl,alt:e.name}))}.bind(this)),React.createElement("div",{className:"message-outer-wrap"},React.createElement("div",{className:"message-wrap"},a,this.getMeta(),t,n,r),this.props.message.template&&this.template(),!this.props.message.faux&&React.createElement("div",{className:"message-meta"},this.props.message.pendingData||this.props.message.user.id&&this.props.message.user.id==this.props.currentUser.get("_id")?null:u+" "+h," ",!this.props.message.pendingData&&c," ",!this.props.message.showViewedStatus||this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"":h+" "+(this.props.message.viewed?this.props.appContext.brand.preferences.trans_contact_us_viewed:this.props.appContext.brand.preferences.trans_contact_us_sent),this.props.message.pending&&React.createElement("span",null," \u2026 "),this.props.message.errored&&React.createElement("span",{className:"rmzfa fas rmzfa-exclamation-circle",style:{fontWeight:"bold",color:"rgb(255, 0, 0)"}}),this.props.message.pendingData&&React.createElement("span",null," ",this.props.appContext.brand.preferences.trans_contact_us_pending)," ",e?h+" ":"",e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,i,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MessageTemplate=n({displayName:"Reamaze.Conversations.MessageTemplate",propTypes:{template:r.object.isRequired,appContext:r.object.isRequired,currentUser:r.object.isRequired,message:r.object.isRequired},render:function(){var r={list:Reamaze.Conversations.TemplateList,text:Reamaze.Conversations.TemplateText,map:Reamaze.Conversations.TemplateMap},o=[];return this.props.template.data.components.forEach(function(e,t){var n=r[e.type];n&&o.push(i.createElement("div",{key:"component-"+t,className:"template-card card",style:{display:"inline-block",margin:"0px",minWidth:"200px",maxWidth:"100%"}},i.createElement(n,{key:e.type+"-"+t,componentData:e,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message})))}.bind(this)),i.createElement("div",null,o)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,t,r,e,o){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.Modal=e({displayName:"Reamaze.Conversations.Modal",render:function(){var e=n.extend({position:"absolute",padding:"15px",width:"100%",background:"#fff",boxShadow:"0 0px 20px 0px rgba(0,0,0,0.3)",textAlign:"center"},this.props.style||{});return t.createElement("div",{id:"rmz-conversation-modal"},t.createElement("div",{id:"rmz-conversation-modal-overlay",style:{position:"absolute",top:0,left:0,bottom:0,right:0},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)}),t.createElement("div",{id:"rmz-conversation-modal-content",style:e},this.props.children))}}),Reamaze.Conversations.EmailTranscriptModal=e({displayName:"Reamaze.Conversations.EmailTranscriptModal",mixins:[TimerMixin],propTypes:{dispatcher:o.object,conversationSlug:o.string,currentUser:o.object,style:o.object,appContext:o.object.isRequired},getInitialState:function(){return{submitting:!1,submitted:!1,error:!1}},componentDidMount:function(){this.setTimeout(function(){this.refs.email_transcript_input&&r.findDOMNode(this.refs.email_transcript_input).focus()}.bind(this),0)},_emailTranscript:function(e){if(e.preventDefault(),e.stopPropagation(),!this.props.appContext._preview){var t=r.findDOMNode(this.refs.email_transcript_input).value;this.setState({submitting:!0,error:!1}),n.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/email_transcript",type:"POST",data:{sparams:n.param({sso:this.props.currentUser.ssoData()}),transcript_email:t},success:function(){this.setState({submitted:!0},function(){this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),3e3)}.bind(this))}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this),crossDomain:!0})}},render:function(){var e={width:"200px"};return this.state.error&&(e.border="1px solid red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_email_transcript),this.state.submitted&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}),this.state.submitting&&!this.state.submitted&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&!this.state.submitted&&t.createElement("form",{onSubmit:this._emailTranscript,ref:"form",id:"emailTranscriptForm"},t.createElement("div",{style:{marginBottom:"10px"}},t.createElement("input",{type:"email",ref:"email_transcript_input",placeholder:this.props.appContext.brand.preferences.trans_email,style:e,required:!0})),t.createElement("div",{style:{position:"relative"}},t.createElement("button",{type:"submit",key:"yes",className:"btn btn-link",style:{fontSize:"24px"}},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{key:"no",href:"javascript:;",className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"})))))}}),Reamaze.Conversations.EndChatModal=e({displayName:"Reamaze.Conversations.EndChatModal",mixins:[TimerMixin],propTypes:{dispatcher:o.object,conversationSlug:o.string,currentUser:o.object,style:o.object,appContext:o.object.isRequired},getInitialState:function(){return{submitting:!1}},_endChat:function(){this.props.appContext._preview||(this.setState({submitting:!0}),n.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/end_chat",type:"POST",data:{sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CHAT_ENDED,payload:{conversationSlug:e.conversation.slug,props:{status:"archived",satisfactionRating:e.conversation.satisfactionRating}}})}.bind(this),error:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0}))},render:function(){return t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_end_chat_confirmation_header),this.state.submitting&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&t.createElement("div",null,t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px"},onClick:this._endChat},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"}))))}}),Reamaze.Conversations.TransitionalModal=e({displayName:"Reamaze.Conversations.TransitionalModal",mixins:[TimerMixin],propTypes:{dispatcher:o.object,conversationSlug:o.string,currentUser:o.object,style:o.object,appContext:o.object.isRequired},getInitialState:function(){return{submitting:!1,error:!1,success:!1,email:"",name:""}},handleChange:function(){this.setState({email:r.findDOMNode(this.refs.email).value,name:r.findDOMNode(this.refs.name).value,canSubmit:!!r.findDOMNode(this.refs.email).value&&!!r.findDOMNode(this.refs.name).value})},componentDidMount:function(){Reamaze.sessionStorage.setItem("tx_prompt",1),r.findDOMNode(this.refs.name).focus()},componentDidUpdate:function(){this.state.success&&this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),1e3)},_onFormSubmit:function(e){e.preventDefault(),e.stopPropagation(),!this.props.appContext._preview&&this.state.canSubmit&&(this.setState({submitting:!0}),n.ajax({url:this.props.currentUser.get("_id")?this.props.appContext.baseDataUrl+"/data/users/"+this.props.currentUser.get("_id")+"/transition":this.props.appContext.baseDataUrl+"/data/users",type:"POST",data:{email:r.findDOMNode(this.refs.email).value,name:r.findDOMNode(this.refs.name).value,sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){var t=this.props.currentUser.getAnonymousId();this.props.currentUser.set("_id",e.id),this.props.currentUser.setAnonymousId(e.anonymous_id),this.props.currentUser.set("email",e.email),this.props.currentUser.set("name",e.name),this.setState({success:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:t}})}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this)}))},render:function(){var e={width:"100%"};return this.state.error&&(e.boxShadow="0 1px 0px 0px red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("form",{onSubmit:this._onFormSubmit},t.createElement("p",{style:{marginBottom:"1em"}},this.props.appContext.brand.preferences.trans_transitional_email_prompt),t.createElement("fieldset",{style:{position:"relative",opacity:this.state.submitting?"0.5":1,marginBottom:"1em"},disabled:this.state.submitting},t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-name",type:"text",name:"name",ref:"name",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.name?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_name)),t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-email",type:"email",name:"email",ref:"email",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.email?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_email))),t.createElement("div",{style:{textAlign:"center"}},!this.state.success&&t.createElement("button",{className:"btn anim-btn",disabled:!this.state.canSubmit||this.state.submitting,style:{borderRadius:"14px"}},t.createElement("i",{className:"fas rmzfa rmzfa-arrow-right",style:{verticalAlign:"middle",marginTop:"-2px"}})),!this.state.success&&t.createElement("button",{className:"btn btn-link anim-btn",style:{fontSize:"24px",marginLeft:"1em",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times",style:{position:"relative",top:"-1px"}})),this.state.success&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,o,e,t){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.MoreDetailsMessage=e({displayName:"Reamaze.Conversations.MoreDetailsMessage",mixins:[TimerMixin],propTypes:{conversation:t.object.isRequired,appContext:t.object.isRequired,category:t.string,chatIsLive:t.bool,inView:t.bool,onSubmit:t.func.isRequired,currentUser:t.object.isRequired,scrollContent:t.func},getInitialState:function(){return{visible:!1,showErrors:!1}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&this.setState({showErrors:!0})},componentDidMount:function(){var e=!0;0<n(o.findDOMNode(this)).find("input[type!=hidden],select,textarea,.heading").not("input[type=submit]").length&&(e=!1),e?this.onSubmit():(this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300),this.scrollToView())},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.scrollToView()},scrollToView:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.props.scrollContent(o.findDOMNode(this).offsetTop-30)}.bind(this),500)},onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState({showErrors:!1});var t=n(o.findDOMNode(this));return 0<t.find(".input-error").length?(t.find(".input-error")[0].scrollIntoView(),t.find(".input-error :input")[0].focus(),void this.setState({showErrors:!0})):(this.props.onSubmit(n(o.findDOMNode(this.refs.form)).serializeArray()),!1)},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3),e=this.props.currentUser.hasEmail()||"anonymous"==this.props.contactMode||"mixed"==this.props.contactMode&&this.props.chatIsLive||"mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&(this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime);return r.createElement("li",{className:"message staff pending-data prompt rmz-fade "+(this.state.visible?"in":"")},r.createElement("form",{ref:"form",onSubmit:this.onSubmit},n.map(function(e,t){return r.createElement("div",{key:t,className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},r.createElement("fieldset",{disabled:this.props.conversation.saving,id:"new-conversation-fieldset",style:{opacity:this.props.conversation.saving?"0.7":1}},r.createElement("p",{style:{padding:"5px 5px",color:"#888"}},this.props.appContext.brand.preferences.trans_popup_more_details_needed),r.createElement("div",null,r.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!e,showCategory:!this.props.chatIsLive&&(!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields),showCustomFields:!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields,showErrors:this.state.showErrors,conversation:this.props.conversation}),r.createElement("div",{className:"action-bar"},r.createElement("input",{type:"submit",tabIndex:"-1",style:{display:"none"}}),r.createElement("button",{className:"btn btn-primary anim-btn",disabled:this.props.conversation.saving},this.props.appContext.brand.preferences.trans_send_message))))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,e,t,o){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewConversationFooter=t({displayName:"Reamaze.Conversations.NewConversationFooter",propTypes:{appContext:o.object.isRequired,inView:o.bool.isRequired,onSubmit:o.func,chatIsLive:o.bool,conversations:o.object.isRequired,buttonMode:o.bool,overridePlaceholder:o.string},getDefaultProps:function(){return{buttonMode:!1,conversationsCount:0}},getInitialState:function(){return{showNewConversationButton:this.props.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)}},shouldComponentUpdate:function(e,t){return this.props.chatIsLive!=e.chatIsLive||this.props.inView!=e.inView||this.props.buttonMode!=e.buttonMode||this.state.showNewConversationButton!=t.showNewConversationButton},componentWillReceiveProps:function(e){this.setState({showNewConversationButton:e.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)})},shouldShowNewConversationButton:function(t,e){return Object.keys(t||{}).some(function(e){return t[e].id&&"*"!=(""+t[e].id).charAt(0)}.bind(this))&&"conversations:new"!=e},_getMostRecentActiveChat:function(){var r=null,o=0,t=this.props.conversations;if(0==(t=(t=Object.keys(t).map(function(e){return t[e]})).filter(function(e){return e.isChat&&("active"==e.status||"resolved"==e.status)})).length){var n=36e5,i=6048e5;t=this.props.conversations,t=(t=Object.keys(t).map(function(e){return t[e]})).filter(function(e){return!e.isChat&&!e.outbound&&"archived"!=e.status&&(!e.messages.find(function(e){return e.user&&e.user.isStaff||new Date(e.createdAt)<new Date(Date.now()-i)})||e.messages.find(function(e){return new Date(e.createdAt)>new Date(Date.now()-n)}))})}return t.forEach(function(e){var t=e.messages.slice(0).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}),n=new Date(t[0].createdAt).getTime();o<n&&(r=e,o=n)}),r},newConversation:function(){Reamaze.Analytics.track("New Conversation Button Clicked");var e=this._getMostRecentActiveChat();e?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:e.slug}}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new"}})},newConversationButtonText:function(){return this.props.chatIsLive?this.props.appContext.brand.preferences.trans_chat_new_chat:this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime?this.props.appContext.brand.preferences.trans_popup_new_conversation_prompt:this.props.appContext.brand.preferences.trans_popup_new_conversation_ooo_prompt},render:function(){var e=this.newConversationButtonText(),t={textAlign:"center"};return this.state.showNewConversationButton&&(t.boxShadow="0 5px 25px 0 rgba(0,0,0,0.05)"),this.props.style&&n.extend(t,this.props.style),r.createElement("div",{id:"footer",ref:"footer",style:t},r.createElement("style",null,"\n            #footer a.btn {\n              margin: 0 12px;\n            }\n          "),!this.state.showNewConversationButton&&r.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,chatIsLive:this.props.chatIsLive,inView:this.props.inView,focus:"conversations:new"==this.props.appContext.route,overridePlaceholder:this.props.overridePlaceholder}),this.state.showNewConversationButton&&r.createElement("a",{"aria-label":e,tabIndex:"0",role:"button",className:"btn btn-primary anim-btn anim-btn-shadow",onClick:this.newConversation,style:{marginBottom:"5px"}},e),this.props.showConversationsCount&&0<this.props.conversationsCount&&r.createElement("a",{href:"javascript:;",className:"anim-btn btn btn-link anim-btn-shadow",style:{margin:"0 5px 5px 5px",padding:"5px 10px",border:"1px solid "+this.props.appContext.brand.styles.buttonBgColor,textDecoration:"none"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onConversationsCountClick(e)}.bind(this)},r.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),r.createElement("span",{style:{verticalAlign:"middle",marginLeft:"5px"}},this.props.conversationsCount)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(s,n,p,e,t){s.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewMessage=e({displayName:"Reamaze.Conversations.NewMessage",mixins:[TimerMixin],propTypes:{appContext:t.object.isRequired,onSubmit:t.func.isRequired,onFocus:t.func,onTypingStart:t.func,onTypingStop:t.func,focus:t.bool,inView:t.bool,chatIsLive:t.bool,overridePlaceholder:t.string},getDefaultProps:function(){return{focus:!1,inView:!0}},getInitialState:function(){return this.throttledOnKeyUp=s.throttle(250,this.onKeyUp),this.debouncedOnTypingStart=s.throttle(3e3,this.onTypingStart),this.debouncedOnTypingStop=s.throttle(500,this.onTypingStop),{uploading:!1,attachmentsCount:0,messageBlank:!0,isCreditCard:!1,showErrors:!1,typing:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.isCreditCard!=t.isCreditCard||this.state.showErrors!=t.showErrors||this.props.chatIsLive!=e.chatIsLive},contextTypes:{window:t.object},componentDidMount:function(){s(this.context.window.document).find("#new_message").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)),s(this.context.window.document).find("#new_message").on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)),s(this.context.window.document).find("#new_message").on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)),s(this.context.window.document).find("#new_message").on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),s(this.context.window).trigger("app:reinitjs"),this.props.focus&&this.setTimeout(function(){this.refs.body&&this.props.inView&&!this.props.appContext._preview&&p.findDOMNode(this.refs.body).focus()}.bind(this),0),this.context.window.Mousetrap.bind({"mod+enter":this._insertNewline}),this.refs.body&&this.context.window.autosize(p.findDOMNode(this.refs.body))},componentDidUpdate:function(){s(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(p.findDOMNode(this.refs.body))},componentWillUnmount:function(){s(this.context.window.document).find("#new_message").off("attachments:add"),s(this.context.window.document).find("#new_message").off("attachments:remove"),s(this.context.window.document).find("#new_message").off("attachments:start"),s(this.context.window.document).find("#new_message").off("attachments:done"),s(this.context.window.document).find(p.findDOMNode(this.refs.fileupload1)).remove(),s(this.context.window.document).find(p.findDOMNode(this.refs.fileupload2)).remove(),this.context.window.Mousetrap&&this.context.window.Mousetrap.unbind("mod+enter")},_insertNewline:function(){var e=s(this.refs.body),t=e.val(),n=e.prop("selectionStart");e.val(t.slice(0,n)+"\n"+t.slice(n)),e.prop("selectionEnd",n+1),e.blur().focus(),this.context.window.autosize.update(p.findDOMNode(this.refs.body))},_getStyleTag:function(){return n.createElement("style",null,"\n          form#new_message #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#new_message input#fileupload {\n            position: absolute;\n          }\n          form#new_message #fileupload-wrap > div {\n            margin-right: 5px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#new_message .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#new_message .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#new_message.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#new_message .attachments-error-indicator {\n            display: none;\n          }\n          form#new_message.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#new_message #submit-container button {\n            border: 0;\n            background: none;\n            cursor: pointer;\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            font-size: 16px;\n            padding: 0;\n          }\n          form#new_message #submit-container button:disabled {\n            color: "+this.props.appContext.brand.styles.bodyLinkDisabledColor+";\n          }\n          form#new_message #action-bar {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: none;\n            position: relative;\n          }\n          .attributed form#new_message #action-bar {\n            padding-bottom: 5px;\n          }\n          form#new_message #action-bar #body-container {\n            padding: 0px 8px 0px 5px;\n            width: 100%;\n            -ms-flex: 1;\n            -moz-flex: 1;\n            -webkit-flex: 1;\n            flex: 1;\n          }\n          form#new_message #action-bar #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            max-height: 4em;\n            min-height: 32px;\n            height: 32px;\n            overflow-y: auto;\n            resize: none;\n          }\n          form#new_message #action-bar #live-indicator {\n            font-size: 8px;\n            color: limegreen;\n            position: absolute;\n            top: 11px;\n            left: -6px;\n          }\n          form#new_message #action-bar #error-indicator {\n            font-size: 11px;\n            color: #f00;\n            position: absolute;\n            top: 9px;\n            left: -7px;\n          }\n          form#new_message .attachment-box {\n            display: none;\n          }\n          form#new_message .attachment-box.in {\n            display: block;\n          }\n          form#new_message #submit-container button {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            height: 30px;\n            width: 39px;\n            border-radius: 14px;\n            line-height: 30px;\n            margin-left: 5px;\n            position: relative;\n          }\n          ")},_validateMessage:function(e){this.setState({messageBlank:!s.trim(s(p.findDOMNode(this.refs.body)).val())},function(){e&&e()})},checkCreditCard:function(e){if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,n=!1,r=(e=e.replace(/\D/g,"")).length-1;0<=r;r--){var o=e.charAt(r),i=parseInt(o,10);n&&9<(i*=2)&&(i-=9),t+=i,n=!n}return t%10==0},_onSubmit:function(a){return a.preventDefault(),a.stopPropagation(),this._validateMessage(function(){this.state.uploading||(0<s(this.refs.form).find(".input-error").length?this.setState({showErrors:!0}):(this.state.showErrors&&this.setState({showErrors:!1}),this.setTimeout(function(){var e=p.findDOMNode(this.refs.body),n={body:s(e).val(),customer_body:s(p.findDOMNode(this.refs.customer_body)).val()},t=s(p.findDOMNode(this)).find('#attachments-list input[name="message[attachment_ids][]"]');0<t.length&&(n.attachment_ids=[],t.each(function(e,t){n.attachment_ids.push(t.value)}));var r=/\b(?:\d[ -]*?){13,16}\b/g,o=n.body.match(r);if(null!==o)for(var i=0;i<o.length;i++)if(this.checkCreditCard(o[i]))return void this.setState({showErrors:!0,isCreditCard:!0});this.props.onSubmit(n),s(p.findDOMNode(this)).find("#attachments-list li").not(".add-attachment").remove(),this.setState({attachmentsCount:0}),s(e).val(""),this.context.window.autosize.update(e),this.debouncedOnTypingStop(a)}.bind(this),0)))}.bind(this)),!1},_submit:function(){s(this.refs.submitButton).click()},_getCaptchas:function(){var e="customer_body_data_"+parseInt(Date.now()/1e3,10);return n.createElement("div",{id:e},n.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),n.createElement("label",{htmlFor:"customer_body"},"Do not fill in this field"),n.createElement("textarea",{name:"customer_body",id:"customer_body",ref:"customer_body"}))},onKeyUp:function(e){this._validateMessage(),0<s(e.target).val().trim().length?this.debouncedOnTypingStart(e):this.debouncedOnTypingStop(e)},onKeyPress:function(e){this.props.appContext.isMobileBrowser||13!=e.which||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),this._submit())},onBlur:function(e){this.debouncedOnTypingStop(e)},onTypingStart:function(e){this.props.onTypingStart&&0<s(e.target).val().trim().length&&(e.persist(),this.props.onTypingStart(e))},onTypingStop:function(e){this.props.onTypingStop&&(e.persist(),this.props.onTypingStop(e))},render:function(){var e=this.state.messageBlank&&0==this.state.attachmentsCount,t=e&&this.state.showErrors||this.state.isCreditCard&&this.state.showErrors;return n.createElement("div",{id:"new_message_container"},this._getStyleTag(),n.createElement("form",{id:"new_message",method:"POST",className:"upload-attachments popup","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"message[attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"0 15px"}},n.createElement("div",{className:"attachment-box public"},n.createElement("div",{className:"attachments-list-wrap"},n.createElement("div",{className:"close"},n.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),n.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},n.createElement("li",{className:"attachment-wrap add-attachment"},n.createElement("a",{className:"preview-wrap upload-wrap"},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),n.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),this._getCaptchas(),n.createElement("div",{id:"action-bar"},n.createElement("div",{id:"body-container"},n.createElement("textarea",{name:"message[body]",placeholder:this.props.overridePlaceholder||this.props.appContext.brand.preferences.trans_body,onFocus:this.props.onFocus,onKeyUp:function(e){e.persist(),this.throttledOnKeyUp(e)}.bind(this),onKeyPress:this.onKeyPress,onBlur:this.onBlur,className:"mousetrap "+(e?"input-error":""),style:{boxShadow:t?"red 0px 1px 0px 0px":"none"},ref:"body"})),n.createElement("div",{id:"fileupload-wrap",role:"button",className:(0<this.state.attachmentsCount?"attachment-view":"")+" anim-btn"},this.state.uploading&&n.createElement(Reamaze.Spinner,{style:{width:"32px",height:"32px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),n.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),n.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),0<this.state.attachmentsCount&&n.createElement("span",{className:"attachment-count"}),n.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),n.createElement("div",{id:"submit-container"},n.createElement("button",{type:"submit",ref:"submitButton",disabled:this.state.uploading,className:"anim-btn",title:this.props.appContext.brand.preferences.trans_popup_reply},n.createElement("svg",{width:"17px",height:"17px",viewBox:"0 0 535.5 535.5",style:{enableBackground:"new 0 0 535.5 535.5",position:"relative",top:"3px",left:"1px"}},n.createElement("g",null,n.createElement("polygon",{fill:"#fff",points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"}))))),t&&n.createElement("div",{id:"error-indicator"},n.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"})),
this.props.chatIsLive&&!t&&n.createElement("div",{id:"live-indicator"},n.createElement("i",{className:"fas rmzfa rmzfa-circle"})))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,i,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.PromptOptions=n({displayName:"Reamaze.Conversations.PromptOptions",propTypes:{onPromptOptionClick:r.func.isRequired,promptOptions:r.array.isRequired,submitting:r.bool.isRequired,scrollContent:r.func.isRequired},getInitialState:function(){return{visible:!1,selectedPrompt:null}},componentDidMount:function(){this.setState({visible:!0}),this.props.scrollContent("b")},onPromptOptionClick:function(e,t){var n={body:t};this.setState({selectedPrompt:e.target.id}),this.props.onPromptOptionClick(n)},render:function(){var o=[];this.props.promptOptions.forEach(function(t,e){var n=this,r="prompt-option";r+=this.state.selectedPrompt=="prompt-option-"+e?" selected":"",o.push(i.createElement("li",{className:"prompt-option-li",key:"prompt-option-"+e},i.createElement("button",{id:"prompt-option-"+e,disabled:this.props.submitting,onClick:function(e){return n.onPromptOptionClick(e,t)},className:r},t)))}.bind(this));var e="prompt-options-container";return e+=this.state.visible?"":" hidden",i.createElement("ul",{className:e},o)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(r,e,t,n,o){r.namespace("Reamaze.Conversations"),Reamaze.Conversations.RespondForm=n({displayName:"Reamaze.Conversations.RespondForm",mixins:[TimerMixin],propTypes:{id:o.any.isRequired,slug:o.string.isRequired,isChat:o.bool,dispatcher:o.object,scrollContentToBottom:o.func,currentUser:o.object,inView:o.bool,outbound:o.bool,outboundData:o.object,chatIsLive:o.bool,appContext:o.object.isRequired,onSubmit:o.func,submitting:o.bool},getDefaultProps:function(){return{}},contextTypes:{window:o.object},componentDidMount:function(){r(this.context.window).trigger("app:reinitjs")},componentDidUpdate:function(){r(this.context.window).trigger("app:reinitjs")},getMessageChannel:function(){var e=this.props.appContext.getPusher();return e?e.channel("presence-conversation-"+this.props.id):null},onInputFocus:function(){this.props.scrollContentToBottom()},typing:!1,onTypingStart:function(e){var t=this.getMessageChannel();if(t&&!(t.members.count<2)){this.typing=!0;var n=/(\d{4}[\s\-]?\d{4}[\s\-]?)([\s\-]?\d{4})?([\s\-]?\d{4})?/g;t.trigger("client-status",{name:"Customer",status:"typing:start",staff:!1,url:window.location.href,text:r(e.target).val().replace(n,"(redacted)")})}},onTypingStop:function(){var e=this.getMessageChannel();!e||e.members.count<2||this.typing&&(this.typing=!1,e.trigger("client-status",{name:"Customer",status:"typing:stop",staff:!1}))},render:function(){return e.createElement("div",{id:"responder",style:{opacity:this.props.submitting?"0.4":1}},e.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,onFocus:this.onInputFocus,onTypingStart:this.onTypingStart,onTypingStop:this.onTypingStop,focus:!0,inView:this.props.inView,chatIsLive:this.props.chatIsLive}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,e,n,r){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.SatisfactionRating=r({displayName:"SatisfactionRating",mixins:[TimerMixin],getInitialState:function(){return{commentProcessing:!1,commentSaved:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},updateRating:function(e){t.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{rating:e},sparams:t.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:this.props.conversation.slug,props:{satisfactionRating:e}}})}.bind(this),crossDomain:!0})},updateComment:function(e){this.setState({commentProcessing:!0,commentSaved:!1},function(){t.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{comment:e},sparams:t.param({sso:this.props.currentUser.ssoData()})}}).always(function(){this.setState({commentProcessing:!1,commentSaved:!0})}.bind(this))}.bind(this))},render:function(){return e.createElement("li",{className:"card fade "+(this.state.visible?"in":""),style:{margin:"1em"}},e.createElement("style",null,'\n            #ratings {\n              display: -ms-flexbox;\n              display: -ms-flex;\n              display: -moz-flex;\n              display: -webkit-flex;\n              display: flex;\n              flex-wrap: nowrap;\n            }\n            #ratings:after {\n              display: block;\n              content: "";\n              position: absolute;\n              background: #eaeaea;\n              top: 50%;\n              left: 10%;\n              right: 10%;\n              height: 3px;\n              margin-top: -4px;\n              z-index: 0;\n            }\n            #ratings .rating {\n              display: block;\n              width: 20%;\n              box-sizing: border-box;\n              padding: 5%;\n              vertical-align: middle;\n              transition: transform 0.4s;\n              position: relative;\n              z-index: 1;\n            }\n            #ratings .rating.selected {\n              transform: scale(1.3);\n            }\n            #ratings .rating .svg-wrapper {\n              width: 100%;\n              border-radius: 50%;\n              cursor: pointer;\n              height: 0;\n              padding-top: 100%;\n              position: relative;\n            }\n            #ratings .rating svg {\n              position: absolute;\n              left: 0;\n              top: 0;\n            }\n            #ratings .rating.off .off {\n              display: inline-block;\n            }\n            #ratings .rating.off .on {\n              display: none;\n            }\n            #ratings .rating.selected .off {\n              display: none;\n            }\n            #ratings .rating.selected .on {\n              display: inline-block;\n            }\n          '),e.createElement("div",null,this.props.conversation.satisfactionRating&&this.props.satisfactionRating.rating&&e.createElement("div",null,e.createElement("i",{className:"rmzfa fas rmzfa-check",style:{display:"block",margin:"0.3em auto",fontSize:"18px",lineHeight:"40px",height:"40px",width:"40px",borderRadius:"50%",background:"#e9efef",color:"#9bb3b3",textAlign:"center"}}),e.createElement("h1",{style:{fontSize:"1.3em",textAlign:"center",marginBottom:"5px"}},this.props.appContext.brand.preferences.trans_survey_thanks_header),e.createElement("p",{style:{marginBottom:"20px",textAlign:"center",color:"#8b8d96"}},this.props.appContext.brand.preferences.trans_survey_thanks_message)),e.createElement("p",{style:{marginTop:"20px",textAlign:"center",color:"#8b8d96",fontSize:"90%"}},this.props.appContext.brand.preferences.trans_survey_ratings_prompt),e.createElement("div",{style:{width:"100%",maxWidth:"400px",margin:"0.3em auto",position:"relative"}},e.createElement("div",{id:"ratings"},e.createElement("div",{id:"rating-1",className:"rating "+(1==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-82.857 -420.934)"},e.createElement("circle",{r:"217.143",cy:"638.076",cx:"300",fill:"#ffa683"}),e.createElement("path",{d:"M394.357 601.72c0 16.568-13.43 30-30 30-16.568 0-29.955-12.177-30-30l35.5-28c16.568.164 24.5 11.43 24.5 28zM199.857 600.72c0 16.568 13.432 30 30 30 16.57 0 29.956-12.177 30-30l-35.5-28c-16.567.164-24.5 11.43-24.5 28z",fill:"#352d2b"}),e.createElement("path",{d:"M358.204 730.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,1)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-42.857 -206.648)"},e.createElement("circle",{cx:"260",cy:"423.791",r:"217.143",fill:"#d7d7d7"}),e.createElement("path",{d:"M354.357 387.434c0 16.568-13.43 30-30 30-16.568 0-29.955-12.176-30-30l35.5-28c16.568.165 24.5 11.43 24.5 28zM159.857 386.434c0 16.568 13.432 30 30 30 16.57 0 29.956-12.176 30-30l-35.5-28c-16.567.165-24.5 11.43-24.5 28z",fill:"#fff"}),e.createElement("path",{d:"M318.204 516.248c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-2",className:"rating "+(2==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-128.57 -298.077)"},e.createElement("circle",{cx:"345.714",cy:"515.219",r:"217.143",fill:"#ffc083"}),e.createElement("path",{d:"M302.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM440.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M403.918 607.677c-35.382-27.914-88.223-27.713-122.388 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,2)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-97.143 -200.934)"},e.createElement("circle",{r:"217.143",cy:"418.076",cx:"314.286",fill:"#d7d7d7"}),e.createElement("path",{d:"M270.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM408.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M372.49 510.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-3",className:"rating "+(3==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-60 -192.362)"},e.createElement("circle",{cx:"277.143",cy:"409.505",r:"217.143",fill:"#ffe183"}),e.createElement("path",{d:"M233.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM371.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M210.413 492.835h125.482",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,3)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-125.714 -206.648)"},e.createElement("circle",{r:"217.143",cy:"423.791",cx:"342.857",fill:"#d7d7d7"}),e.createElement("path",{d:"M299.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM437.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M276.128 507.12h125.48",fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-4",className:"rating "+(4==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-37.143 -212.362)"},e.createElement("circle",{r:"217.143",cy:"429.505",cx:"254.286",fill:"#ffe583"}),e.createElement("path",{d:"M210.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM348.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M149.53 496.77c60 40.194 149.6 39.905 207.533 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,4)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-162.857 -86.648)"},e.createElement("circle",{cx:"380",cy:"303.791",r:"217.143",fill:"#d7d7d7"}),e.createElement("path",{d:"M336.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM474.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M275.245 371.056c59.998 40.194 149.598 39.904 207.532 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-5",className:"rating "+(5==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-14.286 -103.79)"},e.createElement("circle",{cx:"231.429",cy:"320.934",r:"217.143",fill:"#ffeb83"}),e.createElement("path",{d:"M187.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM325.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M137.143 381.22h182s.532 68.682-90.968 68.682c-90.525 0-91.032-68.683-91.032-68.683z",fill:"#352d2b",fillRule:"evenodd",stroke:"#000"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,5)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-148.57 -149.505)"},e.createElement("circle",{r:"217.143",cy:"366.648",cx:"365.714",fill:"#d7d7d7"}),e.createElement("path",{d:"M322.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM460.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#faf8fa"}),e.createElement("path",{d:"M271.43 426.934h182s.53 68.682-90.97 68.682c-90.525 0-91.03-68.682-91.03-68.682z",fill:"#faf8fa",fillRule:"evenodd"}))))))),this.props.satisfactionRating.rating&&e.createElement("form",{onSubmit:function(e){e.preventDefault(),this.updateComment(this.textarea.value)}.bind(this)},e.createElement("label",{htmlFor:"comment",style:{textAlign:"center",color:"#a0a4a6",display:"block",fontSize:"90%",marginBottom:"15px"}},this.props.appContext.brand.preferences.trans_survey_comment_prompt),e.createElement("textarea",{id:"comment",ref:function(e){this.textarea=e}.bind(this),onChange:function(){this.state.commentSaved&&this.setState({commentSaved:!1})}.bind(this),placeholder:this.props.appContext.brand.preferences.trans_survey_comment_placeholder,defaultValue:this.props.conversation.satisfactionRating.comment,style:{display:"block",width:"100%",height:"70px",boxSizing:"border-box",padding:"10px",border:"1px solid #e8e8e8",boxShadow:"none",marginBottom:"15px",resize:"none"}}),e.createElement("div",{style:{textAlign:"right"}},e.createElement("i",{className:"rmzfa fas rmzfa-check",style:{marginRight:"20px",color:"rgb(36, 213, 143)",fontSize:"20px",transition:"0.3s",opacity:this.state.commentSaved?"1.0":"0.0"}}),e.createElement("button",{className:"btn anim-btn anim-btn-shadow",disabled:this.state.commentProcessing||this.state.commentSaved},this.props.appContext.brand.preferences.trans_survey_comment_submit)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,e,r,o){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateAnchorAction=r({displayName:"Reamaze.Conversations.TemplateAnchorAction",propTypes:{action:o.object.isRequired,appContext:o.object.isRequired,currentUser:o.object.isRequired,message:o.object.isRequired},doAction:function(){if(this.props.action.uuid){var e={uuid:this.props.action.uuid,message_id:this.props.message.id,name:this.props.action.name};Reamaze.localStorage.setItem("messageTemplate.lastAction",JSON.stringify({name:this.props.action.name,timestamp:Date.now()})),"url"===this.props.action.type&&(e.action_type="click"),e.sparams=t.param({sso:this.props.currentUser.ssoData()}),t.ajax({url:this.props.appContext.baseDataUrl+"/data/message_template_events",type:"POST",data:e})}},render:function(){var e="url"===this.props.action.type?this.props.action.url:"javascript:void(0)",t="url"===this.props.action.type?"_blank":null;return n.createElement("a",{href:e,target:t,onClick:this.doAction,style:{color:"inherit",opacity:"1",display:"flex",alignItems:"center"}},this.props.children)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateIcon=n({displayName:"Reamaze.Conversations.TemplateIcon",propTypes:{icon:o.string.isRequired,style:o.object,appContext:o.object.isRequired},getDefaultProps:function(){return{style:{}}},render:function(){var e={book:"rmzfa fas rmzfa-book",truck:"rmzfa fas rmzfa-truck",external_link:"rmzfa fas rmzfa-external-link-alt"}[this.props.icon];e||(e=null);var t=this.props.appContext.brand.styles,n=Object.assign({color:t.headerBgColor},this.props.style);return r.createElement("div",{className:"template-icon",style:n},r.createElement("i",{className:""+e}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateImage=r({displayName:"Reamaze.Conversations.TemplateImage",propTypes:{image:o.string.isRequired,style:o.object},getDefaultProps:function(){return{style:{}}},render:function(){return t.createElement("div",{className:"template-image",style:this.props.style},t.createElement("img",{src:this.props.image,style:{maxWidth:"100%"}}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,a,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateList=n({displayName:"Reamaze.Conversations.TemplateList",propTypes:{componentData:r.object.isRequired,appContext:r.object.isRequired,currentUser:r.object.isRequired,message:r.object.isRequired},renderList:function(){var n=[],r="26px",o=50,i=10;return this.props.componentData.items.forEach(function(e,t){n.push(a.createElement("div",{key:"template-list-item-"+t,className:"template-list-item",style:{padding:"12px 15px",borderLeft:"1px solid transparent"}},a.createElement("div",{style:{minHeight:"36px"}},a.createElement(Reamaze.Conversations.TemplateAnchorAction,{action:e.action,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message},e.image&&a.createElement("div",null,a.createElement(Reamaze.Conversations.TemplateImage,{image:e.image,style:{width:o+"px",paddingRight:i+"px"}})),e.icon&&a.createElement("div",null,a.createElement(Reamaze.Conversations.TemplateIcon,{icon:e.icon,appContext:this.props.appContext,style:{width:r}})),a.createElement("div",{style:{width:"100%",paddingRight:e.image?o+i+"px":r}},a.createElement("div",{style:{fontWeight:"bold"}},a.createElement(Reamaze.Conversations.TemplateText,{text:e.title})),e.subtitle&&a.createElement(Reamaze.Conversations.TemplateText,{text:e.subtitle}))))))}.bind(this)),a.createElement("div",null,n)},render:function(){var e=this.props.appContext.brand.styles;return a.createElement("div",{className:"template-list"},a.createElement("style",null,"\n            .template-list .template-list-item:hover {\n              border-left: 1px solid "+e.headerBgColor+" !important;\n            }\n          "),a.createElement("div",{className:"card-body full"},this.renderList()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateMap=r({displayName:"Reamaze.Conversations.TemplateMap",propTypes:{componentData:o.object.isRequired},render:function(){return t.createElement("div",{className:"template-map"},t.createElement("iframe",{title:"Google Maps",width:"100%",height:"250px",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData["long"]+"&output=embed&z=14"}),t.createElement("div",{style:{padding:"5px 0 10px 0",textAlign:"center"}},t.createElement("a",{href:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData["long"]+"&z=14",target:"_blank"},"View map")))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateText=r({displayName:"Reamaze.Conversations.TemplateText",propTypes:{text:o.string.isRequired},render:function(){return t.createElement("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},this.props.text)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TypingMessage=r({displayName:"Reamaze.Conversations.TypingMessage",propTypes:{user:o.object.isRequired,appContext:o.object.isRequired},shouldComponentUpdate:function(e){return this.props.user.id!=e.user.id},render:function(){return t.createElement("li",{id:"typing-message-"+this.props.user.id,className:"message typing"+(this.props.user.displayAsStaff?"":" customer")},t.createElement("div",{className:"message-user-image"},t.createElement("img",{src:this.props.user.avatarUrl,alt:this.props.user.name})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("div",{className:"message-wrap2"},t.createElement("div",{className:"message-body"},t.createElement("div",{className:"typing-indicator-dots"},t.createElement("span",{className:"one"},"."),t.createElement("span",{className:"two"},"."),t.createElement("span",{className:"three"},"."))))),t.createElement("div",{className:"message-meta"},t.createElement("i",null,this.props.appContext.brand.preferences.trans_chat_typing.replace(/\{\{ user \}\}/,this.props.user.name)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_get=function get(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(s!==undefined){if("value"in s)return s.value;var p=s.get;return p===undefined?undefined:p.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return undefined;e=c,t=i,n=a,r=!0,s=c=undefined}};!function(e,y){var t=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={videoMuted:!1,audioMuted:!1,audioAvailable:!0,videoAvailable:!0,remoteStatus:{video:!1,audio:!1},facingMode:"user"}}return _inherits(t,e),_createClass(t,[{key:"componentWillUnmount",value:function n(){this.stream&&(this.stream.getTracks().forEach(function(e){return e.stop()}),this.stream=undefined),this.peerConnection()&&(this.peerConnection().close(),this.peerConnection().oniceconnectionstatechange=undefined,this.peerConnection().ontrack=undefined),this.userVideoChannel&&(this.userVideoChannel.unsubscribe(),this.userVideoChannel.unbind("pusher:subscription_succeeded"),this.userVideoChannel=undefined),this.props.channel.unbind("client-conversation:video_call_ended"),this.props.channel.unbind("client-conversation:video_status_update"),window.removeEventListener("beforeunload",this.navigateAwayPrompt),window.removeEventListener("unload",this.endCall)}},{key:"peerConnection",value:function r(){return this.props.peerConnection}},{key:"componentDidMount",value:function o(){var t=this,e=this.props.appContext.getPusher(),n="presence-video-"+this.props.currentUser._data._id;this.userVideoChannel=e.subscribe(n),this.userVideoChannel.bind("pusher:subscription_succeeded",function(e){1===!e.count?t.videoCallEnded():t.setupVideoCallConnection()})}},{key:"setupVideoCallConnection",value:function i(){var n=this;this.peerConnection().ontrack=function(e){var t=e.streams[0];n.remoteVideo.srcObject=t};var e=this.peerConnection().getReceivers(),t=new window.MediaStream;0<e.length&&(e.forEach(function(e){t.addTrack(e.track)}),this.remoteVideo.srcObject=t),this.peerConnection().onicecandidate=function(e){e.candidate&&n.props.channel.trigger("client-conversation:add_candidate",{candidate:e.candidate})},this.peerConnection().oniceconnectionstatechange=function(){"disconnected"===n.peerConnection().iceConnectionState&&n.endCall()},this.addStreams(function(){n.peerConnection().createAnswer().then(function(e){return n.peerConnection().setLocalDescription(e)}).then(function(){n.props.channel.trigger("client-conversation:video_call_answered",{answer:n.peerConnection().localDescription})}),n.updateRemoteUser()}),this.props.channel.bind("client-conversation:video_call_ended",this.videoCallEnded.bind(this)),this.props.channel.bind("client-conversation:video_status_update",this.removeVideoStatusUpdate.bind(this)),this.navigateAwayPrompt=this.navigateAwayPrompt.bind(this),this.endCall=this.endCall.bind(this),window.addEventListener("beforeunload",this.navigateAwayPrompt),window.addEventListener("unload",this.endCall)}},{key:"getUserStream",value:function a(r){var o=this,e=this.state,t=e.audioAvailable,n=e.videoAvailable,i=e.facingMode;(t||n)&&window.navigator.mediaDevices.getUserMedia({audio:t,video:n&&{facingMode:i}}).then(function(e){o.localVideo.srcObject=e,o.stream=e;var t,n=o.peerConnection().getSenders().filter(function(e){return e.track});0<n.length?(t=e.getVideoTracks()[0],n.find(function(e){return e.track.kind===t.kind}).replaceTrack(t)):o.stream.getTracks().forEach(function(e){o.peerConnection().addTrack(e,o.stream)}),r()})["catch"](function(e){console.error(e)})}},{key:"addStreams",value:function s(r){var o=this;window.navigator.mediaDevices.enumerateDevices().then(function(e){var t=e.some(function(e){return"audioinput"===e.kind}),n=e.some(function(e){return"videoinput"===e.kind});o.setState({audioAvailable:t,videoAvailable:n},function(){return o.getUserStream(r)})})}},{key:"toggleAudioMute",value:function p(){var e=this,t=this.state.audioMuted;this.stream&&(this.stream.getAudioTracks().forEach(function(e){e.enabled=t}),this.setState(function(e){return{audioMuted:!e.audioMuted}},function(){return e.updateRemoteUser()}))}},{key:"toggleVideoMute",value:function c(){var e=this,t=this.state.videoMuted;this.stream&&(this.stream.getVideoTracks().forEach(function(e){e.enabled=t}),this.setState(function(e){return{videoMuted:!e.videoMuted}},function(){return e.updateRemoteUser()}))}},{key:"toggleVideoCameraDirection",value:function l(){var e=this;this.state.facingMode;this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.setState(function(e){return"user"===e.facingMode?{facingMode:"environment"}:{facingMode:"user"}},function(){return e.getUserStream(function(){})})}},{key:"endCall",value:function u(){this.props.channel.trigger("client-conversation:video_call_ended",{}),this.videoCallEnded()}},{key:"videoCallEnded",value:function d(){this.props.onCallEnded()}},{key:"navigateAwayPrompt",value:function h(){return"You're currently on a video call, are you sure you want to navigate away?"}},{key:"removeVideoStatusUpdate",value:function f(e){this.setState({remoteStatus:e})}},{key:"updateRemoteUser",value:function m(){this.props.channel.trigger("client-conversation:video_status_update",{video:!this.state.videoMuted,audio:!this.state.audioMuted})}},{key:"render",value:function g(){var t=this,e="28px",n="30px";return y.createElement("div",{className:"video-call-container"},y.createElement("style",null,"\n            @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {\n              .video-call-container {\n                -webkit-backdrop-filter: blur(15px);\n                backdrop-filter: blur(15px);\n              }\n            }\n\n            .video-call-container {\n              background: rgba(45,45,45, 0.85);\n              position: fixed;\n              width: 100%;\n              height: 100%;\n              z-index: 99999999999;\n              top: 0;\n              left: 0;\n\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            }\n\n            .remote-video {\n              width: 100%;\n            }\n\n            .remote-video-muted {\n              width: 240px;\n            }\n\n            .local-video {\n              max-width: 240px;\n              width: 35%;\n              border-radius: 8px;\n              position: fixed;\n              bottom: 10px;\n              right: 10px;\n            }\n\n            .video-action-controls {\n              position: fixed;\n              height: "+n+";\n              bottom: 10px;\n              width: 100%;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            }\n\n            .video-action-button {\n              box-shadow: 0px 3px 8px 1px rgba(0, 0, 0, 0.06);\n              width: "+e+";\n              height: "+e+";\n              line-height: "+e+";\n              padding: 0;\n              background: rgba(125, 125, 125, 0.85);\n              border-radius: 50%;\n              border: 0;\n              color: white;\n              text-align: center;\n              display: inline-block;\n              margin: 0 8px;\n            }\n\n            .video-action-button i {\n              font-size: 12px;\n            }\n\n            .video-action-button-alt {\n              background: rgba(255, 101, 101, 80%);\n              color: white;\n              border-radius: 4px;\n              width: 32px;\n              height: 32px;\n              line-height: 32px;\n            }\n\n            .remote-video-muted {\n              width: 56px;\n              height: 56px;\n              border: 2px solid white;\n              border-radius: 56px;\n              display: inline-block;\n              text-indent: 100%;\n              white-space: nowrap;\n              overflow: hidden;\n              object-fit: cover;\n              box-shadow: 0px 5px 8px -2px rgba(0, 0, 0, 0.06);\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              position: absolute;\n            }\n          "),y.createElement("div",{className:"remote-video-wrap"},y.createElement("video",{ref:function(e){return t.remoteVideo=e},autoPlay:!0,className:"remote-video",style:{opacity:this.state.remoteStatus.video?"100%":"0%"},playsInline:!0,webkitPlaysInline:!0}),y.createElement("audio",{ref:function(e){return t.remoteAudio=e},autoPlay:!0,className:"remote-video",playsInline:!0,webkitPlaysInline:!0}),!this.state.remoteStatus.video&&y.createElement("img",{className:"remote-video-muted",src:this.props.remoteUser.avatar,alt:this.props.remoteUser.name}),!this.state.remoteStatus.audio&&y.createElement("div",{className:"video-action-button video-action-button-alt"},y.createElement("i",{className:"fas rmzfa rmzfa-microphone-alt-slash"})),!this.state.remoteStatus.video&&y.createElement("div",{className:"video-action-button video-action-button-alt"},y.createElement("i",{className:"fas rmzfa rmzfa-video-slash"}))),y.createElement("video",{ref:function(e){return t.localVideo=e},autoPlay:!0,muted:!0,className:"local-video",playsInline:!0,webkitPlaysInline:!0}),y.createElement("div",{className:"video-action-controls"},y.createElement("button",{onClick:this.toggleAudioMute.bind(this),className:"video-action-button"},y.createElement("i",{className:this.state.audioMuted?"fas rmzfa rmzfa-microphone-alt-slash":"fas rmzfa rmzfa-microphone-alt"})),y.createElement("button",{onClick:this.endCall.bind(this),className:"video-action-button video-action-button-alt"},y.createElement("i",{className:"fas rmzfa rmzfa-phone-slash"})),y.createElement("button",{onClick:this.toggleVideoMute.bind(this),className:"video-action-button"},y.createElement("i",{className:this.state.videoMuted?"fas rmzfa rmzfa-video-slash":"fas rmzfa rmzfa-video"})),this.props.appContext.isMobileBrowser&&y.createElement("button",{onClick:this.toggleVideoCameraDirection.bind(this),className:"video-action-button"},y.createElement("i",{className:"fas rmzfa rmzfa-sync"}))))}}]),t}(y.Component)
;Reamaze.Conversations.VideoCall=t}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,t,r,o){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.VideoCallMessage=r({displayName:"Reamaze.Conversations.VideoCallMessage",propTypes:{user:o.object.isRequired,onAnswerClick:o.func.isRequired,onDeclineClick:o.func.isRequired,appContext:o.object.isRequired},answerCall:function(){this.ringingAudio.pause(),this.props.onAnswerClick()},componentDidMount:function(){this.ringingAudio.play()},render:function(){var t=this;return n.createElement("li",{id:"answer-video-call",className:"message typing"},n.createElement("div",{className:"message-user-image"},n.createElement("img",{src:this.props.user.avatar,alt:this.props.user.name})),n.createElement("div",{className:"message-outer-wrap"},n.createElement("div",{className:"message-wrap"},n.createElement("div",{className:"message-wrap2"},n.createElement("div",{className:"message-body"},this.props.appContext.brand.preferences.trans_video_prompt_text))),n.createElement("div",null,n.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.answerCall},this.props.appContext.brand.preferences.trans_video_answer_button_text),n.createElement("button",{className:"btn btn-link anim-btn",onClick:this.props.onDeclineClick},this.props.appContext.brand.preferences.trans_video_decline_button_text)),n.createElement("audio",{src:"/audio/video-call/client_ringing.mp3",ref:function(e){return t.ringingAudio=e},loop:!0,volume:.1,controls:!1})))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,e,t,o){n.namespace("Reamaze.Hub"),Reamaze.Hub.ACTIONS={};var i=function(e,t){return t.type,null};Reamaze.Hub.App=t({displayName:"Reamaze.Hub.App",mixins:[TimerMixin],propTypes:{chatIsLive:o.bool,enableKb:o.bool,currentUser:o.object,active:o.bool,onAppMounted:o.func,contactHeader:o.string,conversations:o.object,conversationsFetched:o.bool,appContext:o.object.isRequired,label:o.any,category:o.string,videoCallInformation:o.object},contextTypes:{window:o.object},getDefaultProps:function(){return{}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=n.extend({},this.state);t.effects=[],(t=i(t,e))&&this.setState(t)}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};if(t.currentUser!=this.state.currentUser||t.inView!=this.state.inView||t.chatIsLive!=this.state.chatIsLive){if(!this.state.inView&&t.inView&&this.checkRedirectToConversationsNew())return;this.setState(t)}},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4),this.state.inView&&(this.checkRedirectToConversationsNew()||Reamaze.Analytics.track("Hub Shown"))},componentDidUpdate:function(e,t){this.state.inView&&!t.inView&&Reamaze.Analytics.track("Hub Shown")},checkRedirectToConversationsNew:function(){var e=this.props.conversations&&!!Object.keys(this.props.conversations).length,t=this.props.appContext.apps,n=this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled,r=Object.keys(t).some(function(e){return"faq"!=e&&!!t[e].enabled});return!(e||n||r)&&(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{noback:!0}}}),!0)},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},goToStatus:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index",routeParams:{noback:!0}}})},getBanner:function(){if(!(this.props.appContext.brand.allowIncidents&&0<this.props.appContext.brand.activeIncidents.length))return null;var e=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},"");return r.createElement("div",{className:"alert alert-warning",style:{margin:"20px 20px 0 20px",paddingLeft:"19px",paddingRight:"14px",display:"flex",borderRadius:"10px"}},r.createElement("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1}},e)," ",r.createElement("a",{href:"javascript:void(0)",style:{textAlign:"right"},onClick:this.goToStatus},this.props.appContext.brand.preferences.trans_status_view_status_button))},getSearchPlaceholder:function(){var e=this.props.appContext,t=e.brand,n=e.apps;return n.faq&&n.faq.placeholder?n.faq.placeholder:t.preferences.trans_hub_faq_placeholder},getContent:function(){var e=[],t=this.props.appContext.apps;return this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled&&e.push(r.createElement(Reamaze.Shared.Card,{id:"search-kb-card",key:"search-kb-card",appContext:this.props.appContext,loading:!1},r.createElement("style",null,"\n          #search-kb-card .rmzfa-search {\n            position: absolute;\n            top: 3px;\n            right: 0px;\n            color: #bbb;\n          }\n        "),r.createElement("div",{className:"card-header"},t.faq&&t.faq.header?t.faq.header:this.props.appContext.brand.preferences.trans_hub_faq_header),r.createElement("div",{className:"card-body"},r.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=n(e.target).find("input.search").val();return Reamaze.Analytics.track("Hub:FAQ Search",t),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?q="+encodeURIComponent(t)}}}),!1}.bind(this)},r.createElement("input",{type:"text",className:"search",placeholder:this.getSearchPlaceholder()}),r.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),r.createElement("button",{className:"btn btn-link fas rmzfa rmzfa-search","aria-label":this.getSearchPlaceholder()}))))),t.orders&&t.orders.enabled&&e.push(r.createElement(Reamaze.Hub.Orders.App,{key:"orders-card",appContext:this.props.appContext,currentUser:this.props.currentUser})),this.props.conversations&&!!Object.keys(this.props.conversations).length&&e.push(r.createElement(Reamaze.Shared.Card,{id:"conversation-list-card",key:"conversation-list-card",appContext:this.props.appContext,loading:!this.props.conversationsFetched},r.createElement("div",{className:"card-header"},t.recentConversations&&t.recentConversations.header?t.recentConversations.header:this.props.appContext.brand.preferences.trans_hub_conversations_header),r.createElement("div",{className:"card-body full"},r.createElement("div",{style:{marginTop:"-5px"}},r.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:function(){},appContext:this.props.appContext}))))),e},render:function(){if(!this.props.active)return null;this.props.conversations&&Object.keys(this.props.conversations).length;return r.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},r.createElement("style",null,"\n\n        "),r.createElement(Reamaze.Shared.Header,{chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.props.contactHeader,allowHtmlHeader:!0,appContext:this.props.appContext}),r.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed"},this.getBanner(),r.createElement("div",{id:"content-inner",style:{padding:"20px 0 10px 0"}},this.getContent()),r.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px"}})),r.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,buttonMode:!0,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,e,t,o){n.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.App=t({mixins:[TimerMixin],propTypes:{appContext:o.object.isRequired},contextTypes:{window:o.object},getDefaultProps:function(){return{}},getInitialState:function(){return{ordersFetched:!1,orders:[],order:null,route:"index"}},componentDidMount:function(){this.setTimeout(this.fetchOrders.bind(this,3),0)},fetchOrders:function(e){this.props.currentUser.isSSOUser()?n.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:{limit:e,sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({ordersFetched:!0,orders:e.orders||[]})}.bind(this),crossDomain:!0}):this.setState({orders:[],ordersFetched:!0})},showAllOrders:function(){Reamaze.Analytics.track("Hub:Orders View All"),this.setState({route:"allOrders",ordersFetched:!1},this.fetchOrders.bind(this,100))},findOrder:function(e,t){return Reamaze.Analytics.track("Hub:Orders Search"),n.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:n.extend({},e,{sparams:n.param({sso:this.props.currentUser.ssoData()})}),success:function(e){e.orders[0]?this.setState({order:e.orders[0],route:"search"}):t()}.bind(this),error:t,crossDomain:!0}),!1},goToIndex:function(){this.setState({route:"index"})},getContent:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?0<this.state.orders.length?r.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:"allOrders"==this.state.route?this.state.orders:this.state.orders.slice(0,2),currentUser:this.props.currentUser}):r.createElement("div",{style:{padding:"0 20px"}},e.orders.no_orders||t.trans_hub_orders_no_orders):"search"==this.state.route?this.state.order?r.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:[this.state.order],currentUser:this.props.currentUser}):r.createElement(Reamaze.Hub.Orders.FindOrder,{appContext:this.props.appContext,findOrder:this.findOrder,backButton:this.goToIndex}):void 0},getFooter:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?r.createElement("div",{className:"card-footer"},"index"==this.state.route&&2<this.state.orders.length&&r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{marginRight:"0.8em"},onClick:function(){this.showAllOrders()}.bind(this)},e.orders.order_history_button_text||t.trans_hub_orders_order_history_button_text),r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||t.trans_hub_orders_find_order_button_text),"allOrders"==this.state.route&&r.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},t.trans_popup_back)):"search"==this.state.route&&this.state.order?r.createElement("div",{className:"card-footer"},r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||t.trans_hub_orders_find_order_button_text),r.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},t.trans_popup_back)):void 0},render:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return r.createElement(Reamaze.Shared.Card,{id:"orders-card",appContext:this.props.appContext,loading:!this.state.ordersFetched},r.createElement("style",null,"\n        #orders-card input {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        #orders-card input:focus {\n          opacity: 1;\n        }\n      "),r.createElement("div",{className:"card-header"},e.orders.header||t.trans_hub_orders_header),r.createElement("div",{className:"card-body full"},this.getContent()),this.getFooter())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,o,e){n.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.FindOrder=e({displayName:"Reamaze.Hub.Orders.FindOrder",mixins:[TimerMixin],getInitialState:function(){return{loading:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;this.props.appContext.brand.styles;return r.createElement("form",{ref:"form",onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),n(o.findDOMNode(this.refs.form)).find(":focus").blur(),this.setState({loading:!0}),this.props.findOrder({orderEmail:this.refs.orderEmail.value,orderNumber:this.refs.orderNumber.value},function(){this.setState({error:!0,loading:!1})}.bind(this)),!1}.bind(this),disabled:this.state.loading,className:"rmz-fade "+(this.state.visible?"in":"")},r.createElement("div",{style:{opacity:this.state.loading?"0.6":1,padding:"0 20px"}},r.createElement("div",null,r.createElement("input",{type:"text",name:"orderNumber",ref:"orderNumber",placeholder:e.orders.order_number_placeholder||t.trans_hub_orders_order_number_placeholder,required:!0})," ",r.createElement("br",null),r.createElement("input",{type:"text",name:"email",ref:"orderEmail",placeholder:e.orders.order_email_placeholder||t.trans_hub_orders_order_email_placeholder,required:!0})),r.createElement("div",null,r.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),r.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{paddingTop:"8px"},disabled:this.state.loading},r.createElement("i",{className:"fas rmzfa rmzfa-search"})),this.props.backButton&&r.createElement("a",{className:"btn btn-link",onClick:this.props.backButton,style:{marginLeft:"10px"}},t.trans_popup_back),this.state.error&&r.createElement("span",{style:{marginLeft:"1em",color:"#ea4d4a"}},r.createElement("i",{className:"rmzfa fas rmzfa-exclamation-circle"})," ",e.orders.find_order_error||t.trans_hub_orders_find_order_error))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,o){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderList=r({displayName:"Reamaze.Hub.Orders.OrderList",mixins:[TimerMixin],propTypes:{orders:o.array,appContext:o.object},getDefaultProps:function(){return{orders:[]}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.onFetched()},componentWillReceiveProps:function(){},onFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.brand.styles;return t.createElement("div",null,t.createElement("style",null,"\n          #order-list {\n            margin-top: -5px;\n          }\n          #order-list li {\n            border-left: 1px solid transparent;\n            transition: all 0.25s linear;\n            padding: 12px 20px;\n          }\n          #order-list li.clickable:hover {\n            cursor: pointer;\n            border-left: 1px solid "+e.headerBgColor+";\n          }\n          #order-list li:not(.clickable) a:hover {\n            opacity: 1;\n            cursor: default;\n          }\n          #order-list li > a {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: nowrap;\n            -ms-flex-wrap: nowrap;\n            -ms-flex-pack: justify;\n            justify-content: space-between;\n            color: #333;\n          }\n          #order-list li .right {\n            text-align: right;\n          }\n          #order-list li .meta {\n            opacity: 0.7;\n          }\n          #order-list .shipments, #order-list .note {\n            margin-top: 3px;\n          }\n          #order-list .note .rmzfa {\n            margin-right: 5px;\n            opacity: 0.7;\n            float: left;\n            margin-top: 1px;\n          }\n          #order-list .shipments .shipment {\n            margin-left: 15px;\n            margin-top: 3px;\n          }\n        "),t.createElement("ul",{id:"order-list",className:"rmz-fade "+(this.state.visible?"in":"")},this.props.orders.map(function(e){return t.createElement(Reamaze.Hub.Orders.OrderListItem,{key:e.id,order:e,appContext:this.props.appContext,currentUser:this.props.currentUser})}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,i,t,n){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderListItem=n({displayName:"Reamaze.Hub.Orders.OrderListItem",getInitialState:function(){return{fetching:!1,shipments:null}},componentDidMount:function(){"shopify"==this.props.order.provider&&this.props.order.fulfillments&&this.setState({shipments:this.props.order.fulfillments})},fetchShipments:function(){this.setState({fetching:!0},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders/"+this.props.order.id+"/shipments",type:"GET",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({fetching:!1,shipments:e.shipments||[]})}.bind(this),error:function(){this.setState({fetching:!1})},crossDomain:!0})}.bind(this))},renderShipments:function(){var e=this.props.appContext.apps.orders.shipments||this.props.appContext.brand.preferences.trans_hub_orders_shipments,t=this.props.appContext.apps.orders.no_tracking_number||this.props.appContext.brand.preferences.trans_hub_orders_no_tracking_number;return i.createElement("div",{className:"shipments"},i.createElement("div",null,e),this.state.shipments.map(function(n,e){return i.createElement("div",{key:e,className:"shipment"},n.urls&&0<n.urls.length?n.urls.map(function(e,t){return i.createElement("a",{style:{display:"block"},href:e,target:"_blank"},n.provider," ",n.tracking_numbers[t]||e)}):i.createElement("a",{href:n.url?n.url:"javascript:;",target:"_blank",onClick:function(e){n.url||(e.preventDefault(),e.stopPropagation())}},n.provider," ",n.tracking_number||t))}.bind(this)))},render:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences,n=this.props.appContext.brand.styles,r=Reamaze.Utils.pSBC(.95,n.headerBgColor)||"#fafafa",o=n.widgetColor;return i.createElement("li",{className:this.props.order.url||"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"clickable":""},i.createElement("a",{href:this.props.order.url?this.props.order.url:"javascript:;",target:this.props.order.url?"_blank":"_self",onClick:function(e){this.props.order.url||(e.preventDefault(),e.stopPropagation()),Reamaze.Analytics.track("Hub:Orders Order Clicked"),"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&this.fetchShipments()}.bind(this)},i.createElement("div",null,i.createElement("div",{style:{color:o}},e.orders.order_name_prefix||t.trans_hub_orders_order_name_prefix," ",this.props.order.name,this.props.order.url&&i.createElement(i.Fragment,null," ",i.createElement("i",{className:"rmzfa fas rmzfa-external-link-alt",style:{margin:0,fontSize:"13px",position:"relative",bottom:"1px"}}))),i.createElement("div",{className:"meta",style:{textDecoration:"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"underline":"none"}},e.orders["fulfillment_"+this.props.order.status]||t["trans_hub_orders_fulfillment_"+this.props.order.status]||this.props.order.status||""," ","bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&i.createElement("span",null,"\xbb"))),i.createElement("div",{className:"right"},i.createElement("div",{className:"meta"},new Date(this.props.order.date).toLocaleDateString()),i.createElement("div",null,this.props.order.total))),e.orders.enable_notes&&this.props.order.note&&i.createElement("div",{className:"note"},i.createElement("i",{className:"rmzfa far rmzfa-sticky-note"}),i.createElement("div",{dangerouslySetInnerHTML:{__html:Reamaze.Utils.simpleFormat(this.props.order.note)}})),this.state.fetching&&i.createElement("div",null,i.createElement(Reamaze.Spinner,{xColor:n.widgetColor,bgColor:r,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}})),this.state.shipments&&0<this.state.shipments.length&&this.renderShipments())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(i,a,e,t,n){i.namespace("Reamaze.KB"),Reamaze.KB.App=t({mixins:[TimerMixin],propTypes:{enableKb:n.bool,currentUser:n.object,active:n.bool,popupOptions:n.object,onAppMounted:n.func,conversations:n.object,appContext:n.object.isRequired,chatIsLive:n.bool,videoCallInformation:n.object},contextTypes:{window:n.object},getDefaultProps:function(){return{}},getInitialState:function(){return{kbLoaded:!1}},componentWillReceiveProps:function(e){this.props.active&&!e.active&&i(this.context.window).focus()},componentDidMount:function(){this.props.onAppMounted(),this.props.active&&this.props.appContext.shoutbox.open&&Reamaze.Analytics.track("KB Shown")},componentDidUpdate:function(e){!this.props.active||!this.props.appContext.shoutbox.open||e.active&&e.appContext.shoutbox.open||Reamaze.Analytics.track("KB Shown")},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getHeader:function(){return a.createElement("div",{id:"nav-c-header"},a.createElement("a",{href:"javascript:;","aria-label":this.props.appContext.brand.preferences.trans_kb_header,role:"presentation",onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?rl="+Date.now()}}})}.bind(this)},this.props.appContext.brand.preferences.trans_kb_header))},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getContent:function(){var e,t=i.param({sso:this.props.currentUser.ssoData(),popup:1}),n=this.getPath();e=(n=n+(0<n.indexOf("?")?"&":"?")+t).match(/^http/)?n:this.props.appContext.baseUrl+n,this.props.appContext.routeParams&&this.props.appContext.routeParams.anchor&&(e+=this.props.appContext.routeParams.anchor);var r={width:"100%",height:"100%",overflowY:"hidden"},o={position:"relative"};return a.createElement("div",{style:r},!this.state.kbLoaded&&a.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),a.createElement("iframe",{title:"FAQ",style:o,src:e,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({kbLoaded:!0})}.bind(this)}))},onNewMessageSubmit:function(e){if(!this.props.appContext._preview){var t=e.customer_body;delete e.customer_body,data={message:e,customer_body:t},this.props.currentUser&&(data.sparams=i.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3),r=Reamaze.ec("0"+n);return data._zt=r,data._zt2=n,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.props.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+r,data:data}}),!1}},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),a.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},a.createElement(Reamaze.KB.Css,null),a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},a.createElement("div",null,function(){if(this.props.conversations&&0<Object.keys(this.props.conversations).length){var e=0;for(var t in this.props.conversations)this.props.conversations[t].unread&&e++;return a.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations,"aria-label":this.props.appContext.brand.preferences.trans_contact_us_past_conversations},a.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),0<e&&a.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked,"aria-label":this.props.appContext.brand.preferences.trans_navigation_home},a.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),a.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"})))),a.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),a.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid rgba(0,0,0,0.05)"}})),a.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.KB"),Reamaze.KB.Css=n({shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header #nav-c-header a:hover {\n          text-decoration: underline;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        .rmz-fade {\n          transition: opacity 150ms ease-in;\n          opacity: 0.01\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(t,e,n,r,o){t.namespace("Reamaze.Live"),Reamaze.Live.App=r({displayName:"Reamaze.Live.App",mixins:[TimerMixin],propTypes:{currentUser:o.object,appContext:o.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){var e=function(e){e.type==Reamaze.ACTIONS.USER_TRANSITION&&this.onUserTransition(e.payload.fromAnonymousId)}.bind(this);return this.props.appContext.dispatcher.register(e),{liveId:null}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.checkInterval=this.setInterval(this.checkSocked,100)},componentWillUnmount:function(){this.socked&&this.socked.disconnect()},checkSocked:function(){window.Socked&&this.checkInterval&&(this.clearInterval(this.checkInterval),this.checkInterval=null,this.initSocked())},onUserTransition:function(e){this.socked&&this.socked.disconnect(),this.socked&&this.socked.connect(),this.state.channel&&this.state.channel.once("internal:subscription_success",function(){this.state.channel.trigger("private-user-transitioned",{fromAnonymousId:e})}.bind(this))},initSocked:function(){if(this.canLoadLive()){this.socked=new Socked(this.props.appContext.brand.url,{host:"ws.reamaze.com",authUrl:this.props.appContext.baseDataUrl+"/data/socked/auth",auth:{params:{sparams:function(){return t.param({sso:this.props.currentUser.ssoData()})}.bind(this),meta:function(){return JSON.stringify({url:window.location.href})}},callback:function(e){e.userId&&e.id&&e.id!=e.anonymous_id&&(this.props.currentUser.set("_id",e.userId),this.props.currentUser.set("name",e.name)),this.setState({liveId:e.id}),this.props.currentUser.setAnonymousId(e.anonymous_id),e.email&&this.props.currentUser.set("email",e.email)}.bind(this)},autoConnect:!1,reconnectionAttempts:3,reconnectionDelay:1e4,randomizationFactor:.8}),this.socked.on("connected",function(){try{if(!this.state.channel){var o=this.socked.subscribe("live"),e=function(){var e,t=window.location.href.replace(window.location.search,"");try{e=JSON.parse(Reamaze.localStorage.getItem("rmz-live-url"))}catch(r){}var n=(new Date).getTime();(!e||e.url!=t||n>=e.ts+12e4)&&(o.event("pageview",{url:t}),Reamaze.localStorage.setItem("rmz-live-url",JSON.stringify({url:t,ts:n})))};o.subscribed?e():o.once("internal:subscription_success",function(){e(),this.onGetCart()}.bind(this)),o.on("private-cue",this.onCue),o.on("private-get-cart",this.onGetCart.bind(this,!0)),o.on("private-portal",this.startMirroring),this.setState({channel:o})}}catch(t){console.log(t)}}.bind(this));try{this.socked.connect()}catch(e){console.log(e)}}},onCue:function(e){Reamaze.cue(e.data.cue)},onGetCart:function(e){window.Shopify&&window.Shopify.shop?t.ajax({url:"/cart.json",dataType:"json",accepts:"application/json",success:function(e){this.state.channel.trigger("private-cart-resp",{cart:e})}.bind(this),error:function(e,t,n){this.state.channel.trigger("private-cart-resp",{error:"Unable to fetch cart",errorString:n})}.bind(this)}):e&&this.state.channel.trigger("private-cart-resp",{error:"Page is not a Shopify store."})},canLoadLive:function(){return!this.props.appContext.brand||!1!==this.props.appContext.brand.allowLiveView},startMirroring:function(){if(this.props.appContext.brand&&!1===this.props.appContext.brand.allowPeek||!this.state.liveId)return!1;this.portal||(this.portal=new PortalClient(this.socked,"presence-portal-"+(this.state.liveId||this.props.currentUser.getAnonymousId()),this.getPortalId())),this.portal.start()},stopMirroring:function(){this.portal&&this.portal.end()},getPortalId:function(){var e;return(e=Reamaze.sessionStorage.getItem("portalId"))||(e=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1),Reamaze.sessionStorage.setItem("portalId",e)),e},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze.Mixins"),Reamaze.Mixins.Styles={getResetCss:function(){
return' /* reset */\n        html {\n          box-sizing: border-box;\n        }\n        *, *:before, *:after {\n          box-sizing: inherit;\n        }\n        html, body, .frame-root, .frame-root > div, .frame-content, .frame-content {\n          height: 100%;\n          width: 100%;\n        }\n        input.disabled, textarea.disabled {\n          background: #eee;\n        }\n        html, body, div, span, applet, object, iframe,\n        h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n        a, abbr, acronym, address, big, cite, code,\n        del, dfn, em, img, ins, kbd, q, s, samp,\n        small, strike, strong, sub, sup, tt, var,\n        b, u, i, center,\n        dl, dt, dd, ol, ul, li,\n        fieldset, form, label, legend,\n        table, caption, tbody, tfoot, thead, tr, th, td,\n        article, aside, canvas, details, embed,\n        figure, figcaption, footer, header, hgroup,\n        menu, nav, output, ruby, section, summary,\n        time, mark, audio, video {\n        \tmargin: 0;\n        \tpadding: 0;\n        \tborder: 0;\n        \tfont-size: 100%;\n        \tfont: inherit;\n        \tvertical-align: baseline;\n        }\n        /* HTML5 display-role reset for older browsers */\n        article, aside, details, figcaption, figure,\n        footer, header, hgroup, menu, nav, section {\n        \tdisplay: block;\n        }\n        body {\n        \tline-height: 1;\n        }\n        ol, ul {\n        \tlist-style: none;\n        }\n        blockquote, q {\n        \tquotes: none;\n        }\n        blockquote:before, blockquote:after,\n        q:before, q:after {\n        \tcontent: \'\';\n        \tcontent: none;\n        }\n        table {\n        \tborder-collapse: collapse;\n        \tborder-spacing: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n\n\n        /* custom reset css */\n        input, button, select, textarea {\n          font-family: "Nunito",Helvetica,Arial,sans-serif;\n          font-size: 14px;\n        }\n        input:focus, button:focus {\n          outline: none;\n        }\n        body {\n          line-height: 1.35;\n          font-size: 14px;\n          -webkit-text-size-adjust: 100%;\n        }\n        a:hover, body button:hover {\n          opacity: 0.8;\n        }\n        body .anim-btn {\n          transition: all 0.2s linear;\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n        }\n        body .anim-btn-shadow:hover, body .anim-btn-shadow:focus {\n          box-shadow: 0px 10px 20px 0px rgba(0,0,0,0.07);\n        }\n        body .anim-btn:hover, body .anim-btn:focus {\n          transform: translate3d(0,-3px,0);\n        }\n        b, strong, h1, h2, h3, h4, h5, h6 {\n          font-weight: bold;\n        }\n        i, em {\n          font-style: italic;\n        }\n        a {\n          word-wrap: break-word;\n        }\n        blockquote {\n          padding: 0px 0 0 10px;\n          margin: 0 0 15px;\n          border-left: 2px solid #ddd;\n        }\n        h1 {\n          font-size: 2em;\n          margin: .5em 0;\n        }\n        h2 {\n          font-size: 1.5em;\n          margin: .67em 0;\n        }\n        h3 {\n          font-size: 1.17em;\n          margin: .75em 0;\n        }\n        h4 {\n          margin: .83em 0;\n        }\n        h5 {\n          font-size: 0.83em;\n          margin: 1.12em 0;\n        }\n        h6 {\n          font-size: 0.75em;\n          margin: 1.5em 0;\n        }\n\n        .btn {\n          display: inline-block;\n          padding: 6px 25px;\n          margin-bottom: 0;\n          line-height: 20px;\n          text-align: center;\n          vertical-align: middle;\n          cursor: pointer;\n          margin: 0px;\n          border-radius: 20px;\n        }\n        .btn.disabled, body .btn[disabled] {\n          opacity: 0.65;\n          filter: alpha(opacity=65);\n          -webkit-box-shadow: none;\n          -moz-box-shadow: none;\n          box-shadow: none;\n          background-image: none;\n          cursor: default;\n        }\n        .btn.btn-link {\n          border: none;\n          background: none;\n          text-decoration: underline;\n          padding: 5px 13px;\n        }\n        select,\n        textarea,\n        input[type="text"],\n        input[type="password"],\n        input[type="datetime"],\n        input[type="datetime-local"],\n        input[type="date"],\n        input[type="month"],\n        input[type="time"],\n        input[type="week"],\n        input[type="number"],\n        input[type="email"],\n        input[type="url"],\n        input[type="search"],\n        input[type="tel"],\n        input[type="color"],\n        .uneditable-input {\n          display: inline-block;\n          height: 37px;\n          padding: 10px 6px 4px;\n          margin-bottom: 10px;\n          font-size: 14px;\n          line-height: 20px;\n          vertical-align: middle;\n          outline: none;\n        }\n        input[placeholder].placeholder, textarea[placeholder].placeholder {\n          color: #aaa;\n        }\n      '},getBrandCss:function(e){var t=e.headerBgColor,n=e.buttonBgColor;return e.gradient&&(t="linear-gradient(135deg, "+t+" 0%, "+(Reamaze.Utils.pSBC(.3,t)||t)+" 100%)",n="linear-gradient(135deg, "+n+" 0%, "+(Reamaze.Utils.pSBC(.3,n)||n)+" 100%)"),"body #header {\n        background: "+t+";\n        color: "+e.headerFontColor+";\n        font-size: 1.2em;\n      }\n\n      body #header a,\n      body #header a:visited,\n      body #header a:hover {\n        color: "+e.headerFontColor+";\n      }\n\n      body a,\n      body a:visited,\n      body a:hover {\n        color: "+e.bodyLinkColor+";\n      }\n      body {\n        font-family: "+Reamaze.Styles["default"].bodyFont+";\n      }\n      body .btn,\n      body a.btn,\n      body a.btn:visited,\n      body a.btn:hover {\n        background: "+n+";\n        border: none;\n        color: "+e.buttonFontColor+";\n        border-radius: "+e.buttonBorderRadius+";\n      }\n      body .btn.btn-link {\n        color: "+e.bodyLinkColor+";\n        text-decoration: none;\n      }\n      body .btn.btn-link:hover {\n        background: none;\n        color: "+e.bodyLinkColor+';\n        text-decoration: underline;\n      }\n      body select,\n      body textarea,\n      body input[type="text"],\n      body input[type="password"],\n      body input[type="datetime"],\n      body input[type="datetime-local"],\n      body input[type="date"],\n      body input[type="month"],\n      body input[type="time"],\n      body input[type="week"],\n      body input[type="number"],\n      body input[type="email"],\n      body input[type="url"],\n      body input[type="search"],\n      body input[type="tel"],\n      body input[type="color"],\n      body .uneditable-input,\n      body .faux-input,\n      body label.checkbox {\n        background: '+e.inputBgColor+";\n        border: none;\n        border-bottom: "+e.inputBorder+";\n        color: "+e.inputFontColor+";\n      }\n      body select {\n        -webkit-appearance: none;\n        -webkit-border-radius: 0px;\n        background: url(\"data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'><path fill='#444' d='M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z'></path></svg>\");\n        background-position: 100% 50%;\n        background-repeat: no-repeat;\n      }\n      body #body-container textarea {\n        border: "+e.inputBorder+";\n      }\n      "}},function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications");var DATA_KEY="notifications_st",notificationIdx=0;$jq(document).on("Reamaze.init",function(){notificationIdx=Reamaze.sessionStorage.getItem("notificationIdx")||0});var Statuses={CLOSED:0,CLICKED:1,VIEWED:2,EXPIRED:3},NotificationStatuses=function(){this._notificationStatuses={},this._justViewed={};try{var e=JSON.parse(Reamaze.localStorage.getItem(DATA_KEY));this._notificationStatuses=e||{}}catch(t){}return this};NotificationStatuses.prototype.isClicked=function(e){return this._notificationStatuses[e.id]==Statuses.CLICKED},NotificationStatuses.prototype.markClicked=function(e){this._notificationStatuses[e.id]=Statuses.CLICKED,this.cache()},NotificationStatuses.prototype.isViewed=function(e){return this._notificationStatuses[e.id]==Statuses.VIEWED},NotificationStatuses.prototype.isJustViewed=function(e){return!!this._justViewed[e.id]},NotificationStatuses.prototype.markViewed=function(e){this._notificationStatuses[e.id]=this._notificationStatuses[e.id]||Statuses.VIEWED,this._justViewed[e.id]=1,this.cache()},NotificationStatuses.prototype.isClosed=function(e){return this._notificationStatuses[e.id]==Statuses.CLOSED},NotificationStatuses.prototype.markClosed=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.CLOSED}.bind(this)),this.cache()},NotificationStatuses.prototype.isExpired=function(e){return this._notificationStatuses[e.id]==Statuses.EXPIRED},NotificationStatuses.prototype.markExpired=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.EXPIRED}.bind(this)),this.cache()},NotificationStatuses.prototype.renew=function(e){delete this._notificationStatuses[e.id],this.cache()},NotificationStatuses.prototype.cache=function(){Reamaze.localStorage.setItem(DATA_KEY,JSON.stringify(this._notificationStatuses))},Reamaze.Notifications.ACTIONS={CLOSE_NOTIFICATION:"CLOSE_NOTIFICATION",CLICK_NOTIFICATION:"CLICK_NOTIFICATION",VIEW_NOTIFICATION:"VIEW_NOTIFICATION",CREATE_NOTIFICATIONS:"CREATE_NOTIFICATIONS",REMOVE_NOTIFICATIONS:"REMOVE_NOTIFICATIONS",CLOSE_ALL_NOTIFICATIONS:"CLOSE_ALL_NOTIFICATIONS",UPDATE_DIMENSIONS:"UPDATE_DIMENSIONS",ACKNOWLEDGE_NOTIFICATION:"ACKNOWLEDGE_NOTIFICATION"},Reamaze.Notifications.EFFECTS={CALLBACK:"CALLBACK",TRACK_EVENT:"TRACK_EVENT"};var appStateReducer=function(state,action){switch(action.type){case Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION:return state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Closed",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:return action.payload.closeNotification&&(state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses)),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Button Clicked",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS:return state.notificationStatuses.markClosed(state.notifications.map(function(e){return e.id})),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION:return state.notificationStatuses.markViewed(action.payload),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Shown",label:action.payload.name||action.payload.id,nonInteraction:!0}}),state;case Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION:return action.payload.disableCueClick?null:(state.notificationStatuses.markClicked(action.payload),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClick&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClick}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Clicked",label:action.payload.name||action.payload.id}}),state);case Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION:return state.notificationStatuses.markExpired([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return action.payload.forEach(function(notification){notification.id||(notification.id="_rmz-"+notificationIdx++%20,notification.renew=!0,Reamaze.sessionStorage.setItem("notificationIdx",notificationIdx)),notification.timestamp||(notification.timestamp=Date.now()),notification.onClick||(notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{}})}.bind(this)))}),state.notifications=notificationsReducer([].concat(state.notifications),action.payload,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS:var newNotifications=[],notificationIds=action.payload;return state.notifications.forEach(function(e){-1===notificationIds.indexOf(e.id)&&newNotifications.push(e)}),state.notifications=newNotifications,state;case Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS:return state.dimensions.width==action.payload.width&&state.dimensions.height==action.payload.height?null:(state.dimensions=action.payload,state);case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:return!action.payload.props.unread&&action.payload.props.outboundData&&(state.notificationStatuses.markClicked({id:action.payload.props.outboundData.id}),state.notifications=notificationsReducer([].concat(state.notifications),[],state.notificationStatuses)),state;default:return null}},appEffectsHandler=function(e){switch(e.type){case Reamaze.Notifications.EFFECTS.CALLBACK:"function"==typeof e.payload&&e.payload();break;case Reamaze.Notifications.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},notificationsReducer=function(e,t,a){var s={};return e.concat(t).forEach(function(e){e.renew&&(a.renew(e),delete s[e.id],delete e.renew),"undefined"==typeof e.sound&&(e.sound=!0),e.timestamp||(e.timestamp=Date.now());var t=s[e.id],n=a.isClosed(e),r=a.isExpired(e),o=a.isClicked(e),i=a.isViewed(e)&&!a.isJustViewed(e);t||n||o||r||e["transient"]&&i||(s[e.id]=e)}),Object.keys(s).map(function(e){return s[e]})};Reamaze.Notifications.App=createReactClass({displayName:"Reamaze.Notifications.App",mixins:[TimerMixin],propTypes:{anchor:PropTypes.object,playSound:PropTypes.func,updateNotificationCount:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object,videoCallInformation:PropTypes.object},getDefaultProps:function(){return{anchor:{bottom:22,right:22}}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=$jq.extend({},this.state);t.effects=[],(t=appStateReducer(t,e))&&(this.setState(t),t.effects.forEach(appEffectsHandler.bind(this)))}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,notifications:[],notificationStatuses:new NotificationStatuses,dimensions:{width:0,height:0}}},componentDidUpdate:function(e,t){t.notifications.length!=this.state.notifications.length&&this.props.updateNotificationCount(this.state.notifications.length)},componentDidMount:function(){this.props.updateNotificationCount(this.state.notifications.length)},getNotificationsToDisplay:function(){if(0==this.state.notifications.length)return[];var e=this.state.notifications;return e=(e=e.sort(function(e,t){return e.timestamp==t.timestamp?0:e.timestamp<t.timestamp?1:-1})).slice(0,this.props.appContext.fullScreen?1:3),this.props.anchor.bottom&&(e=e.reverse()),e||[]},getNotificationPrompts:function(){return this.getNotificationsToDisplay().map(function(e){return e.videoCall?React.createElement(Reamaze.Notifications.VideoCallPrompt,{key:"notification-"+e.id,appContext:this.props.appContext,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),user:e.user,size:e.size}):React.createElement(Reamaze.Notifications.Prompt,{anchor:this.props.anchor,playSound:e.sound?this.props.playSound:null,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),buttonFunc:function(e,t,n){this.props.appContext._preview||this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION,payload:$jq.extend({buttonClicked:t,closeNotification:n},e)})}.bind(this,e),id:e.id,outboundConversations:this.props.outboundConversations,message:e.message,buttons:e.buttons,user:e.user,size:e.size,onClick:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION,payload:e})}.bind(this,e),onNotificationViewed:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION,payload:e})}.bind(this,e),onNotificationExpired:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION,payload:e})}.bind(this,e),duration:e.duration||null,key:"notification-"+e.id,persisted:e.persisted||null,appContext:this.props.appContext})}.bind(this))},getOffset:function(e){if(e)return parseInt(e,10)},render:function(){if(this.props.appContext.shoutbox.open||!this.props.appContext.brand||!this.props.appContext.brand.name)return null;var e=this.getOffset(this.props.anchor.left),t=this.getOffset(this.props.anchor.right),n=this.getOffset(this.props.anchor.top),r=this.getOffset(this.props.anchor.bottom);this.props.appContext.fullScreen&&(t=e=0,n=this.props.anchor.top!=undefined?0:undefined,r=this.props.anchor.bottom!=undefined?0:undefined);var o=this.getNotificationPrompts();return o.length?React.createElement("div",{id:"rmz-notify-prompts"},React.createElement("style",null,"\n          #rmz-notifications {\n            position: fixed;\n            z-index: 2147483647;\n            left: "+(e!=undefined?e+"px":"auto")+";\n            right: "+(t!=undefined?t+"px":"auto")+";\n            top: "+(n!=undefined?n+"px":"auto")+";\n            bottom: "+(r!=undefined?r+"px":"auto")+";\n            "+(this.props.appContext.fullScreen?"":"margin-right: -20px;")+"\n            width: "+(this.props.appContext.fullScreen?"100%":this.state.dimensions.width+"px")+";\n            height: "+this.state.dimensions.height+"px;\n          }\n          "),React.createElement("div",{id:"rmz-notifications"},React.createElement(Reamaze.Frames.BasicFrame,{appContext:this.props.appContext},React.createElement("style",null,"\n              .reamaze-notify-prompt {\n                background: #fff;\n                margin: 15px 0;\n                position: relative;\n                border-radius: 15px 0;\n                box-shadow: 0 4px 13px 0px rgba(0,0,0,0.15);\n                border-bottom: 1px solid "+this.props.appContext.brand.styles.widgetColor+";\n              }\n            "),React.createElement(Reamaze.Notifications.NotificationsList,{dispatcher:this.state.dispatcher,notifications:o,hAlign:this.props.anchor.left!=undefined?"left":"right",vAlign:this.props.anchor.top!=undefined?"top":"bottom",appContext:this.props.appContext})))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,r,t,o){var i=ReactTransitionGroup.CSSTransitionGroup;e.namespace("Reamaze.Notifications"),Reamaze.Notifications.NotificationsList=t({displayName:"Reamaze.Notifications.NotificationsList",mixins:[TimerMixin],propTypes:{notifications:o.array,dispatcher:o.object,hAlign:o.string,vAlign:o.string,appContext:o.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{renderNotifications:!1}},componentDidUpdate:function(){this.updateDimensions(),this.setTimeout(function(){this.updateDimensions()}.bind(this),400)},componentDidMount:function(){this.setTimeout(function(){this.setState({renderNotifications:!0})}.bind(this),500)},cachedWidth:0,cachedHeight:0,updateDimensions:function(){var e=r.findDOMNode(this.refs.notifications).offsetWidth,t=r.findDOMNode(this.refs.notifications).offsetHeight;this.cachedHeight==t&&this.cachedWidth==e||(this.cachedWidth=e,this.cachedHeight=t,this.props.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS,payload:{width:e+80,height:t+40}}))},getStyleTag:function(){return n.createElement("style",null,"\n        .reamaze-notify-prompt.rmz-prompt-enter,\n        .reamaze-notify-prompt.rmz-prompt-appear {\n          opacity: 0;\n        }\n        .reamaze-notify-prompt.rmz-prompt-enter-active,\n        .reamaze-notify-prompt.rmz-prompt-appear-active,\n        .reamaze-notify-prompt {\n          transition: opacity 0.4s linear;\n          opacity: 1;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave {\n          opacity: 1;\n          transition: opacity 0.4s linear;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave-active {\n          opacity: 0;\n        }\n      ")},render:function(){var e={position:"absolute",padding:"0 20px 0 50px"};"left"==this.props.hAlign?e.left=0:e.right=0,"top"==this.props.vAlign?e.top=0:e.bottom=0;var t=this.state.renderNotifications?this.props.notifications:[];return n.createElement("div",{style:e},this.getStyleTag(),n.createElement("div",{id:"notifications",ref:"notifications"},n.createElement(i,{transitionName:"rmz-prompt",transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},t)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications"),Reamaze.Notifications.PROMPT_SIZES={preview:{width:300,truncateAt:150,avatarSize:40,mobileAvatarSize:32},small:{width:260,truncateAt:150,avatarSize:40,mobileAvatarSize:32},full:{width:300,truncateAt:300,avatarSize:40,mobileAvatarSize:32}},Reamaze.Notifications.Prompt=createReactClass({displayName:"Reamaze.Notifications.Prompt",mixins:[TimerMixin],propTypes:{closeFunc:PropTypes.func,buttonFunc:PropTypes.func,id:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),message:PropTypes.string,user:PropTypes.object,playSound:PropTypes.func,onClick:PropTypes.func,buttons:PropTypes.array,onNotificationViewed:PropTypes.func,onNotificationExpired:PropTypes.func,duration:PropTypes.number,size:PropTypes.oneOf(["preview","full","small"]),persisted:PropTypes.bool,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getDefaultProps:function(){return{size:"full",persisted:!1}},componentDidMount:function(){this.props.playSound&&this.props.playSound(),this.setTimeout(this.props.onNotificationViewed,1),this.props.duration&&0<this.props.duration&&this.setTimeout(this.props.onNotificationExpired,1e3*this.props.duration+400)},render:function(){var e=this.props,t=e.persisted,n=e.appContext,r=e.size,o=e.closeFunc,i={top:"8px",right:"5px",padding:"7px",size:12},a=Reamaze.Notifications.PROMPT_SIZES[r].width;return React.createElement("div",{className:"reamaze-notify-prompt "+(t?"persisted":""),style:{width:n.fullScreen?"100%":a+"px"}},n.fullScreen&&React.createElement("style",null,"\n              .reamaze-notify-prompt .reamaze-minimize-v span {\n                position: relative;\n                display: block;\n                top: 50%;\n                margin-top: -12px;\n              }\n            "),React.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:o,appContext:n},i)),React.createElement("div",{style:{height:"100%"}},React.createElement(Reamaze.Notifications.PromptContent,this.props)))}}),Reamaze.Notifications.PromptContent=createReactClass({displayName:"Reamaze.Notifications.PromptContent",propTypes:{id:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),width:PropTypes.number,closeFunc:PropTypes.func,buttonFunc:PropTypes.func,message:PropTypes.string,user:PropTypes.object,onClick:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getAvatars:function(e){if(e&&e.length){e=e.slice(0,3);var t=Reamaze.Notifications.PROMPT_SIZES[this.props.size],n=this.props.appContext.fullScreen?t.mobileAvatarSize:t.avatarSize;return e.map(function(e,t){return React.createElement("img",{src:e,key:"avatar-"+t,className:"rmz-prompt-avatar-"+t,style:{width:n+"px",height:n+"px",borderRadius:n+"px"}})}.bind(this))}return null},getButtons:function(){if(!this.props.buttons||!this.props.buttons.length)return null;var idx=0;return React.createElement("div",{style:{marginTop:"1.2em",textAlign:"center"}},this.props.buttons.map(function(button){var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText};return button.url&&(buttonProps.href=button.url,button.target?buttonProps.target=button.target:buttonProps.target="_blank"),button.script?buttonProps.onClick=function(event){event.stopPropagation(),this.props.buttonFunc(button,!0),eval(button.script)}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!1)}.bind(this):button.response?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),this.props.appContext._preview||(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.props.outboundConversations.getConversation(this.props.id).slug}}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:{body:buttonText}},slug:this.props.outboundConversations.getConversation(this.props.id).slug}}))}.bind(this):button.dismiss?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0)}.bind(this):button.pushprompt&&(buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),Reamaze.promptPushPermissions().then(function(){var e=new Event("ReamazePushDataInit");window.dispatchEvent(e)})}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this)))},render:function(){var e=this.props.message||"",t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].truncateAt,n=Reamaze.Utils.getUserDisplayDetails(this.props.user,this.props.appContext.brand,this.props.appContext.faces),r="15px 20px",o=$jq("<textarea/>").html(e).text(),i=o.substr(0,t)+(o.length>t?String.fromCharCode(8230):""),a=$jq("<textarea/>").text(i).html(),s=Reamaze.Utils.simpleFormat(a);return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("style",null,"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-content .btn {\n              margin-bottom: 10px;\n              width: 100%;\n            }\n            .rmz-prompt-content .btn:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(this.props.appContext.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n            .rmz-prompt-avatar-1 {\n              bottom: 20px;\n              z-index: 2;\n            }\n            .rmz-prompt-avatar-2 {\n              bottom: 40px;\n              z-index: 1;\n            }\n            .rmz-prompt-user-name {\n              margin-bottom: 0.4em;\n              padding-right: 10px;\n              font-weight: bold;\n              font-size: 1.05em;\n            }\n          "),React.createElement("div",{className:"rmz-prompt-content",onClick:this.props.onClick,style:{width:"100%",height:"100%",cursor:"pointer"}},React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{padding:r,overflow:"hidden"}},React.createElement("div",{ref:"promptBody"},n&&n.name&&React.createElement("div",{className:"rmz-prompt-user-name"},React.createElement("span",null,n.name)),React.createElement("div",{dangerouslySetInnerHTML:{__html:s},style:{opacity:"0.8",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word",fontSize:"1.1em"}}),this.getButtons())),n&&n.avatarUrls&&n.avatarUrls.length&&0<n.avatarUrls.length&&React.createElement("div",{className:"rmz-prompt-avatars"},this.getAvatars(n.avatarUrls)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_get=function get(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(s!==undefined){if("value"in s)return s.value;var p=s.get;return p===undefined?undefined:p.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return undefined;e=c,t=i,n=a,r=!0,s=c=undefined}};!function(e,h,t,n,r){var o=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return _inherits(t,e),_createClass(t,[{key:"onAnswerClick",value:function n(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{openPopup:!0}})}},{key:"onDeclineClick",value:function r(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}}),this.props.closeFunc()}},{key:"render",value:function d(){var e=this.props,t=e.appContext,n=e.size,r=e.persisted,o=e.onClick,i=e.closeFunc,a=e.user,s=Reamaze.Notifications.PROMPT_SIZES[n],p=t.fullScreen?s.mobileAvatarSize:s.avatarSize,c={top:"8px",right:"5px",padding:"7px",size:12},l=s.width,u="15px 20px";return h.createElement("div",{className:"reamaze-notify-prompt "+(r?"persisted":""),style:{width:t.fullScreen?"100%":l+"px"}},t.fullScreen&&h.createElement("style",null,"\n                .reamaze-notify-prompt .reamaze-close-x span {\n                  position: relative;\n                  display: block;\n                  top: 50%;\n                  margin-top: -12px;\n                }\n              "),h.createElement("style",{type:"text/css"},"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-buttons {\n              margin-top: 12px;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(t.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n          "),h.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:i},c,{appContext:t})),h.createElement("div",{style:{height:"100%"}},h.createElement("div",{className:"rmz-prompt-content",onClick:o,style:{width:"100%",height:"100%",cursor:"pointer"}},h.createElement("div",{style:{position:"relative"}},h.createElement("div",{style:{padding:u,overflow:"hidden"}},h.createElement("div",{ref:"promptBody"},a&&a.name&&h.createElement("div",{className:"rmz-prompt-user-name"},h.createElement("span",null,a.name)),h.createElement("div",{style:{opacity:"0.65",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word"}},t.brand.preferences.trans_video_prompt_text),h.createElement("div",{
className:"rmz-prompt-buttons"},h.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.onAnswerClick.bind(this)},t.brand.preferences.trans_video_answer_button_text),h.createElement("button",{className:"btn btn-link anim-btn",onClick:this.onDeclineClick.bind(this)},t.brand.preferences.trans_video_decline_button_text)))),a&&a.avatarUrls&&a.avatarUrls.length&&h.createElement("div",{className:"rmz-prompt-avatars"},h.createElement("img",{src:a.avatarUrls[0],className:"rmz-prompt-avatar-0",style:{width:p+"px",height:p+"px",borderRadius:p+"px"}}))))))}}]),t}(h.Component);o.propTypes={closeFunc:r.func,id:r.string,user:r.object,onClick:r.func,size:r.oneOf(["preview","full","small"]),persisted:r.bool,appContext:r.object.isRequired},Reamaze.Notifications.VideoCallPrompt=o}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,e,n,r,o,i){t.namespace("Reamaze.Outbounds");var s="ob";Reamaze.Outbounds.ACTIONS={CREATE_OUTBOUND_CONVERSATION:"CREATE_OUTBOUND_CONVERSATION",DELETE_OUTBOUND_CONVERSATION:"DELETE_OUTBOUND_CONVERSATION"},Reamaze.Outbounds.App=r({displayName:"Reamaze.Outbounds.App",mixins:[TimerMixin],propTypes:{currentUser:o.object,outbounds:o.array,appContext:o.object.isRequired},getDefaultProps:function(){return{outbounds:[]}},getInitialState:function(){var e;try{e=JSON.parse(Reamaze.localStorage.getItem(s+".triggered"))||{}}catch(o){e={}}var t=Reamaze.sessionStorage.getItem("siteVisitTime");t||(t=(new Date).getTime(),Reamaze.sessionStorage.setItem("siteVisitTime",t));var n=Reamaze.sessionStorage.getItem("customerLocation"),r=undefined;return null!==n&&(r={country:(n=n.split(":"))[0],state:n[1]}),{triggered:e,pageVisitTime:(new Date).getTime(),leavingSite:!1,siteVisitTime:t,loadingLocation:!1,location:r}},componentDidUpdate:function(){this.setupRulesListeners(),this.processOutbounds()},componentDidMount:function(){this.setupRulesListeners(),this.setTimeout(this.processOutbounds,0),this.setInterval(this.processOutbounds,6e4)},componentWillUnmount:function(){this.pageExitTracker&&this.pageExitTracker.disable()},pageExitTracker:null,updateInterval:null,setupRulesListeners:function(){var t=!1,n=!1,r=!1;this.props.outbounds.forEach(function(e){e.rules&&e.rules.forEach(function(e){"leavingSite"==e.type?t=!0:"timeOnPage"==e.type||"timeOnSite"==e.type?n=!0:"inOfficeHour"===e.type&&(!this.props.appContext.brand||"undefined"==typeof this.props.appContext.brand.inOffice)||"staffAvailable"===e.type&&"undefined"==typeof this.props.appContext.chatIsLive?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING}):"customerLocation"==e.type&&(r=!0)}.bind(this))}.bind(this)),t&&this.setupPageExitTracker(),r&&this.setupCustomerLocation(),n&&!this.updateInterval&&(this.updateInterval=this.setInterval(this.forceUpdate,2e3))},setupPageExitTracker:function(){this.pageExitTracker||(this.pageExitTracker=i(!1,{delay:100,sensitivity:40,aggressive:!0,callback:function(){this.setState({leavingSite:!0},function(){this.setTimeout(function(){this.pageExitTracker&&this.pageExitTracker.enable(),this.setState({leavingSite:!1})}.bind(this),2e3)}.bind(this))}.bind(this)}))},setupCustomerLocation:function(){if(!this.state.location&&!this.state.loadingLocation){var e="https://extreme-ip-lookup.com/json/";this.setState({loadingLocation:!0},function(){t.ajax({url:e,data:{key:"nfFQBhNtgEN4L3GxPEse"},success:function(e){Reamaze.sessionStorage.setItem("customerLocation",e.countryCode),this.setState({location:{country:e.countryCode}})}.bind(this),error:function(){Reamaze.sessionStorage.removeItem("customerLocation",""),this.setState({country:""})}.bind(this)})})}},processOutbounds:function(){var r=this.getRuleContext(),o=JSON.parse(JSON.stringify(this.state.triggered)),i=0,a={};this.props.outbounds.forEach(function(e){if(a[e.id]=1,!o[e.id]){if(!this.props.appContext._preview&&e.start&&new Date(e.start)>new Date)return;if(!this.props.appContext._preview&&e.end&&new Date(e.end)<new Date)return;var t=new Reamaze.Outbounds.Rules(e.rules,r).check(),n=!e.buttons||!e.buttons.some(function(e){return e.pushprompt})||Reamaze.eligibleForPushPrompt();(this.props.appContext._preview||t&&n)&&(this.triggerOutbound(e),i++,o[e.id]=1)}}.bind(this)),0<i&&(Reamaze.localStorage.setItem(s+".triggered",JSON.stringify(o)),this.setState({triggered:o}));var t=this.props.outboundConversations.getOutboundConversations();Object.keys(t).forEach(function(e){t[e].auto&&(!a[e]||t[e].expires&&new Date(t[e].expires)<new Date)&&this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:e}})}.bind(this))},triggerOutbound:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION,payload:{outbound:e}})},getRuleContext:function(){return{pageVisitTime:this.state.pageVisitTime,siteVisitTime:this.state.siteVisitTime,leavingSite:this.state.leavingSite,user:this.props.currentUser,inOfficeHour:this.props.appContext.brand.inOffice,staffAvailable:this.props.appContext.chatIsLive,departmentsAvailable:this.props.appContext.departmentsAvailable||[],isMobileBrowser:this.props.appContext.isMobileBrowser,location:this.state.location||{country:"",state:""}}},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes,ouibounce),function(){jQuery.namespace("Reamaze.Outbounds");var r={equals:function(e,t){return e==t},notEquals:function(e,t){return!this.equals(e,t)},contains:function(e,t){return e&&t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},doesNotContain:function(e,t){return!this.contains(e,t)},between:function(e,t){return e>=t[0]&&e<=t[1]},lessThan:function(e,t){return e<t},greaterThan:function(e,t){return t<e},isTrue:function(e){return!!e},isFalse:function(e){return!e}};Reamaze.Outbounds.Rules=function(e,t){this.rules=e,this.context=t},Reamaze.Outbounds.Rules.prototype={url:function(e){return r[e.op](window.location.href,e.value)},identified:function(e){return r[e.op](this.context.user.isIdentified())},timeOnPage:function(e){return r[e.op]((new Date).getTime()-this.context.pageVisitTime,1e3*this.getRuleValueInSeconds(e.value))},timeOnSite:function(e){return r[e.op]((new Date).getTime()-this.context.siteVisitTime,1e3*this.getRuleValueInSeconds(e.value))},referrer:function(e){return r[e.op](document.referrer,e.value)},date:function(e){return r[e.op](new Date,new Date(e.value))},leavingSite:function(e){return r[e.op](this.context.leavingSite)},customFunc:function(e){return r[e.op](e.func(),e.value)},customValue:function(e){return r[e.op](e.customValue,e.value)},nthVisit:function(e){return r[e.op](this.context.user.get("visits")||1,e.value)},customerLocation:function(e){var t=this.context.location.country;if(!t)return!1;var n=e.value;return 1<e.value.split(":").length&&(n=e.value.split(":")[0]),r[e.op](t,n)},deviceType:function(e){return r[e.op](this.context.isMobileBrowser?"mobile":"desktop",e.value)},inOfficeHour:function(e){return r[e.op](this.context.inOfficeHour)},staffAvailable:function(e){var t=this.context.staffAvailable;return e.value&&(t=-1<this.context.departmentsAvailable.indexOf(e.value)),r[e.op](t)},getRuleValueInSeconds:function(e){switch((e+="").slice(-1)){case"h":return 3600*parseInt(e.slice(0,-1),10);case"m":return 60*parseInt(e.slice(0,-1),10);default:return parseInt(e,10)}},check:function(){try{if(this.rules)for(var e=0;e<this.rules.length;e++){var t=this.rules[e];if(!this[t.type]||!this[t.type](t))return!1}return!0}catch(n){return console.log("Rules#check error - "+n.message),!1}}}}(),function(e,n,r,t,o){e.namespace("Reamaze.Popup"),Reamaze.Popup.BrandedFrame=t({displayName:"Reamaze.Popup.BrandedFrame",mixins:[Reamaze.Mixins.Styles],propTypes:{ping:o.object,hidden:o.bool,appContext:o.object.isRequired},getDefaultProps:function(){return{simple:!1,hidden:!1}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){this.props.ping||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},render:function(){if(this.props.ping){var a="rmz-shoutbox-frame-container",e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.href=this.props.appContext.baseDataUrl,t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(o);var i=document.createElement("div");i.className="frame-root",e.body.className=a,e.body.style="height:100%;width:100%;width:100vw;overflow:hidden;",e.body.appendChild(i)}.bind(this),t={width:"100%",height:"100%"};return this.props.hidden||(t.opacity=1),n.createElement("div",{style:t,className:a},n.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(r.findDOMNode(e).style.setProperty("width","100%","important"),r.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))}return null},getStyleTag:function(){return n.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return n.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return n.createElement("style",null,this.getResetCss(),"/* popup css */\n          #content-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content-container.content-flex {\n            display: flex;\n            display: -webkit-box;\n            display: -moz-box;\n            display: -webkit-flex;\n            display: -ms-flexbox;\n            flex-direction: column;\n            -webkit-box-direction: normal;\n            -webkit-box-orient: vertical;\n            -moz-box-direction: normal;\n            -moz-box-orient: vertical;\n            -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n          }\n          #content-container.content-flex #header, #content-container.content-flex #footer {\n            -webkit-flex-shrink: 0;\n            -moz-flex-shrink: 0;\n            flex-shrink: 0;\n            -ms-flex: 0 1 auto;\n          }\n          #content-container.content-flex #content {\n            flex-grow: 1;\n            -webkit-box-flex: 1;\n            -moz-box-flex: 1;\n            -webkit-flex-grow: 1;\n            -ms-flex: 1 1 auto;\n          }\n          #content-container.content-flex #content.no-grow {\n            flex-grow: 0;\n            -webkit-box-flex: 0;\n            -moz-box-flex: 0;\n            -webkit-flex-grow: 0;\n            -ms-flex: 0 1 auto;\n          }\n          body {\n            color: #333;\n            -webkit-overflow-scrolling: touch;\n          }\n          #header {\n            padding: 15px 35px;\n          }\n          #content {\n            overflow-x: hidden;\n            overflow-y: auto;\n            margin-right: 2px;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content.attributed #content-inner {\n            min-height: calc(100% - 28px);\n          }\n          #footer {\n            border-top: 1px solid rgba(0, 0, 0, 0.05);\n            padding: 10px 0;\n            box-shadow: 0px 41px 20px 40px rgba(0,0,0,0.05);\n          }\n          ::-webkit-scrollbar {\n            width: 5px;\n            background: #fff;\n          }\n          ::-webkit-scrollbar-button {\n            height: 0;\n            width: 0;\n            display: none;\n          }\n          ::-webkit-scrollbar-corner {\n            background: transparent;\n          }\n          ::-webkit-scrollbar-thumb {\n            border-radius: 8px;\n            box-shadow: inset 0 -3px 0 0 #fff, inset 0 3px 0 0 #fff;\n            background-color: #dededecc;\n          }\n        ")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,i,t,n){e.namespace("Reamaze.Popup"),Reamaze.Popup.CloseX=t({displayName:"Reamaze.Popup.CloseX",propTypes:{appContext:n.object,zIndex:n.number,color:n.string,top:n.any,right:n.any,onClick:n.func,height:n.string,width:n.string,lineHeight:n.string,fontSize:n.string,textAlign:n.string,padding:n.string},getDefaultProps:function(){return{zIndex:2147483647,color:"#ccc",top:"12px",right:"12px",padding:"0px",size:13,margin:0}},render:function(){var e=this.props,t=e.size,n=e.color,r=e.appContext,o=e.onClick;return i.createElement("a",{href:"#","aria-label":r.brand.preferences.trans_aria_close_shoutbox,style:this.getStyles(),className:"reamaze-minimize-v anim-btn",onClick:function(e){e.preventDefault(),e.stopPropagation(),o(e)}.bind(this)},i.createElement("svg",{width:t+2,height:t+2,style:{width:t+2+"px",height:t+2+"px"}},i.createElement("g",null,i.createElement("path",{style:{stroke:n,fill:"rgba(0,0,0,0)",strokeWidth:2},d:"m 1,1 l "+t/2+","+t/2+" l "+t/2+","+t/2*-1}))))},getStyles:function(){return{position:"absolute",right:this.props.right,top:this.props.top,zIndex:this.props.zIndex,color:this.props.color,cursor:"pointer",display:"block",textDecoration:"none",padding:this.props.padding,margin:this.props.margin}}})}(jQuery,React,createReactClass,PropTypes),function(e,r,t,n){e.namespace("Reamaze.Popup"),Reamaze.Popup.Popup=t({displayName:"Reamaze.Popup.Popup",mixins:[TimerMixin],propTypes:{zIndex:n.number,width:n.oneOfType([n.string,n.number]),height:n.oneOfType([n.string,n.number]),maxHeight:n.oneOfType([n.string,n.number]),minHeight:n.oneOfType([n.string,n.number]),xColor:n.string,anchor:n.any,onComponentDidMount:n.func,supportsFullScreen:n.bool,appContext:n.object.isRequired},getDefaultProps:function(){return{zIndex:2147483647,width:600,height:550,maxHeight:600,minHeight:0,xColor:"#bbb",supportsFullScreen:!0}},getInitialState:function(){return{guid:"popup-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),newlyMounted:!0}},componentDidMount:function(){this.setTimeout(function(){this.setState({newlyMounted:!1})}.bind(this),1)},render:function(){var e=this.getStyles(),t=this.getStyleTag(),n=this.props.anchor?"reamaze-anchored":"";return n=n+" "+this.state.guid,this.props.appContext.shoutbox.open&&!this.state.newlyMounted&&(n+=" reamaze-visible"),r.createElement("div",{id:"reamaze-popup",className:n},t,this.props.anchor?null:r.createElement("div",{id:"reamaze-overlay"}),r.createElement("div",{id:"reamaze-wrapper",style:e.wrapper},r.createElement("div",{id:"reamaze-container"},this.props.children)))},getStyles:function(){var e={wrapper:{}};return this.props.anchor&&(e.wrapper.marginLeft=0,this.props.appContext.fullScreen?(e.wrapper.left=0,e.wrapper.right=0,e.wrapper.top=this.props.anchor.top?0:"auto",e.wrapper.bottom=this.props.anchor.bottom?0:"auto"):(e.wrapper.left=this.props.anchor.left?this.props.anchor.left:"auto",e.wrapper.right=this.props.anchor.right?this.props.anchor.right:"auto",e.wrapper.top=this.props.anchor.top?this.props.anchor.top:"auto",e.wrapper.bottom=this.props.anchor.bottom?this.props.anchor.bottom:"auto",this.props.appContext.shoutbox.open&&(this.props.anchor.bottom?e.wrapper.bottom=parseInt(this.props.anchor.bottom,10)+"px":e.wrapper.top=parseInt(this.props.anchor.top,10)+"px"))),e},getStyleTag:function(){var e,t="";this.props.anchor&&this.props.anchor.top?t+="top ":t+="bottom ",this.props.anchor&&this.props.anchor.left?t+="left ":t+="right ",e=this.props.anchor.bottom?parseInt(this.props.anchor.bottom,10)+20:this.props.anchor.top?parseInt(this.props.anchor.top,10)+20:this.props.appContext._preview?60:100;var n="10px 20px";return this.props.appContext.fullScreen&&(n=0),r.createElement("style",null,"#reamaze-overlay {          position: fixed;          left: 0px;          right: 0px;          top: 0px;          bottom: 0px;          background: rgba(0, 0, 0, 0.0);          transition: background 0.55s;          z-index: -10000000;          pointer-events: none;        }        .reamaze-visible #reamaze-overlay {          background: rgba(0, 0, 0, 0.3);        }        ."+this.state.guid+".reamaze-visible #reamaze-overlay {          z-index:"+this.props.zIndex+";          pointer-events: all;        }                #reamaze-wrapper {          position:fixed;          left:50%;          top:0px;          box-sizing: content-box;          border-radius: "+n+";          transition: opacity 0.35s, top 0.35s, transform 0.35s, z-index 0.35s;          opacity: 0;          z-index: -10000000;          pointer-events: none;        }        .reamaze-anchored #reamaze-wrapper {          padding: 0px;          max-width: 425px;          perspective: 425px;          transform: scale(0.0001);        }        .reamaze-visible #reamaze-wrapper {          top: "+(this.props.appContext._preview?"30px":"70px")+";          opacity: 1;          transform: scale(1);        }        ."+this.state.guid+" #reamaze-wrapper {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          min-height: 300px;          max-height: calc(100% - "+e+"px);          margin-left: -"+(this.props.width/2+10)+"px;        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {          transform-origin: "+t+";        }        ."+this.state.guid+".reamaze-visible #reamaze-wrapper {          z-index: "+this.props.zIndex+";          pointer-events: all;        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper {          top: auto;          bottom: 60px;          opacity: 1;        }        #reamaze-wrapper iframe {          margin: 0;        }        #reamaze-wrapper iframe,        #reamaze-wrapper #reamaze-container {          border-radius: "+n+";          overflow: hidden;          display: block;        }        .reamaze-anchored #reamaze-wrapper iframe,        .reamaze-anchored #reamaze-wrapper #reamaze-container        {          border-radius: "+n+";          max-width: 425px;overflow: hidden;          transition: transform 0.35s;        }        .reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: rotateX(-40deg) skewX(30deg);        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper  #reamaze-container {          transform-origin: "+t+";        }        .reamaze-anchored #reamaze-wrapper iframe        {          height: 100%;        }        #reamaze-wrapper #reamaze-container .reamaze-minimize-v {          transition: all 0.2s linear;          -webkit-backface-visibility: hidden;          backface-visibility: hidden;        }        #reamaze-wrapper #reamaze-container .reamaze-minimize-v:hover {          transform: translate3d(0,-3px,0);          opacity: 0.8;        }        #reamaze-container {          position: relative;          background: white;          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);        }        @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {          #reamaze-container {            background: rgba(255, 255, 255, 0.85);            -webkit-backdrop-filter: blur(15px);            backdrop-filter: blur(15px);          }        }        ."+this.state.guid+" #reamaze-container {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          max-height: 100%;          min-height:"+this.props.minHeight+"px;        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: none;        }        "+(!this.props.appContext._preview&&this.props.supportsFullScreen?"@media (max-width: 767px) {          ."+this.state.guid+" #reamaze-wrapper,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {            top: 300px;            padding: 0px;            transition: top 0.6s, opacity 0.35s;          }          ."+this.state.guid+".reamaze-visible #reamaze-wrapper,          ."+this.state.guid+".reamaze-visible.reamaze-anchored #reamaze-wrapper {            position: fixed;            top: 0px;            left: 0px;            right: 0px;            bottom: 0px;            margin-left: 0px;            width: 100%;            max-width: 100%;            max-height: 100%;            padding: 0px;            box-sizing: border-box;            border-radius: 0;          }          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper iframe,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper #reamaze-container,          ."+this.state.guid+".reamaze-visible #reamaze-container {            max-width: 100%;            width: 100%;          }          #reamaze-wrapper iframe,          #reamaze-wrapper #reamaze-container,          .reamaze-anchored #reamaze-wrapper iframe,          .reamaze-anchored #reamaze-wrapper #reamaze-container {            border-radius: 0;          }          #reamaze-wrapper .rmz-shoutbox-frame-container {            overflow: hidden;            border-radius: "+n+";            transform: translateZ(0);          }        }":"")+"      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Spinner=n({displayName:"Reamaze.Popup.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{}}},shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("div",{style:this.props.style,className:"reamaze-popup-spinner"},this.getStyleTag(),t.createElement(Reamaze.Spinner,{xColor:this.props.xColor}))},getStyleTag:function(){this.props.xColor;return t.createElement("style",null,".reamaze-popup-spinner {          margin: -15px 0 0 -15px;          width: 30px;          height: 30px;          position: absolute;          top: 50%;          left: 50%;        }      ")}})}(jQuery,React,createReactClass,PropTypes),function(t,n,e,r,o){t.namespace("Reamaze.PushPrompt"),Reamaze.PushPrompt.App=r({displayName:"Reamaze.PushPrompt.App",mixins:[TimerMixin,Reamaze.Mixins.Styles],propTypes:{currentUser:o.object,appContext:o.object.isRequired,pushPrompt:o.object.isRequired},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{show:!1,height:150}},componentDidMount:function(){var e=Reamaze.localStorage.getItem("pushPrompt.lastDismissed");this.setTimeout(function(){this.setState({show:!!this.props.appContext._preview||!e||Date.now()-parseInt(e)>3600*(this.props.pushPrompt.delay||24)*1e3})}.bind(this),this.props.appContext._preview?1e3:3e3),t(document).on("Reamaze.resize",function(e,t){t._height&&"pushPrompt"===t._name&&this.setState({height:t._height})}.bind(this))},getContainerStyleTag:function(){var e="\n      .rmz-push-prompt-container {\n        width: 400px;\n        left: 50%;\n        margin-left: -200px;\n        padding: 20px;\n      }",t="\n        .rmz-push-prompt-container {\n          background: rgba(255, 255, 255, 1);\n          opacity: "+(this.state.show?1:0)+';\n          transition: opacity 200ms ease-in;\n          position: fixed;\n          top: 70px;\n          left: 0px;\n          z-index: 2147483646;\n          width: 100%;\n          height: max-content;\n          border-radius: 10px 20px;\n          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          padding: 20px;\n          box-sizing: border-box;\n          pointer-events: '+(this.state.show?"all":"none")+";\n        }\n        @media screen and (min-width: 481px) {\n          "+e+"\n        }\n      ";return this.props.appContext._preview&&(t="\n          "+t+"\n          "+e+"\n        "),n.createElement("style",null,t)},getStyleTag:function(){var e=this.props.appContext.brand.styles;return n.createElement(n.Fragment,null,n.createElement("style",null,this.getResetCss()),n.createElement("style",null,this.getBrandCss(e)))},onDismiss:function(){this.props.appContext._preview||this.setState({show:!1},function(){Reamaze.localStorage.setItem("pushPrompt.lastDismissed",Date.now())})},onAllow:function(){this.props.appContext._preview||(Reamaze.promptPushPermissions().then(function(){var e=new Event("ReamazePushDataInit");window.dispatchEvent(e)}),this.setState({show:!1}))},render:function(){if(!Reamaze.eligibleForPushPrompt()&&!this.props.appContext._preview||!this.props.pushPrompt.name||!this.props.pushPrompt.message)return null;var a="rmz-push-prompt-frame-container",e=function(e){e.documentElement.style="height: max-content; width: 100%;";var t=document.createElement("base");t.href=this.props.appContext.baseDataUrl,t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(o);var i=document.createElement("div");i.className="frame-root",e.body.className=a,e.body.style="height:max-content;width:100%;width:100vw;overflow:hidden;",e.body.appendChild(i)}.bind(this),t={width:"100%",height:"auto"};return n.createElement("div",{className:"rmz-push-prompt-container"},this.getContainerStyleTag(),n.createElement("div",{style:t,className:a},n.createElement(Reamaze.Frames.Frame,{style:{width:"100%",height:this.state.height+"px",border:0,position:"relative",display:"block"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId,title:"Re:amaze Push Prompt"},n.createElement(Reamaze.PushPrompt.PromptMessage,{pushPrompt:this.props.pushPrompt,onDismiss:this.onDismiss,onAllow:this.onAllow}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,t,r,o){e.namespace("Reamaze.PushPrompt"),Reamaze.PushPrompt.PromptMessage=r({displayName:"Reamaze.PushPrompt.PromptMessage",propTypes:{pushPrompt:o.object.isRequired,onDismiss:o.func.isRequired,onAllow:o.func.isRequired},componentDidMount:function(){window.postMessage(e.param({_command:"reamaze:resize",_height:this.container.clientHeight,_name:"pushPrompt"}),window.document.URL)},getStyleTag:function(){return n.createElement(n.Fragment,null,n.createElement("style",null,"\n          #push-prompt-container .title-container {\n            text-align: center;\n            font-size: 16px;\n            margin-top: 0em;\n            margin-bottom: 20px;\n          }\n          #push-prompt-container .message-container {\n            text-align: center;\n            font-size: 14px;\n            margin-bottom: 25px;\n          }\n          #push-prompt-container .buttons-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          }\n        "))},allowButton:function(){var t=this,e=this.props.pushPrompt.buttons.find(function(e){return!0===e.pushprompt});return n.createElement("div",{style:{margin:"0px 10px"}},n.createElement("a",{className:"allow btn btn-primary",onClick:function(e){e.stopPropagation(),t.props.onAllow()},style:{wordBreak:"break-word"}},e.text))},dismissButton:function(){var e=this.props.pushPrompt.buttons.find(function(e){return!0===e.dismiss});return n.createElement("div",{style:{margin:"0px 10px",textAlign:"center"}},n.createElement("a",{className:"dismiss",href:"javascript:void(0);",onClick:this.props.onDismiss,style:{wordBreak:"break-word"}},e.text))},render:function(){return n.createElement("div",{id:"push-prompt-container",ref:function(e){this.container=e}.bind(this)},this.getStyleTag(),n.createElement("h2",{className:"title-container"},this.props.pushPrompt.name),n.createElement("div",{className:"message-container"},this.props.pushPrompt.message),n.createElement("div",{className:"buttons-container"},this.dismissButton(),this.allowButton()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,e,r){t.namespace("Reamaze"),Reamaze.Attribution=e({displayName:"Reamaze.Attribution",propTypes:{appContext:r.object.isRequired},shouldComponentUpdate:function(){return!1},getAttributionUrl:function(){var e="https://www."+this.props.appContext.appDomain+"/embeddable";return this.props.appContext.brand.url&&(e+="/"+this.props.appContext.brand.url),e},render:function(){if(!1===this.props.appContext.brand.attribution)return null;var e=t.extend({},{textAlign:"right",fontSize:"9px",padding:"0px 10px",textTransform:"uppercase",letterSpacing:"1px",zIndex:1},this.props.style||{});return n.createElement("div",{className:"attribution",style:e},n.createElement("style",null,'\n            .attribution span, .attribution a, .attribution a:hover, .attribution a:visited {\n              color: #CACACA;\n              font-family: "Nunito",Helvetica,Arial,sans-serif;\n            }\n            .attribution .attrib-name {\n              font-weight: bold;\n              font-size: 13px;\n              letter-spacing: 0px;\n              text-transform: lowercase;\n            }\n          '),this.props.appContext.fullScreen||!1===this.props.link?n.createElement("span",null,"We run on ",n.createElement("span",{className:"attrib-name"},"Re:amaze")):n.createElement("a",{tabIndex:"-1",href:this.getAttributionUrl(),target:"_blank"},"We run on ",n.createElement("span",{className:"attrib-name"},"Re:amaze")))}})}(jQuery,React,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.Dispatcher=function(){return this._dispatcher=new Flux.Dispatcher,this.dispatch=function(e){setTimeout(function(){_support&&_support._debug&&console.log(e),this._dispatcher.dispatch(e)}.bind(this),0)},this.register=function(e){return this._dispatcher.register(e)},this.unregister=function(e){return this._dispatcher.unregister(e)},this.waitFor=function(e){return this._dispatcher.waitFor(e)},this},jQuery.namespace("Reamaze"),Reamaze.GlobalErrorStates={},Reamaze.ConversationErrorStates={CONTACT_FORM_FIELDS_NAME_INVALID:0,CONTACT_FORM_FIELDS_EMAIL_INVALID:1},Reamaze.ErrorMap=function(e){for(var t=[],n=0;n<e.errors.length;n++);for(n=0;n<e.messages.length;n++){message=e.messages[n];for(var r=0;r<message.errors;r++);for(r=0;r<message.user.errors.length;r++);for(r=0;r<message.login.errors.length;r++)switch(error=message.login.errors[r],error){case"Email is invalid":t.push(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)}}return t},function(t,n,s,e,r){t.namespace("Reamaze.Frames"),Reamaze.Frames.Callbacks={};var o="undefined"!=typeof window&&window.console,i=function(){},p=i,c=i,a=t.extend;if(o){var l=console.error;p=function(){console.error=function(e){/<head>/.test(e)||l.call(console,e)}},c=function(){console.error=l}}Reamaze.Frames.Frame=e({displayName:"Reamaze.Frames.Frame",mixins:[TimerMixin],propTypes:{style:r.object,head:r.node,initialContent:r.func,mountTarget:r.string,contentDidMount:r.func,contentDidUpdate:r.func,frameId:r.string,title:r.string},getDefaultProps:function(){return{initialContent:function(e){var t=document.createElement("style");t.innerHTML="body { background: transparent; }",e.head.appendChild(t);var n=document.createElement("div");n.className="frame-root",e.body.appendChild(n)},contentDidMount:function(){},contentDidUpdate:function(){}}},render:function(){var e=a({},this.props);return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,delete e.children,delete e.frameId,delete e.title,n.createElement("iframe",a({title:this.props.title||"Re:amaze Chat",allow:"microphone; camera",allowFullScreen:"true",allowtransparency:"true"},e,{children:undefined}))},componentDidMount:function(){this._isMounted=!0,this.renderFrameContents()},componentsRendered:!1,renderFrameContents:function(){if(this._isMounted){var o=function(e){if(e||(e=0),!(3<=e)){p();var t=a?this.props.contentDidMount:this.props.contentDidUpdate,n=this.getMountTarget();try{s.unstable_renderSubtreeIntoContainer(this,i,n,t)}catch(r){setTimeout(o.bind(this,e+1),300)}c(),this.componentsRendered=!0}}.bind(this),e=this.getDoc();if(e&&"complete"===e.readyState){Reamaze.Frames.Callbacks[this.props.frameId]=o,this.getWindow().frameId=this.props.frameId,this.getWindow().jQuery=Reamaze.jQuery;var i=n.createElement(Reamaze.Frames.FrameContent,{className:"frame-content",window:this.getWindow()},this.props.head,this.props.children),
a=!this._setInitialContent;this._setInitialContent?this.componentsRendered&&o():(t(e).one("frameloaded",o),e.open(),e.defaultView&&(e.defaultView.frameId=this.props.frameId,e.defaultView.jQuery=Reamaze.jQuery),e.write("<!doctype html><html><head></head><body></body></html>"),e.close(),this.props.initialContent(e),this._setInitialContent=!0)}else this.setTimeout(this.renderFrameContents,0)}},getMountTarget:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]},getDoc:function(){return s.findDOMNode(this).contentDocument},getWindow:function(){return s.findDOMNode(this).contentWindow},componentDidUpdate:function(){this.renderFrameContents()},componentWillUnmount:function(){if(this._isMounted=!1,this.getDoc()){var e=this.getMountTarget();e&&s.unmountComponentAtNode(e)}}}),Reamaze.Frames.FrameContent=e({displayName:"Reamaze.Frames.FrameContent",propTypes:{window:r.object},childContextTypes:{window:r.object},getChildContext:function(){return{window:this.props.window}},render:function(){return n.createElement("div",null,this.props.children)}}),Reamaze.Frames.BasicFrame=e({displayName:"Reamaze.Frames.BasicFrame",mixins:[Reamaze.Mixins.Styles],getDefaultProps:function(){return{}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){},render:function(){var e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(o);var i=document.createElement("div");i.className="frame-root",e.body.appendChild(i)}.bind(this);return n.createElement("div",{style:{width:"100%",height:"100%"},className:this.props.className},n.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(s.findDOMNode(e).style.setProperty("width","100%","important"),s.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))},getStyleTag:function(){return n.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return n.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return n.createElement("style",null,this.getResetCss())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.OutboundConversations=function(){var e="ob_conv";this.outboundConversations={};try{this.outboundConversations=JSON.parse(Reamaze.localStorage.getItem(e))||{}}catch(t){}return this.getOutboundConversations=function(){return JSON.parse(JSON.stringify(this.outboundConversations))},this.removeOutboundConversation=function(e){delete this.outboundConversations[e],this.cache()},this.getOutboundConversationId=function(e){return"*ob_"+e},this.getConversations=function(){var n={};return Object.keys(this.outboundConversations).forEach(function(e){var t=this.getConversation(e);t&&(n[t.id]=t)}.bind(this)),n},this.getConversation=function(e){var t=this.getOutboundConversationId(e),n=this.outboundConversations[e];return n?n.conversationId?null:(n.user||(n.user={type:"team"}),{slug:t,id:t,outbound:n.user.displayAsStaff=!0,enableOutboundCustomFields:n.enableCustomFields,disableCueClick:n.disableCueClick,outboundData:{id:e,name:n.name,message:n.message,user:n.user,timestamp:n.timestamp,buttons:n.buttons,live:n.live,botsEnabled:n.botsEnabled},unread:n.unread,loaded:!1,messages:[this.getConversationMessage(n)]}):null},this.getConversationMessage=function(e){var t=e.user;t.displayAsStaff=!0,t.avatarUrl=t.avatarUrl||(t.avatarUrls?t.avatarUrls[0]:null);var n={};return e.buttons&&0<e.buttons.length&&(n.buttons=e.buttons),{id:"*ob_msg",user:t,createdAt:new Date(e.timestamp),body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(e.message)),body_preview:e.message,system:!0,meta:n}},this.updateOutboundConversation=function(e){this.outboundConversations[e.outboundData.id]&&(this.outboundConversations[e.outboundData.id].unread=e.unread,e.id&&e.id!=this.getOutboundConversationId(e.outboundData.id)&&(this.outboundConversations[e.outboundData.id].conversationId=e.id,this.outboundConversations[e.outboundData.id].conversationSlug=e.slug),this.cache())},this.createOutboundConversation=function(e,t,n,r,o,i,a,s,p,c,l,u,d,h,f){!o&&this.outboundConversations[t]||(n||(n={type:"team"}),this.outboundConversations[t]={message:e,id:t,user:n,timestamp:r,unread:!0,buttons:i,onClickScript:a,persisted:!0,name:s,"transient":!!p,botsEnabled:!!l,live:!!c,auto:!!d,enableCustomFields:!!h,disableCueClick:!!f},u!==undefined&&(this.outboundConversations[t].expires=u),this.cache())},this.cache=function(){Reamaze.localStorage.setItem(e,JSON.stringify(this.outboundConversations))},this},function(e){e.namespace("Reamaze"),Reamaze.PushAgent=createReactClass({displayName:"Reamaze.PushAgent",propTypes:{appContext:PropTypes.object.isRequired,currentUser:PropTypes.object.isRequired,subscribed:PropTypes.bool,customVapidToken:PropTypes.string},componentDidMount:function(){window.ReamazePushData={currentUser:this.props.currentUser,baseDataUrl:this.props.appContext.baseDataUrl,subscribed:this.props.subscribed,customVapidToken:this.props.customVapidToken,publicKey:!!this.props.appContext.brand.push&&this.props.appContext.brand.push.public_key,enabled:!!this.props.appContext.brand.push&&this.props.appContext.brand.push.enabled};var e=new Event("ReamazePushDataInit");window.dispatchEvent(e);var t="//push.reamaze.com/assets/reamaze-push.js";if(!(0<document.querySelectorAll('[src="'+t+'"]').length)){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer="defer",n.src=t;var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(n,r):document.head?document.head.appendChild(n):document.body.appendChild(n)}},componentDidUpdate:function(e){if(!e.subscribed&&this.props.subscribed){var t=new Event("ReamazePushDataInit");window.dispatchEvent(t)}},render:function(){return!1}})}(jQuery,React);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){Reamaze.ACTIONS={PING:"PING",PING_LIVE_STATUS:"PING_LIVE_STATUS",UPDATE_PING_DATA:"UPDATE_PING_DATA",UPDATE_LIVE_STATUS:"UPDATE_LIVE_STATUS",ROUTE:"ROUTE",VIEW_CONVERSATION:"VIEW_CONVERSATION",OPEN_POPUP:"OPEN_POPUP",USER_TRANSITION:"USER_TRANSITION",BUILD_CONVERSATION:"BUILD_CONVERSATION",BUILD_MESSAGE:"BUILD_MESSAGE",SAVE_CONVERSATION:"SAVE_CONVERSATION",SHOW_PROMPT:"SHOW_PROMPT",REMOVE_PROMPT:"REMOVE_PROMPT"},Reamaze.EFFECTS={CREATE_MESSAGE_NOTIFICATION:"CREATE_MESSAGE_NOTIFICATION",PING_API:"PING_API",PING_LIVE_STATUS:"PING_LIVE_STATUS",CALL_UNREAD_CALLBACK:"CALL_UNREAD_CALLBACK",POPUP_OPENED:"POPUP_OPENED",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:"CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS",CREATE_OUTBOUND_NOTIFICATION:"CREATE_OUTBOUND_NOTIFICATION",DELETE_OUTBOUND_NOTIFICATION:"DELETE_OUTBOUND_NOTIFICATION",API_GET_CONVERSATIONS:"API_GET_CONVERSATIONS",API_GET_CONVERSATION:"API_GET_CONVERSATION",API_GET_BRAND_DATA:"API_GET_BRAND_DATA",API_POST_CONVERSATION:"API_POST_CONVERSATION",TRACK_EVENT:"TRACK_EVENT"};var calculateUnread=function(t){var n=0;return Object.keys(t).forEach(function(e){t[e].unread&&n++}),n},_route=function(e,t,n){var r=e.appContext.route,o=e.appContext.routeParams;return t==r&&JSON.stringify(n)==JSON.stringify(o)||(e.appContext.prevRoute=r,e.appContext.prevRouteParams=o),e.appContext.route=t,e.appContext.routeParams=n,e},rootStateReducer=function(e,t,n){switch(n.type){case Reamaze.ACTIONS.ROUTE:return e=_route(e,n.payload.route,n.payload.routeParams);case Reamaze.ACTIONS.PING:return e.pinging?null:(e.pinging=!0,{effects:[{type:Reamaze.EFFECTS.PING_API}]});case Reamaze.ACTIONS.UPDATE_PING_DATA:e.ping=n.payload;var r=Reamaze.Styles.fromBrand(e.ping?e.ping.brand:null,t.styles);for(var o in e.appContext.brand.styles=r,e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.departmentsAvailable=n.payload.departmentsAvailable,n.payload.conversations)e.conversations[o]||(e.conversations[o]=n.payload.conversations[o]);return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.effects.push({type:Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS}),e.appContext.brand=$jq.extend({},e.appContext.brand||{},n.payload.brand,{staffAvatars:n.payload.staffAvatars,liveStaffAvatars:n.payload.liveStaffAvatars}),e;case Reamaze.ACTIONS.PING_LIVE_STATUS:return{effects:[{type:Reamaze.EFFECTS.PING_LIVE_STATUS}]};case Reamaze.ACTIONS.UPDATE_LIVE_STATUS:var i=!1;return e.appContext.chatIsLive!=n.payload.chatIsLive&&(i=!0),e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.departmentsAvailable=n.payload.departmentsAvailable,e.appContext.brand&&(i||JSON.stringify(e.appContext.brand.liveStaffAvatars)==JSON.stringify(n.payload.liveStaffAvatars)||(i=!0),e.appContext.brand=$jq.extend({},e.appContext.brand,{liveStaffAvatars:n.payload.liveStaffAvatars})),i?e:null;case Reamaze.ACTIONS.VIEW_CONVERSATION:e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.OPEN_POPUP:var a=n.payload||{};if("undefined"==typeof a.anchor&&(a.anchor=!!t.widgetOpts),a.anchor&&t.widgetOpts&&t.widgetOpts.position&&(a.anchor={},t.widgetOpts.position.top?a.anchor.top=parseInt(t.widgetOpts.position.top,10)+10+parseInt(t.widgetOpts.size,10):t.widgetOpts.position.bottom&&(a.anchor.bottom=parseInt(t.widgetOpts.position.bottom,10)+10+parseInt(t.widgetOpts.size,10)),t.widgetOpts.position.left?a.anchor.left=t.widgetOpts.position.left:t.widgetOpts.position.right&&(a.anchor.right=t.widgetOpts.position.right)),a.route)e=_route(e,a.route,a.routeParams||{});else if(a.path||e.appContext.route&&!n.payload.mode)a.path&&(e=_route(e,"kb:index",{path:a.path}));else{var s=n.payload.mode||t.popupOpts.mode,p="hub:index";"kb"==s||"faq"==s?p="kb:index":"contact"==s&&(p="conversations:new"),e=_route(e,p,null)}return"widget"==a.source&&e.appContext.shoutbox.open||(e.appContext.shoutbox.open=!a.minimized),(e.popup=a).minimized||(e.effects.push({type:Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS}),e.messagePrompts={}),e.effects.push({type:Reamaze.EFFECTS.POPUP_OPENED,payload:{minimized:a.minimized}}),e;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return e.appContext.brand.name||e.fetchingBrandData||e.effects.push({type:Reamaze.EFFECTS.API_GET_BRAND_DATA}),e;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:var c=e.outboundConversations.getConversation(n.payload.id);return c&&c.unread&&((c=JSON.parse(JSON.stringify(c))).unread=!1,$jq.extend(e.conversations[c.slug],c),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.outboundConversations.updateOutboundConversation(e.conversations[c.slug])),e;default:return null}},conversationsStateReducer=function(n,e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED:t.payload.pendingSlug&&delete n.conversations[t.payload.pendingSlug];var r=n.currentUser.getAnonymousId(),o=r&&!t.payload.user.anonymous_id;n.currentUser.setAnonymousId(t.payload.user.anonymous_id),n.currentUser.set("_id",t.payload.user.id),n.currentUser.set("email",t.payload.user.email),n.currentUser.set("name",t.payload.user.name);var i=n.currentUser.getConversationTokens();i.push(t.payload.conversation.token),n.currentUser.setConversationTokens(i),n.conversations[t.payload.conversation.slug]=t.payload.conversation,n=_route(n,"conversations:show",{slug:t.payload.conversation.slug,id:t.payload.conversation.id});var a={action:(t.payload.conversation.isChat?"Chat":"Conversation")+" Started"};return t.payload.conversation.outboundData&&t.payload.conversation.outboundData.id&&(n.outboundConversations.updateOutboundConversation(t.payload.conversation),delete n.conversations[n.outboundConversations.getOutboundConversationId(t.payload.conversation.outboundData.id)],n.conversations[t.payload.conversation.slug].messages.unshift(n.outboundConversations.getConversationMessage(t.payload.conversation.outboundData)),a.label="From Cue "+(t.payload.conversation.outboundData.name||t.payload.conversation.outboundData.id)),n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:a}),o&&n.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:r}}),n.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:t.payload.conversation.slug}}),n;case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:if(!t.payload.conversationSlug||!t.payload.props||!n.conversations[t.payload.conversationSlug])return null;var s=(u=n.conversations[t.payload.conversationSlug].messages).filter(function(e){return e.pending||e.errored});if(t.payload.props.messages&&(t.payload.props.messages=t.payload.props.messages.concat(s).sort(function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt);return n<r?-1:r<n?1:0})),$jq.extend(n.conversations[t.payload.conversationSlug],t.payload.props),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),t.payload.props.outboundData&&t.payload.props.outboundData.id){var p=n.outboundConversations.getConversationMessage(t.payload.props.outboundData);n.conversations[t.payload.conversationSlug].messages[0].id!=p.id&&n.conversations[t.payload.conversationSlug].messages.unshift(p),n.outboundConversations.updateOutboundConversation(n.conversations[t.payload.conversationSlug])}return n;case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return $jq.extend(n.conversations[t.payload.conversationSlug],t.payload.props),n;case Reamaze.Conversations.ACTIONS.MESSAGE_CREATED:var c=!1;(n.conversations[t.payload.conversationSlug].messages||[]).forEach(function(e){e.user.displayAsStaff&&(c=!0)});for(var l=t.payload.message,u=$jq.extend([],n.conversations[t.payload.conversationSlug].messages||[]),d=-1,h=0;h<u.length;h++)if("undefined"!=typeof u[h].requestId&&u[h].requestId===l.requestId||"undefined"!=typeof u[h].id&&u[h].id===l.id){d=h;break}if(-1<d)u.splice(d,1,l);else{var f=-1;for(h=0;h<u.length;h++)if(u[h].created_at>=l.created_at){f=h;break}-1<f?u.splice(f,0,l):u.push(l)}if(n.conversations[t.payload.conversationSlug].messages=u,n.conversations[t.payload.conversationSlug].unread=!0,n.conversations[t.payload.conversationSlug].promptOptions=[],"conversations:show"==n.appContext.route&&n.appContext.routeParams.slug==t.payload.conversationSlug&&n.appContext.shoutbox.open&&n.appContext.documentVisible||(n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}})),n.currentUser.get("_id")!=t.payload.message.user.id)(l=t.payload.message).conversation={id:t.payload.conversationId,slug:t.payload.conversationSlug},n.appContext.shoutbox.open||(n.messagePrompts[l.conversation.id]=l),-1==d&&n.effects.push({type:Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION,payload:t.payload.message}),!c&&t.payload.message.user.displayAsStaff&&n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:(n.conversations[t.payload.conversationSlug].isChat?"Chat":"Conversation")+" Staff First Response Received"}});return n;case Reamaze.Conversations.ACTIONS.MESSAGE_READ:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.forEach(function(e){if(e.id==t.payload.messageId)return!(e.viewed=!0)}),n;case Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.length&&(n.conversations[t.payload.conversationSlug].insertConversationStartedMessageId=n.conversations[t.payload.conversationSlug].messages.slice(-1)[0].id),n;case Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.forEach(function(e){if(e.id==t.payload.messageId)return e.appreciated||t.payload.error||(n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:"Message Appreciated"}}),e.appreciated=!0),!1}),n;case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS:return n.conversationsFetched?null:(n.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATIONS}),n);case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK:for(var m in t.payload)if((!n.conversationsFetched||!n.conversations[m]||!n.conversations[m].loaded&&!n.conversations[m].fetching)&&(n.conversations[m]=t.payload[m],n.conversations[m].outboundData)){p=n.outboundConversations.getConversationMessage(n.conversations[m].outboundData);n.conversations[m].messages[0].id!=p.id&&n.conversations[m].messages.unshift(p)}return Object.keys(n.conversations).forEach(function(e){n.conversations[e]&&n.conversations[e].messages||(console.log("Conversation retrieved without messages: ",JSON.stringify(n.conversations[e])),delete n.conversations[e])}),n.conversationsFetched=!0,n.conversationsLastFetched=Date.now(),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.Conversations.ACTIONS.GET_CONVERSATION:return n.conversations[t.payload.slug].fetching?null:(n.conversations[t.payload.slug].fetching=!0,n.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATION,payload:t.payload}),n);case Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK:if(n.conversations[t.payload.slug]=t.payload,n.conversations[t.payload.slug].outboundData){p=n.outboundConversations.getConversationMessage(n.conversations[t.payload.slug].outboundData);n.conversations[t.payload.slug].messages[0].id!=p.id&&n.conversations[t.payload.slug].messages.unshift(p)}return n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_OFFER:var g=t.payload.data,y=new window.RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302"]}]});y.setRemoteDescription(new RTCSessionDescription(g.offer));var v="rmz-video-call-"+Math.round(1e5*Math.random());return n.videoCallInformation={offer:g.offer,user:g.user,channel:t.payload.channel,peerConnection:y,notificationId:v},n.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[{id:v,user:{name:g.user.name,avatarUrls:[g.user.avatar]},sound:!1,size:"small","transient":!0,videoCall:!0,videoCallInformation:n.videoCallInformation}]}),n;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED:return n.videoCallAnswered=!0,t.payload.openPopup&&n.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"hub:index",routeParams:{}}}),n.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[n.videoCallInformation.notificationId]}),n;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED:return n.videoCallInformation&&n.videoCallInformation.channel&&n.videoCallInformation.channel.trigger("client-conversation:video_call_declined",{}),n.videoCallInformation.peerConnection.close(),n.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[n.videoCallInformation.notificationId]}),n.videoCallAnswered=!1,n.videoCallInformation={},n;case Reamaze.ACTIONS.BUILD_CONVERSATION:return n.conversations[t.payload.slug]={pending:!0,saving:!1,error:!1,slug:t.payload.slug,id:t.payload.slug,messages:[{id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.payload.data.message.body)),body_preview:t.payload.data.message.body,pendingData:t.payload.data}]},n=_route(n,"conversations:show",{slug:t.payload.slug});case Reamaze.ACTIONS.SAVE_CONVERSATION:var b=Math.floor(Date.now()/1e3),C=t.payload.formData,x={sso:n.currentUser.ssoData()};if(n.appContext.previewOptions&&(x.preview_options=n.appContext.previewOptions),C.push({name:"_zt",value:Reamaze.ec("0"+b)}),C.push({name:"_zt2",value:b}),C.push({name:"_url",value:window.location.href}),C.push({name:"_browser",value:Reamaze.Utils.massageUserAgent(window.navigator)}),C.push({name:"_zc_field",value:"5b5cd0da3121fc53b4bc84d0c8af2e81"}),C.push({name:"sparams",value:$jq.param(x)}),C.push({name:"__skip_bots",value:!n.appContext.allowBotProcessing}),w=n.conversations[t.payload.slug]){if(n.appContext._preview)return w.loaded=!0,w.pending=!1,n.conversations[t.payload.slug]=w,n;w.saving=!0,w.error=!1,n.conversations[t.payload.slug]=w;for(h=0;h<w.messages.length;h++)if(w.messages[h].pendingData&&!w.messages[h].user.displayAsStaff){l=w.messages[h];break}w.outbound&&w.outboundData&&C.push({name:"outbound_data_str",value:JSON.stringify(w.outboundData)}),C.push({name:"customer_body",value:l.pendingData.customer_body}),C.push({name:"conversation[messages_attributes][0][body]",value:l.pendingData.message.body}),l.pendingData.message.attachment_ids&&0<l.pendingData.message.attachment_ids.length&&l.pendingData.message.attachment_ids.forEach(function(e){C.push({name:"conversation[messages_attributes][0][attachment_ids][]",value:e})})}return n.effects.push({type:Reamaze.EFFECTS.API_POST_CONVERSATION,payload:{pendingSlug:t.payload.slug,formData:C}}),n;case Reamaze.ACTIONS.BUILD_MESSAGE:return(w=n.conversations[t.payload.slug])?(w.outbound&&(w.pending=!0,w.saving=!1,w.error=!1,w.messages.push({id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.payload.data.message.body)),body_preview:t.payload.data.message.body,pendingData:t.payload.data})),n.conversations[t.payload.slug]=w,n):null;case Reamaze.ACTIONS.SHOW_PROMPT:return n.conversations[t.payload.conversationSlug]?(n.conversations[t.payload.conversationSlug].promptOptions=t.payload.options,n):null;case Reamaze.ACTIONS.REMOVE_PROMPT:return n.conversations[t.payload.conversationSlug]?(n.conversations[t.payload.conversationSlug].promptOptions=null,n):null;case Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION:var w,E=t.payload.outbound;return n.outboundConversations.createOutboundConversation(E.message,E.id,E.user,Date.now(),!E.id,E.buttons,n.appContext._preview?"function() {}":E.onClickScript,E.name,!!E["transient"],!1,!!E.botsEnabled,E.end||0,!!E.auto,!!E.enableCustomFields,!!E.disableCueClick),(w=n.outboundConversations.getConversation(E.id))&&(n.conversations[w.id]=w),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION,payload:{outbound:E}}),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION:var _=t.payload.ids||[];return t.payload.id&&_.push(t.payload.id),_.forEach(function(e){var t=n.outboundConversations.getConversation(e);n.outboundConversations.removeOutboundConversation(e),t&&n.conversations[t.id]&&n.conversations[t.id].outbound&&delete n.conversations[t.id],n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION,payload:{id:e}})}),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;default:return null}},rootEffectsHandler=function(e){switch(e.type){case Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:if(this.state.conversations&&0<Object.keys(this.state.conversations).length){var o=[];Object.keys(this.state.conversations).forEach(function(e){var t=this.state.conversations[e];if(t.unread&&t.newFromStaff){var n=t.messages[0];n.conversation={id:t.id,slug:t.slug};var r=this.notificationFromMessagePrompt(n);r.sound=!0,o.push(r)}}.bind(this)),0<o.length&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:o})}break;case Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION:if(this.refs.notifications&&(!this.state.popup||!this.state.appContext.shoutbox.open)){var t=this.notificationFromMessagePrompt(e.payload);t.renew=!0,this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})}this.playSound();break;case Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS});break;case Reamaze.EFFECTS.PING_API:$jq.ajax({url:this.props.baseDataUrl+"/data/ping?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),cache:!this.state.appContext._preview,success:function(e){e.currentUser&&this.state.currentUser.set("_id",e.currentUser.id),this.state.appContext._preview&&"traditional"===this.state.appContext.contactMode&&(e.conversations=[]),this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_PING_DATA,payload:e})}.bind(this),complete:function(){this.state.pinging=!1}.bind(this)});break;case Reamaze.EFFECTS.PING_LIVE_STATUS:$jq.ajax({url:this.props.baseDataUrl+"/data/ping/live_status?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),cache:!this.state.appContext._preview,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_LIVE_STATUS,payload:e})}.bind(this)});break;case Reamaze.EFFECTS.CALL_UNREAD_CALLBACK:"function"==typeof this.props.unreadCallbackFunc&&this.props.unreadCallbackFunc({count:e.payload.unreadCount});break;case Reamaze.EFFECTS.POPUP_OPENED:if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!e.payload.minimized){var n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);parseInt(n[1],10),parseInt(n[2],10);$jq("body").data("rmz-initial-pos",$jq("body").css("position")),$jq("body").data("rmz-initial-min-width",$jq("body").css("min-width")),$jq("body").data("rmz-initial-scroll",$jq("html").scrollTop()),$jq("body").data("rmz-initial-top",$jq("body").css("top")),$jq("body").data("rmz-initial-left",$jq("body").css("left")),$jq("body").data("rmz-initial-right",$jq("body").css("right")),$jq("body").css({position:"fixed"}),$jq("body").css({top:-$jq("body").data("rmz-initial-scroll"),left:0,right:0}),$jq("body").css({minWidth:"100%"}),1<=$jq("meta[name=viewport]").length&&(this.$metaNoZoom=$jq('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />'),this.$metaNoZoom.appendTo($jq("head")))}e.payload.minimized||$jq(window).trigger("Reamaze.popupOpened");break;case Reamaze.EFFECTS.API_GET_BRAND_DATA:$jq.ajax({url:"https://"+this.props.cdnDomain+"/data/brands/"+this.state.appContext.brand.url+"/ping",cache:!this.state.appContext._preview,success:function(e){var t=this.state.appContext;t.brand=$jq.extend({},t.brand,e),this.setState({appContext:t})}.bind(this),complete:function(){this.setState({fetchingBrandData:!1})}.bind(this)});break;case Reamaze.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},conversationsEffectsHandler=function(effect){switch(effect.type){case Reamaze.EFFECTS.API_GET_CONVERSATIONS:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK,payload:e.conversations})}.bind(this)});break;case Reamaze.EFFECTS.API_GET_CONVERSATION:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations/"+effect.payload.slug+"?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK,payload:e.conversation})}.bind(this),complete:function(){this.state.conversations[effect.payload.slug].fetching=!1}.bind(this)});break;case Reamaze.EFFECTS.API_POST_CONVERSATION:$jq.ajax({url:this.state.appContext.baseDataUrl+"/data/conversations",type:"POST",data:effect.payload.formData,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user,pendingSlug:effect.payload.pendingSlug}})}.bind(this),error:function(e){var t=this.state.conversations[effect.payload.pendingSlug];t.error=!0,t.errors=Reamaze.ErrorMap(e.responseJSON.conversation),t.saving=!1,this.setState({conversations:this.state.conversations})}.bind(this),crossDomain:!0});break;case Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION:var outbound=effect.payload.outbound,notification={message:outbound.message,name:outbound.name,id:outbound.id,buttons:outbound.buttons,user:outbound.user,onClickScript:this.state.appContext._preview?"function() {}":outbound.onClickScript,sound:outbound.sound,"transient":!!outbound["transient"],botsEnabled:!!outbound.botsEnabled,disableCueClick:!!outbound.disableCueClick,expires:outbound.end||0,isCue:!0};notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this)),this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[notification]});break;case Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[effect.payload.id]})}};Reamaze.ReamazeJS=createReactClass({displayName:"Reamaze.ReamazeJS",mixins:[TimerMixin],propTypes:{widgetOpts:PropTypes.any,popupOpts:PropTypes.object,baseUrl:PropTypes.string,baseDataUrl:PropTypes.string,account:PropTypes.string,appDomain:PropTypes.string,cdnDomain:PropTypes.string,pusherAppKey:PropTypes.string,currentUser:PropTypes.object,customFields:PropTypes.object,trans:PropTypes.object,font:PropTypes.string,contactMode:PropTypes.string,shoutboxFacesMode:PropTypes.string,shoutboxHeaderLogo:PropTypes.bool,faces:PropTypes.array,unreadCallbackFunc:PropTypes.func,enableKb:PropTypes.bool,allowBotProcessing:PropTypes.bool,enableBrowserTabAlerting:PropTypes.bool,pushNotifications:PropTypes.bool,route:PropTypes.string,routeParams:PropTypes.object,styles:PropTypes.object,_preview:PropTypes.bool,brandData:PropTypes.object,pushPrompt:PropTypes.oneOfType([PropTypes.bool,PropTypes.object]),outbounds:PropTypes.array,apps:PropTypes.object,hasTouch:PropTypes.bool,isMobileBrowser:PropTypes.bool,isMobileDevice:PropTypes.bool,overrides:PropTypes.shape({confirmationMessage:PropTypes.string})},pusher:null,getDefaultProps:function(){return{font:"normal normal 13px/17px Nunito, Helvetica, Arial, sans-serif"}},getInitialState:function(){var e={baseUrl:this.props.baseUrl,baseDataUrl:this.props.baseDataUrl,appDomain:this.props.appDomain,cdnDomain:this.props.cdnDomain,getPusher:this._getPusher,contactMode:this.props.contactMode,allowBotProcessing:this.props.allowBotProcessing,previewOptions:this.props.previewOptions,shoutboxFacesMode:this.props.shoutboxFacesMode,shoutboxHeaderLogo:this.props.shoutboxHeaderLogo,faces:this.props.faces,fullScreen:window.innerWidth<=767&&!this.props._preview,hasTouch:this.props.hasTouch,isMobileBrowser:this.props.isMobileBrowser,_preview:this.props._preview,brand:$jq.extend({},this.props.brandData,{styles:Reamaze.Styles.fromBrand(this.props.brandData?this.props.brandData:null,this.props.styles),url:this.props.account}),shoutbox:{open:!1},customFields:this.props.customFields||{},route:this.props.route,routeParams:this.props.routeParams||{},prevRoute:this.props.route,prevRouteParams:{},apps:this.props.apps,documentVisible:!this.getDocumentHidden(),overrides:this.props.overrides},t=new Reamaze.Dispatcher;t.register(function(e){var t=$jq.extend({}
,this.state);t.effects=[];var n=(t=$jq.extend(null,rootStateReducer(t,this.props,e),conversationsStateReducer(t,this.props,e))).effects;delete t.effects,t&&0<Object.keys(t).length&&this.setState(t),n&&0<n.length&&(n.forEach(rootEffectsHandler.bind(this)),n.forEach(conversationsEffectsHandler.bind(this)))}.bind(this)),e.dispatcher=t;var n=new Reamaze.OutboundConversations,r={popup:null,messagePrompts:{},ping:null,unreadCount:0,currentUser:this.props.currentUser,notificationCount:0,outboundConversations:n,conversations:n.getConversations()||{},conversationsFetched:!1,conversationsLastFetched:Date.now(),hide:!1,outbounds:(this.props.outbounds||[]).map(function(e){return e.auto=!0,e}),appContext:e,videoCallInformation:{},videoCallAnswered:!1},o=document.createElement("audio");return this.audioSupported=!this.props.disableAudio&&!!(o.setAttribute&&o.canPlayType&&o.canPlayType("audio/mpeg;").replace(/no/,"")),r},componentDidUpdate:function(){try{Reamaze.localStorage.setItem("messagePrompts.state",JSON.stringify(this.state.messagePrompts))}catch(e){Reamaze.localStorage.removeItem("messagePrompts.state")}this.state.appContext.route?Reamaze.localStorage.setItem("route",this.state.appContext.route):Reamaze.localStorage.removeItem("route"),this.state.appContext.shoutbox.open?(Reamaze.localStorage.removeItem("popup.minimized"),Reamaze.localStorage.removeItem("chat.minimized")):Reamaze.localStorage.setItem("chat.minimized",1);try{Reamaze.localStorage.setItem("routeParams",JSON.stringify(this.state.appContext.routeParams))}catch(e){Reamaze.localStorage.removeItem("routeParams")}this.subscribeConversationChannels()},componentDidMount:function(){this._resizeHandler=$jq.debounce(500,this._resizeHandler),$jq(window).on("resize",this._resizeHandler),$jq(window).on("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).on("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).on("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).on("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).on("Reamaze.openPopup",this._openPopupTrigger),$jq(window).on("Reamaze.closePopup",this._closePopupTrigger),$jq(window).on("Reamaze.navigate",this._handleNavigation),$jq(window).on("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).on("Reamaze.pusherSetupComplete",function(){this.forceUpdate()}.bind(this)),$jq(window).on("Reamaze.notify",this.onNotify),$jq(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).on("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).on("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).on("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this._restoreState();var e=document.createElement("iframe");(this.pusherIframe=e).style.setProperty("width",0,"important"),e.style.setProperty("height",0,"important"),e.style.display="none",document.body.appendChild(e);var t=e.contentDocument;t.open(),t.close();var n=document.createElement("script");n.type="text/javascript",n.src="https://cdnjs.cloudflare.com/ajax/libs/pusher/7.0.1/pusher.min.js",t.head.appendChild(n);var r=function(){e.contentWindow.Pusher?Reamaze.setupPusher(e.contentWindow.Pusher):this.setTimeout(r,200)}.bind(this);r(),this.subscribeConversationChannels(),this.setInterval(this.pingForSSOUsers,12e4)},componentWillUnmount:function(){$jq(window).off("resize",this._resizeHandler),$jq(window).off("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).off("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).off("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).off("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).off("Reamaze.openPopup",this._openPopupTrigger),$jq(window).off("Reamaze.closePopup",this._closePopupTrigger),$jq(window).off("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).off("Reamaze.pusherSetupComplete"),$jq(window).off("Reamaze.notify",this.onNotify),$jq(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).off("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).off("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).off("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.pusher&&this.pusher.disconnect(),this.pusherIframe&&(document.body.removeChild(this.pusherIframe),Reamaze.Pusher=undefined)},handleVisibilityChange:function(){var e=this.state.appContext;this.state.appContext.isMobileBrowser&&!this.getDocumentHidden()&&5e3<Date.now()-this.state.conversationsLastFetched&&this.setState({conversationsFetched:!1},function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})}.bind(this)),this.state.appContext.documentVisible!=!this.getDocumentHidden()&&(e.documentVisible=!this.state.appContext.documentVisible,this.setState({appContext:e}))},getDocumentHidden:function(){try{if("hidden"in document)return document.hidden;for(var e=["webkit","moz","ms","o"],t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return document[e[t]+"Hidden"]}catch(n){}return null},pingForSSOUsers:function(){this.state.currentUser.isSSOUser()&&this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},toggleDisplayOnFullScreenElement:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=!!e;$jq(e).parents("#reamaze-container").length&&(t=!1),this.setState({hide:t})},conversationsSubscribed:{},subscribeConversationChannels:function(){var t=this;if(Reamaze.Pusher&&!this.state.appContext._preview&&0!=Object.keys(this.state.conversations).length)for(var e=0,n=Object.keys(this.state.conversations).reduce(function(e,t){var n=this.state.conversations[t];return n&&n.id&&e.push(n),e}.bind(this),[]),r=(n=n.filter(function(e){var t=new Date;t.setMonth(t.getMonth()-1);var n=e.outbound||e.pending,r=e.messages&&0<e.messages.length&&e.messages[e.messages.length-1].createdAt&&new Date(e.messages[e.messages.length-1].createdAt)<t;return!n&&!r})).sort(function(e,t){var n=new Date(e.messages&&0<e.messages.length?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&0<t.messages.length?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1}),o=0;o<r.length&&!(8<=e);o++){var i=this._getPusher(),a=r[o],s=a.slug;e+=1;var p="presence-conversation-"+a.id;if(!i.channel(p)||!this.conversationsSubscribed[s]){var c=i.subscribe(p);c.bind("pusher:subscription_succeeded",function(){this.state.conversations[s].botsEnabled&&!this.state.conversations[s].botHandoverTimestamp&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:s}})}.bind(this,c)),c.bind("pusher:member_added",function(){}.bind(this,c)),c.bind("show-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SHOW_PROMPT,payload:{conversationSlug:t.slug,options:t.options}})}.bind(this,c)),c.bind("remove-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.REMOVE_PROMPT,payload:{conversationSlug:t}})}.bind(this,c)),Reamaze.Utils.Pusher.bindChunked(c,"messages/new",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,s,a.id)),c.bind("messages/show_conversation_started_message",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,s,a.id)),c.bind("messages/read",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_READ,payload:{conversationSlug:e,messageId:t.message_id}})}.bind(this,s)),c.bind("conversation/update",function(e,t){this.state.conversations[e];1==t.archived&&(props={status:"archived"},t.satisfactionRating&&(props.satisfactionRating=t.satisfactionRating),this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e,props:props}}))}.bind(this,s)),c.bind("client-conversation:video_call_start",function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_OFFER,payload:{data:e,channel:c}})}.bind(this)),c.bind("client-conversation:add_candidate",function(e){t.state.videoCallInformation&&t.state.videoCallInformation.peerConnection&&t.state.videoCallInformation.peerConnection.addIceCandidate(new RTCIceCandidate(e.candidate))}),this.conversationsSubscribed[s]=!0}}},onNewOutbound:function(e,n){this.setState(function(e){var t=JSON.parse(JSON.stringify(e.outbounds||[]));return t.push(n),{outbounds:t}})},onRemoveOutbound:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:t}})},onRemoveAllOutbounds:function(){var e=this.state.outboundConversations.getOutboundConversations();if(e){var t=Object.keys(e);this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{ids:t}})}},_onWidgetRouteEvent:function(e,t){var n=_route(this.state,t.route,t.routeParams);this.setState({appContext:n.appContext})},playSound:function(){if(this.refs.newMessageSound){var e=ReactDOM.findDOMNode(this.refs.newMessageSound).play();e&&e.then(function(){})["catch"](function(){})}},getWidget:function(){if(this.props.widgetOpts){var e=$jq.extend(!0,{},this.props.widgetOpts);return e.color=this.state.appContext.brand.styles.widgetColor,e.gradient=this.state.appContext.brand.styles.gradient,e.iconColor=this.state.appContext.brand.styles.widgetIconColor,React.createElement(Reamaze.Widget.Widget,_extends({},e,{openPopupFunc:this._openPopup,closePopupFunc:this._closePopup,conversations:this.state.conversations,unreadCount:this.state.unreadCount,hideLabel:0<this.state.notificationCount,appContext:this.state.appContext,enableBrowserTabAlerting:this.props.enableBrowserTabAlerting}))}return null},getPopup:function(){if(!this.state.popup)return null;var e=[],t=$jq.extend({},this.props.popupOpts||{},this.state.popup);return e.push(React.createElement(Reamaze.Shoutbox,{popupOptions:t,ping:this.state.ping,conversations:this.state.conversations,conversationsFetched:this.state.conversationsFetched,enableKb:this.props.enableKb,currentUser:this.state.currentUser,closePopup:this._closePopup,key:"shoutbox",appContext:this.state.appContext,label:this.props.widgetOpts?this.props.widgetOpts.label:{},videoCallInformation:this.state.videoCallInformation,videoCallAnswered:this.state.videoCallAnswered,brandData:this.props.brandData})),e},onNotify:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})},_openPopupTrigger:function(e,t){this._openPopup.apply(this,[t])},_openPopup:function(e){e=e||{},this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:e})},_closePopupTrigger:function(e){this._closePopup.apply(this,Array.prototype.slice.call(arguments).splice(1,arguments.length))},_closePopup:function(){this.state.appContext.shoutbox.open=!1,this.setState({appContext:this.state.appContext},function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&($jq("body").data("rmz-initial-pos")&&($jq("body").css({position:$jq("body").data("rmz-initial-pos")}),$jq("body").data("rmz-initial-pos",null)),$jq("body").data("rmz-initial-min-width")&&($jq("body").css({minWidth:$jq("body").data("rmz-initial-min-width")}),$jq("body").data("rmz-initial-min-width",null)),($jq("body").data("rmz-initial-scroll")||0===$jq("body").data("rmz-initial-scroll"))&&($jq("html").scrollTop($jq("body").data("rmz-initial-scroll")),$jq("body").data("rmz-initial-scroll",null)),($jq("body").data("rmz-initial-top")||0===$jq("body").data("rmz-initial-top"))&&($jq("body").css({top:$jq("body").data("rmz-initial-top")}),$jq("body").data("rmz-initial-top",null)),($jq("body").data("rmz-initial-left")||0===$jq("body").data("rmz-initial-left"))&&($jq("body").css({left:$jq("body").data("rmz-initial-left")}),$jq("body").data("rmz-initial-left",null)),($jq("body").data("rmz-initial-right")||0===$jq("body").data("rmz-initial-right"))&&($jq("body").css({right:$jq("body").data("rmz-initial-right")}),$jq("body").data("rmz-initial-right",null)),this.$metaNoZoom&&(this.$metaNoZoom.remove(),this.$metaNoZoom=null)),Reamaze.Analytics.track("Shoutbox Closed")}),$jq(window).trigger("Reamaze.popupClosed")},_escKeyHandler:function(e){27==e.which&&this._closePopup()},_handleNavigation:function(e,t){t._url&&"_popup"==t._name&&(Reamaze.localStorage.setItem("route","kb:index"),Reamaze.localStorage.setItem("routeParams",JSON.stringify({path:t._url})),this.state.appContext=Object.assign({},this.state.appContext,{routeParams:{path:t._url}}))},_resizeHandler:function(){this.state.appContext.fullScreen=window.innerWidth<=767&&!this.state.appContext._preview,this.setState({appContext:this.state.appContext})},_kbTooltipHandler:function(e){e.preventDefault();var t=$jq(e.target),n=t.data("kbUrl"),r=t.data("kbArticle"),o=t.data("kbTopic"),i=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored");if(o||r||n){var a,s=null;if(n){var p=(a=n).indexOf("#");-1!=p&&(s=a.substring(p),a=a.substring(0,p))}else a="/kb/"+(o||"articles")+(r?"/"+r:"");a&&(a+=(0<a.indexOf("?")?"&":"?")+"ts="+Date.now(),this._openPopup({anchor:i,route:"kb:show",routeParams:{path:a,anchor:s}}))}},_popupHandler:function(e){e.preventDefault();var t=$jq(e.currentTarget).data("reamaze-lightbox-title"),n=$jq(e.currentTarget).data("reamaze-lightbox-width")||550,r=$jq(e.currentTarget).data("reamaze-lightbox-height")||600,o=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored"),i=$jq(e.currentTarget).data("reamaze-lightbox-contact-mode")||null,a=$jq(e.currentTarget).data("reamaze-lightbox-disable-chat")||!1,s=$jq(e.currentTarget).data("reamaze-lightbox-channel")||null,p=$jq(e.currentTarget).data("reamaze-lightbox-placeholder")||null,c=$jq(e.currentTarget).data("reamaze-lightbox-subject")||null,l=null;return $jq(e.currentTarget).data("reamaze-lightbox")&&"default"!=$jq(e.currentTarget).data("reamaze-lightbox")&&(l=$jq(e.currentTarget).data("reamaze-lightbox")),this._openPopup({anchor:o,title:t,width:n,height:r,mode:l,disableChat:a,contactMode:i,category:s,override_placeholder:p,subject:c}),!1},_popupTriggerHandler:function(e){return this._openPopup(),e.preventDefault(),!1},_getPusher:function(){if(!Reamaze.Pusher)throw"Pusher No Conflict Mode: Pusher not ready.";return this.pusher||(this.pusher=new Reamaze.Pusher(this.props.pusherAppKey,{authTransport:"buffered",authDelay:200,authEndpoint:this.props.baseUrl+"/data/pusher/buffered_auth",encrypted:!0,activityTimeout:6e4,pongTimeout:15e3,auth:function(e){var t={params:{}};return t.params.ssos=$jq.param(e.ssoData()),t.params.url=window.location.href,t}.bind(this,this.state.currentUser)})),this.pusher},_restoreState:function(){if(!this.state.appContext._preview){var e=JSON.parse(Reamaze.localStorage.getItem("messageTemplate.lastAction")||"{}"),t=!1;Object.keys(e).length&&-1<e.name.indexOf("article")&&(t=!!e.timestamp&&Date.now()-parseInt(e.timestamp)<1e4);var n,r,o=Reamaze.localStorage.getItem("route"),i=Reamaze.localStorage.getItem("chat.minimized")||Reamaze.localStorage.getItem("popup.minimized")||this.state.appContext.fullScreen||t;try{n=JSON.parse(Reamaze.localStorage.getItem("routeParams"))||{}}catch(a){n=null}try{r=JSON.parse(Reamaze.localStorage.getItem("messagePrompts.state"))||{}}catch(a){r={}}"conversations:new"==o||"conversations:index"==o||"hub:index"==o?(o=null,n={}):"kb:index"!=o||"kb"==this.props.popupOpts.mode||n?"conversations:show"===this.props.route&&this.props.routeParams&&(o=this.props.route,n=this.props.routeParams):(o="conversations:new",n={}),this.state=_route(this.state,o,n),this.setState({appContext:this.state.appContext,messagePrompts:r},function(){if(this.state.appContext.route)this._openPopup({minimized:!!i});else if(this.state.currentUser.isIdentified()){var e=6e4*Math.random()+3e3;(this.state.currentUser.isSSOUser()||0<this.state.currentUser.getConversationTokens().length)&&(e=3e3*Math.random()+1e3),this.setTimeout(function(){this._openPopup({minimized:!this.state.appContext.shoutbox.open})}.bind(this),e)}if(this.refs.notifications){var t=this.getNotifications();t&&0<t.length&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:t})}}.bind(this))}},getNotifications:function(){var notifications=[],outboundConversations=this.state.outboundConversations.getOutboundConversations();return(this.state.messagePrompts&&0!=Object.keys(this.state.messagePrompts).length||0!=Object.keys(outboundConversations).length)&&(Object.keys(this.state.messagePrompts).forEach(function(e){var t=this.notificationFromMessagePrompt(this.state.messagePrompts[e]);t&&notifications.push(t)}.bind(this)),Object.keys(outboundConversations).forEach(function(k){var notification=outboundConversations[k];notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this),notification.sound=!1,notifications.push(notification)}.bind(this))),notifications},notificationFromMessagePrompt:function(e){if(e.user.displayAsStaff){var t=document.createElement("div");t.innerHTML=e.body;var n=t.textContent||t.innerText||"";return{id:"c-"+e.conversation.id,message:n,size:"preview",user:{avatarUrls:[e.user.avatarUrl],name:e.user.name},timestamp:new Date(e.createdAt).getTime(),type:"message",sound:!1,onClick:function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.VIEW_CONVERSATION,payload:{slug:e.conversation.slug}})}.bind(this)}}},render:function(){var e={};return this.props.widgetOpts&&this.props.widgetOpts.position?(this.props.widgetOpts.position.top?e.top=parseInt(this.props.widgetOpts.position.top,10)+parseInt(this.props.widgetOpts.size,10):this.props.widgetOpts.position.bottom&&(e.bottom=parseInt(this.props.widgetOpts.position.bottom,10)+parseInt(this.props.widgetOpts.size,10)),this.props.widgetOpts.position.left?e.left=this.props.widgetOpts.position.left:this.props.widgetOpts.position.right&&(e.right=this.props.widgetOpts.position.right)):e={bottom:20,right:20},React.createElement("div",{id:"reamaze-widget-container",style:{font:this.props.font,display:this.state.hide?"none":"block"}},this.audioSupported&&React.createElement("audio",{ref:"newMessageSound",preload:"none"},React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.mp3",type:"audio/mpeg"}),React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.ogg",type:"audio/ogg"})),!!Reamaze.Pusher&&!(this.state.appContext.fullScreen&&0<this.state.notificationCount)&&this.getWidget(),!!Reamaze.Pusher&&this.getPopup(),React.createElement(Reamaze.Notifications.App,{anchor:e,playSound:this.playSound,updateNotificationCount:function(e){this.setState({notificationCount:e})}.bind(this),ref:"notifications",appContext:this.state.appContext,outboundConversations:this.state.outboundConversations,videoCallInformation:this.state.videoCallInformation}),this.props.pushNotifications&&React.createElement(Reamaze.PushAgent,{subscribed:!0===this.props.pushNotifications||1==this.props.pushNotifications.subscribed||"undefined"==typeof this.props.pushNotifications.subscribed,appContext:this.state.appContext,currentUser:this.state.currentUser,customVapidToken:"object"==typeof this.props.pushNotifications&&null!==this.props.pushNotifications?this.props.pushNotifications.customVapidToken:undefined}),React.createElement(Reamaze.Outbounds.App,{currentUser:this.props.currentUser,outbounds:this.state.outbounds||[],outboundConversations:this.state.outboundConversations,appContext:this.state.appContext}),React.createElement(Reamaze.Live.App,{currentUser:this.state.currentUser,appContext:this.state.appContext}),this.props.pushPrompt&&React.createElement(Reamaze.PushPrompt.App,{currentUser:this.state.currentUser,appContext:this.state.appContext,pushPrompt:this.props.pushPrompt}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.RectSpinner=n({displayName:"Reamaze.RectSpinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-rect-spinner"}," "))},getStyleTag:function(){return t.createElement("style",null,"\n          .reamaze-rect-spinner,\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            background: "+this.props.xColor+";\n            -webkit-animation: load1 1s infinite ease-in-out;\n            animation: load1 1s infinite ease-in-out;\n            width: "+parseInt(this.props.style.width)/4+"px;\n            height: "+.8*parseInt(this.props.style.height)+"px;\n          }\n          .reamaze-rect-spinner {\n            color: "+this.props.xColor+";\n            text-indent: -9999em;\n            margin: 0;\n            position: relative;\n            font-size: 11px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n            -webkit-animation-delay: -0.16s;\n            animation-delay: -0.16s;\n          }\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            position: absolute;\n            top: 0;\n            content: '';\n          }\n          .reamaze-rect-spinner:before {\n            left: -"+parseInt(this.props.style.width)/2.5+"px;\n            -webkit-animation-delay: -0.32s;\n            animation-delay: -0.32s;\n          }\n          .reamaze-rect-spinner:after {\n            left: "+parseInt(this.props.style.width)/2.5+"px;\n          }\n          @-webkit-keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px;\n            }\n          }\n          @keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px\n            }\n          }\n\n        ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},reamaze,_support;!function(t,p,e,n){t.namespace("Reamaze");ReactTransitionGroup.CSSTransitionGroup;Reamaze.Shoutbox=e({displayName:"Reamaze.Shoutbox",propTypes:{ping:n.object,conversations:n.object,conversationsFetched:n.bool,enableKb:n.bool,currentUser:n.object,closePopup:n.func,popupOptions:n.shape({zIndex:n.number,width:n.oneOfType([n.string,n.number]),height:n.oneOfType([n.string,n.number]),xColor:n.string,anchor:n.any,mode:n.string,supportsFullScreen:n.bool,disableChat:n.bool,category:n.string,contactMode:n.string}),label:n.object,appContext:n.object.isRequired,videoCallInformation:n.object,videoCallAnswered:n.bool},getDefaultProps:function(){return{}},getInitialState:function(){return{appMounted:!this.props.popupOptions.anchor}},getApps:function(){return this.props.appContext.route?[p.createElement(Reamaze.Hub.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("hub:")&&!this.props.popupOptions.path,key:"hub",contactHeader:this.props.popupOptions.title,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,videoCallInformation:this.props.videoCallInformation}),p.createElement(Reamaze.Conversations.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),contactMode:this.props.popupOptions.contactMode||this.props.appContext.contactMode,enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("conversations:")&&!this.props.popupOptions.path,key:"conversations",contactHeader:this.props.popupOptions.title,conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},popupOptions:this.props.popupOptions||{},videoCallInformation:this.props.videoCallInformation,brandData:this.props.brandData}),p.createElement(Reamaze.KB.App,{enableKb:this.props.enableKb,currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("kb:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"kb",conversations:this.props.conversations,appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation}),p.createElement(Reamaze.Status.App,{currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("status:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"status",conversations:this.props.conversations,appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation}),p.createElement(Reamaze.VideoCall.App,{currentUser:this.props.currentUser,active:this.state.videoCallActivated,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"video_call",appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation,videoCallAnswered:this.props.videoCallAnswered})]:null},onAppMounted:function(){this.setState({appMounted:!0})},render:function(){var e=this.props,t=e.appContext,n=e.ping,r=e.closePopup,o=this.props.popupOptions,i=o.height,a=_objectWithoutProperties(o,["height"]),s=this.getApps();return i||(i=650),s?p.createElement("div",null,p.createElement("style",null,"\n              .rmz-shoutbox-popup-container .rmz-shoutbox-frame-container {\n                opacity: 0;\n                -webkit-transition: opacity 200ms ease-in;\n                -moz-transition: opacity 200ms ease-in;\n                -o-transition: opacity 200ms ease-in;\n                -ms-transition: opacity 200ms ease-in;\n                transition: opacity 200ms ease-in;\n              }\n            "),p.createElement("div",{className:"rmz-shoutbox-popup-container"},p.createElement(Reamaze.Popup.Popup,_extends({key:"popup",ref:"popup"},a,{maxHeight:i,height:i,minHeight:200,appContext:t}),!this.state.appMounted&&p.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:t.brand.styles.widgetColor}),p.createElement(Reamaze.Popup.BrandedFrame,{ping:n,hidden:!this.state.appMounted,closePopup:r,appContext:t},p.createElement(Reamaze.ShoutboxInit,{closePopup:r,appContext:t}),s),p.createElement(Reamaze.Popup.CloseX,{ref:"popupCloseX",onClick:r,color:t.brand.styles.headerFontColor,appContext:t,fontSize:"25px",height:"50px",width:"64px",textAlign:"right",padding:"18px 12px 12px 12px",top:"0",right:"5px"})))):null}}),Reamaze.ShoutboxInit=e({displayName:"Reamaze.ShoutboxInit",contextTypes:{window:n.object},componentDidMount:function(){t(this.context.window).on("keyup",this.keyHandler)},keyHandler:function(e){t(e.target).is(":input")||27==e.which&&this.props.closePopup()},render:function(){var e=this.props.appContext.fullScreen?"36px":"52px",t=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.95,t.headerBgColor)||"#fafafa";Reamaze.Utils.pSBC(.55,t.headerBgColor);return p.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        #header #secondary-header {\n          text-align: center;\n          font-size: "+(this.props.appContext.fullScreen?"0.9em":"1em")+";\n          margin: 1em 1em 0 1em;\n        }\n        #header #secondary-header .staff-avatars {\n          margin-bottom: 0.8em;\n          height: "+e+";\n        }\n        #header .staff-avatars {\n          height: "+e+";\n        }\n        #header #secondary-header .staff-avatars img, \n        #header .staff-avatars img {\n          width: "+e+";\n          height: "+e+";\n          object-fit: cover;\n          border-radius: "+e+";\n          margin-left: -10px;\n          background: #fff;\n          border: 1px solid #fff;\n          display: inline-block;\n          color: #0000;\n        }\n        #header #secondary-header .staff-avatars img:first-child {\n          margin-left: 0;\n        }\n        #header #secondary-header .availability {\n          font-size: 0.9em;\n        }\n        #header #secondary-header a {\n          margin: 0 15px;\n        }\n        #secondary-header #misc-channels,\n        #secondary-header #chat-actions {\n          margin: 0.8em 2em 0 2em;\n          padding-top: 0.8em;\n          border-top: 1px solid rgba(255,255,255,0.5);\n        }\n        @media screen and (max-width: 480px) {\n          #secondary-header #misc-channels,\n          #secondary-header #chat-actions {\n            margin: 0.8em 0 0 0;\n          }\n        }\n        #secondary-header #misc-channels a {\n          margin: 0 15px;\n          display: inline-block;\n          font-size: 1.4em;\n        }\n        #secondary-header #misc-channels.misc-channels-smaller a {\n          margin: 0 10px;\n          display: inline-block;\n          font-size: 1.1em;\n        }\n        .rmz-fade {\n          transition: opacity 250ms ease-in;\n          opacity: 0.01\n        }\n        .rmz-fade.in {\n          opacity: 1;\n        }\n\n        .card:last-child {\n          margin-bottom: 0;\n        }\n        .card {\n          margin: 0 20px 20px 20px;\n          padding: 15px 20px;\n          box-shadow: 0 3px 20px 0 rgba(0,0,0,.07), 0 0px 1px 0 rgba(0,0,0,.2);\n          background: "+n+";\n          border-radius: 5px 10px;\n          overflow: hidden;\n          border-bottom: 1px solid "+t.headerBgColor+";\n        }\n        .card .card-header {\n          font-weight: bold;\n          color: #666;\n          margin-bottom: 10px;\n        }\n        .card .card-body {\n          position: relative;\n        }\n        .card .card-body.full {\n          margin: 0 -20px;\n        }\n        .card .card-footer {\n          margin-top: 10px;\n        }\n        .card input, .card textarea {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        .card input:focus, .card textarea:focus {\n          opacity: 1;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,n,t,r){e.namespace("Reamaze"),Reamaze.Spinner=t({displayName:"Reamaze.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return e.position="relative",n.createElement("div",{style:e},this.getStyleTag(),n.createElement("div",{className:"reamaze-spinner"}," "))},getStyleTag:function(){var e=this.props.bgColor||"transparent",t=this.props.xColor;return n.createElement("style",null,
"\n          .reamaze-spinner {\n            border: 5px solid "+e+";\n            border-top: 5px solid "+t+";\n            border-radius: 50%;\n            width: 100%;\n            height: 100%;\n            animation: spin 2s linear infinite;\n          }\n          @-webkit-keyframes spin {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        ")}})}(jQuery,React,createReactClass,PropTypes),function(e,f,t,n){e.namespace("Reamaze.Widget"),Reamaze.Widget.Widget=t({displayName:"Reamaze.Widget.Widget",mixins:[TimerMixin],propTypes:{img:n.string,icon:n.string,size:n.oneOfType([n.string,n.number]),label:n.any,position:n.object.isRequired,color:n.string,iconColor:n.string,zindex:n.number,openPopupFunc:n.func,closePopupFunc:n.func,unreadCount:n.number,hideLabel:n.bool,appContext:n.object.isRequired,conversations:n.object,enableBrowserTabAlerting:n.bool},getDefaultProps:function(){return{icon:"reamaze",color:Reamaze.Styles["default"].widgetColor,iconColor:Reamaze.Styles["default"].widgetIconColor,zindex:2147483647,unreadCount:0}},previousDocumentTitle:null,interval:null,getInitialState:function(){var e=this.props.label&&this.props.label.mode?this.props.label.mode:"prompt-3";return{unreadCount:this.props.unreadCount,hideLabel:this.props.hideLabel||-1!==e.indexOf("prompt")&&!!Reamaze.sessionStorage.getItem("seenLabel")&&!this.props.appContext._preview,hideWhoop:!!Reamaze.sessionStorage.getItem("hideWhoop"),latestMessageId:null}},componentWillReceiveProps:function(e){var t={unreadCount:e.unreadCount||0};!this.props.hideLabel&&e.hideLabel&&(t.hideLabel=!0,Reamaze.sessionStorage.setItem("seenLabel","true")),this.setState(t)},componentDidMount:function(){this.previousDocumentTitle=document.title,this.props.label&&"object"==typeof this.props.label&&"notification"==this.props.label.mode&&this.props.label.text&&this.setTimeout(function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[{id:"rmz-label",user:this.props.appContext.brand&&this.props.appContext.brand.name?{name:this.props.appContext.brand.name,avatarUrls:e.map(function(e){return e.avatarUrl})}:null,sound:!!this.props.label.sound,message:this.props.label.text,onClick:function(){this.props.openPopupFunc(),Reamaze.Analytics.track("Shoutbox Prompt Clicked",this.props.label.text)}.bind(this),size:"small","transient":!0,duration:this.props.label.duration}]})}.bind(this),1e3*(this.props.label.delay||0)),this.props.hideLabel&&Reamaze.sessionStorage.setItem("seenLabel","true")},componentDidUpdate:function(e,t){var n=this.getLatestUnreadMessage(),r=!!n&&n.id!=this.state.latestMessageId;if(this.props.enableBrowserTabAlerting&&(t.unreadCount!=this.state.unreadCount||r)&&this.previousDocumentTitle)if(0<this.state.unreadCount){var o="("+this.state.unreadCount+") - "+this.previousDocumentTitle;if(n){var i=document.createElement("span");i.innerHTML=n.body,o=(o="("+this.state.unreadCount+") - "+(i.textContent||i.innerText)).trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ")}this.interval&&this.clearInterval(this.interval);var a=this.setInterval(function(){document.title==o?document.title=this.previousDocumentTitle:document.title=o}.bind(this),2e3);this.interval=a,n&&this.setState({latestMessageId:n.id})}else this.interval&&(document.title=this.previousDocumentTitle,clearInterval(this.interval))},getLatestUnreadMessage:function(){var t=null;return this.props.conversations&&Object.keys(this.props.conversations).forEach(function(e){this.props.conversations[e].unread&&this.props.conversations[e].messages&&this.props.conversations[e].messages.forEach(function(e){(!t||e&&Date.parse(e.createdAt)>Date.parse(t.createdAt))&&(t=e)}.bind(this))}.bind(this)),t},ariaShouboxTrigger:function(e){"Enter"!=e.key&&" "!=e.key||(e.preventDefault(),this._triggerPopup())},render:function(){var e,t=3.25<Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.props.color),Reamaze.Utils.parseColor("#5e5e5e"))?Reamaze.Styles.dark.widgetIconColor:Reamaze.Styles["default"].widgetIconColor;if(this.props.appContext.shoutbox.open)e=f.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},f.createElement("g",{transform:"scale("+this.props.size/30+")"},f.createElement("path",{style:{stroke:t,fill:"rgba(0,0,0,0)",strokeWidth:1},d:"M 10,10 L 20,20 M 20,10 L 10,20"})));else if(this.props.img)e=f.createElement("img",{src:this.props.img,alt:"Chat Button"});else{e=f.createElement("svg",null);var n="M17.328,24.371h-2.707v-2.596h2.707V24.371zM17.328,19.003v0.858h-2.707v-1.057c0-3.19,3.63-3.696,3.63-5.963c0-1.034-0.924-1.826-2.134-1.826c-1.254,0-2.354,0.924-2.354,0.924l-1.541-1.915c0,0,1.519-1.584,4.137-1.584c2.487,0,4.796,1.54,4.796,4.136C21.156,16.208,17.328,16.627,17.328,19.003z",r="M15.985,5.972c-7.563,0-13.695,4.077-13.695,9.106c0,2.877,2.013,5.44,5.147,7.108c-0.446,1.479-1.336,3.117-3.056,4.566c0,0,4.015-0.266,6.851-3.143c0.163,0.04,0.332,0.07,0.497,0.107c-0.155-0.462-0.246-0.943-0.246-1.443c0-3.393,3.776-6.05,8.599-6.05c3.464,0,6.379,1.376,7.751,3.406c1.168-1.34,1.847-2.892,1.847-4.552C29.68,10.049,23.548,5.972,15.985,5.972zM27.68,22.274c0-2.79-3.401-5.053-7.599-5.053c-4.196,0-7.599,2.263-7.599,5.053c0,2.791,3.403,5.053,7.599,5.053c0.929,0,1.814-0.116,2.637-0.319c1.573,1.597,3.801,1.744,3.801,1.744c-0.954-0.804-1.447-1.713-1.695-2.534C26.562,25.293,27.68,23.871,27.68,22.274z",o="M22.34 3.33008H9.66008C6.7164 3.33008 4.33008 5.7164 4.33008 8.66008V29.0353C4.33008 29.5789 4.9433 29.8962 5.38705 29.5823L11.2917 25.4046C11.9673 24.9267 12.7745 24.67 13.602 24.67H22.34C25.2837 24.67 27.67 22.2837 27.67 19.34V8.66008C27.67 5.7164 25.2837 3.33008 22.34 3.33008Z";if("help"==this.props.icon)e=f.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},f.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},f.createElement("path",{fill:t,style:{fill:t},d:n})));else if("chat"==this.props.icon)e=f.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},f.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},f.createElement("g",{transform:"scale(0.75) translate(5.625, 5.625)"},f.createElement("path",{fill:t,style:{fill:t},d:r}))));else if("webChat"==this.props.icon)e=f.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},f.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},f.createElement("g",{transform:"scale(0.7) translate(8, 5.625)"},f.createElement("path",{fill:"none",stroke:t,strokeWidth:3,d:o}))));else{var i="rmz-svg-a",a="url('"+window.location.href.split("#")[0]+"#"+i+"')";e=f.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"},role:"presentation",viewBox:"0 0 1500 1500"},f.createElement("defs",null,f.createElement("filter",{id:i,colorInterpolationFilters:"sRGB"},f.createElement("feFlood",{floodColor:"rgb(0,0,0)",floodOpacity:".078431",result:"flood"}),f.createElement("feComposite",{"in":"flood",in2:"SourceGraphic",operator:"in",result:"composite1"}),f.createElement("feGaussianBlur",{"in":"composite1",result:"blur"}),f.createElement("feOffset",{dx:"0",dy:"100",result:"offset"}),f.createElement("feComposite",{"in":"SourceGraphic",in2:"offset",result:"composite2"}))),f.createElement("g",{transform:"scale(0.69) translate(310, 420) matrix(1.25,0,0,-1.25,0,1500)",fill:t},f.createElement("path",{transform:"matrix(.8 0 0 -.8 0 1200)",d:"m200.99 120.33c0 506.74 136.92 826.31 603.08 826.31 340.98 0 560.73 133.73 560.73 370.28 0 2.7488-1.1973-337.77-1.1973-665.21 0-378.91-246.9-531.38-721.76-531.38-169.36 0-433.51-0.0125-440.86 0zm348.26 281.17h499.32c21.899 0 39.529 17.63 39.529 39.529v39.529c0 21.899-17.63 39.527-39.529 39.527h-499.32c-21.899 0-39.529-17.628-39.529-39.527v-39.529c0-21.899 17.63-39.529 39.529-39.529zm68.633 190.29h436.95c18.468 0 33.336 14.868 33.336 33.336v43.738c0 18.468-14.868 33.336-33.336 33.336h-436.95c-18.468 0-33.336-14.868-33.336-33.336v-43.738c0-18.468 14.868-33.336 33.336-33.336z",filter:a}),f.createElement("path",{transform:"matrix(1 0 0 -1 -43.403 681.12)",d:"m612.5 346.19c-297.15 0-461.08-216.47-461.08-471.36-0.4161 61.018 1.6005 269.08 1.6005 269.08 0 163.78 118.75 379.67 461.33 379.67 109.55 0 142.69-0.9614 407.33-0.9614 0-110.17-118.67-176.43-409.18-176.43z",fillOpacity:".6",filter:a})))}}var s=!1;if(!this.state.hideWhoop){var p=!0;this.props.label&&"default"!==this.props.label.mode&&"notification"!==this.props.label.mode&&0===parseInt(this.props.label.delay||0,10)&&(p=!1),s=p&&null!==Reamaze.sessionStorage.setItem("hideWhoop","1")}var c=this.getStyleTag(s),l=this.getStyles(),u=this.props.label,d="rmz-chat-bubble";this.props.label&&"object"==typeof this.props.label&&("default"==this.props.label.mode?(u=this.props.label.text,d="rmz-static"):(u=null,"notification"==this.props.label.mode&&(d="rmz-notification")));var h=f.createElement("div",{className:"rmz-label-text",role:"button","aria-label":this.props.appContext.brand.preferences?this.props.appContext.brand.preferences.trans_contact_us_prompt:"",dangerouslySetInnerHTML:{__html:u}});return f.createElement("span",{onClick:this._triggerPopup},f.createElement("div",{"aria-label":"Chat widget toggle",tabIndex:"0",role:"button",id:"reamaze-widget",onKeyDown:this.ariaShouboxTrigger,style:l.widget,className:"whoop "+d+" "+(this.props.img?"rmz-custom":"")},c,f.createElement("span",{id:"reamaze-widget-icon"},e),"rmz-static"==d&&f.createElement("span",{id:"reamaze-widget-label-container"},f.createElement("div",{id:"reamaze-widget-label"},h)),0<this.state.unreadCount&&f.createElement("span",{style:l.unreadPill,onClick:this._triggerPopup},99<this.state.unreadCount?"99+":this.state.unreadCount)),"rmz-chat-bubble"==d&&this.props.label&&!this.state.hideLabel&&f.createElement("div",{style:{zIndex:this.props.zindex,position:"relative",cursor:"pointer"}},f.createElement(Reamaze.Widget.Label,{size:this.props.size,label:this.props.label,position:this.props.position,color:this.props.color,iconColor:this.props.iconColor})))},getStyleTag:function(e){var t=Math.min(this.props.size/2,16)+"px",n="\n        #reamaze-widget:hover {\n          opacity: 1;\n          transform: translate3d(0, -4px, 0);\n          box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n        }\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n\n        .rmz-label-text {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+t+";\n          line-height: "+this.props.size+"px;\n        }\n\n        #reamaze-widget-label {\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+t+";\n          margin-right: 0;\n        }\n        #reamaze-widget-icon img {\n          width: 100%;\n          height: 100%;\n          background: transparent;\n          opacity: 1;\n          display: inline-block;\n        }\n        #reamaze-widget #reamaze-widget-icon {\n          display: block;\n          overflow: hidden;\n          width: "+this.props.size+"px;\n          height: "+this.props.size+"px;\n          border-radius: "+this.props.size+"px;\n        }\n        #reamaze-widget.rmz-static {\n          max-width: calc(100vw - 40px);\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n        }\n        #reamaze-widget.rmz-custom.rmz-static #reamaze-widget-icon {\n          margin-right: 10px;\n        }\n        #reamaze-widget.rmz-static #reamaze-widget-icon {\n          display: inline-block;\n          border-radius: "+this.props.size+"px;\n          -webkit-flex-shrink: 0;\n          -moz-flex-shrink: 0;\n          -ms-flex: 0 1 auto;\n          flex-shrink: 0;\n        }\n        #reamaze-widget.rmz-static .rmz-label-text {\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n        #reamaze-widget.rmz-static #rmz-widget-label {\n          display: block;\n        }\n      ";if(e){var r=function(e){return"            -webkit-transform: scale("+e+");            transform: scale("+e+");          "},o=function(e){return"            -moz-animation: "+e+";            -webkit-animation: "+e+";            animation: "+e+";          "},i=function(e,t){return"            @-moz-keyframes "+e+" {"+t+"}            @-webkit-keyframes "+e+" {"+t+"}            @keyframes "+e+" {"+t+"}          "},a="          0% {"+r(0)+"}          50% {"+r(1.3)+"}          100% {"+r(1)+"}        ",s="          0% { opacity: 0; }          40% { opacity: 0; }          100% { opacity: 1; }        ";n+="          .whoop { "+o("0.4s whoop 0s")+"}          .whoop #reamaze-widget-icon { "+o("0.6s toothpaste 0s")+"}        ",n+=i("whoop",a)+i("toothpaste",s)}return f.createElement("style",{dangerouslySetInnerHTML:{__html:n}})},getStyles:function(){var e=this.props.color;this.props.gradient&&(e="linear-gradient(135deg, "+e+" 0%, "+(Reamaze.Utils.pSBC(.3,e)||e)+" 100%)");var t={widget:{position:"fixed",height:this.props.size+"px",cursor:"pointer",opacity:.95,zIndex:this.props.zindex,background:e,borderRadius:this.props.size+"px",boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.2)",perspective:"1000px",backfaceVisibility:"hidden",transition:"all 0.2s ease-in-out"},unreadPill:{position:"absolute",top:"-5px",right:"-5px",padding:"5px 7px 4px",minWidth:"12px",borderRadius:"20px",fontSize:"11px",lineHeight:"11px",textAlign:"center",backgroundColor:"#F00",fontFamily:"Nunito, Helvetica, Arial, sans-serif",color:"#fdfdfd",boxShadow:"0 0 1px #b00"}};for(var n in this.props.position)t.widget[n]=this.props.position[n];return t},_triggerPopup:function(){this.props.label&&(-1!==(this.props.label.mode?this.props.label.mode:"prompt-3").indexOf("prompt")&&this.setState({hideLabel:!0}));if(this.props.appContext.shoutbox.open)this.props.closePopupFunc(e);else{var e={source:"widget"};Reamaze.Analytics.track("Shoutbox Trigger Clicked"),this.props.openPopupFunc(e)}}})}(jQuery,React,createReactClass,PropTypes),function(e,s,t,n){var p=ReactTransitionGroup.CSSTransitionGroup;Reamaze.Widget.Label=t({displayName:"Reamaze.Widget.Label",mixins:[TimerMixin],propTypes:{size:n.number,position:n.object,label:n.shape({text:n.string,mode:n.oneOf(["default","slideout","fadein","prompt-1","prompt-2","prompt-3"]),delay:n.number,duration:n.number}),color:n.string,iconColor:n.string},getInitialState:function(){return{visible:!1}},componentDidMount:function(){if(this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.delay,10)),0<e?this.setTimeout(function(){this.isMounted()&&this.showLabel()}.bind(this),1e3*e):this.showLabel()}},componentDidUpdate:function(e,t){!t.visible&&this.state.visible&&Reamaze.Analytics.track("Shoutbox Prompt Shown",this.props.label.text,undefined,!0)},render:function(){if(this.props.label){var e=this.getStyleTag(),t=this.props.label.text,n=this.props.label.mode?this.props.label.mode:"prompt-3",r="rmz-label-"+n,o=r;this.state.hover&&(o+=" rmz-hover");var i=s.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:t}}),a=null;return this.state.visible&&t&&(a=s.createElement("span",{key:"label",id:"reamaze-widget-label",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:o},-1!==n.indexOf("prompt")&&s.createElement("span",{className:"rmz-closeX",onClick:this.hideLabel},String.fromCharCode(215)),i)),s.createElement("span",{id:"reamaze-widget-label-container"},e,s.createElement(p,{transitionName:r,transitionEnterTimeout:750,transitionLeaveTimeout:750},a))}return null},getStyleTag:function(){var e=Math.min(this.props.size/2,16)+"px",t={__html:"\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n        #reamaze-widget-label {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+e+";\n          line-height: "+this.props.size+"px;\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+e+";\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter {\n          float: right;\n          margin-right: -1000px;\n          -webkit-transition: margin-right 0.75s ease-out;\n          -moz-transition: margin-right 0.75s ease-out;\n          -o-transition: margin-right 0.75s ease-out;\n          transition: margin-right 0.75s ease-out;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter-active {\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter {\n          opacity: 0;\n          -webkit-transition: opacity 0.75s;\n          -moz-transition: opacity 0.75s;\n          -o-transition: opacity 0.75s;\n          transition: opacity 0.75s;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter-active {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt] {\n          position: fixed;\n          background: "+this.props.color+";\n          padding: 10px 15px;\n          border-radius: 5px;\n          color: #fff;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          line-height: 1.5em;\n          -webkit-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -moz-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -o-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt],\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter.rmz-label-prompt-2-enter-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.left?"left: "+parseInt(this.props.position.left,10)+"px;":"")+"\n          "+(this.props.position.right?"right: "+parseInt(this.props.position.right,10)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt]:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 100%;\n          "+(this.props.position.left?"left":"right")+": 10px;\n          border-"+(this.props.position.top?"bottom":"top")+": 5px solid "+this.props.color+";\n          border-left: 5px solid transparent;\n          border-right: 5px solid transparent;\n        }\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter,\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+this.props.size/2)+"px;":"")+"\n        }\n\n        #reamaze-widget-label .rmz-label-text {\n          line-height: 1.5em;\n          font-size: 14px;\n          color: #585858;\n        }\n\n        #reamaze-widget-label.rmz-label-prompt-3 {\n          position: fixed;\n          background: white;\n          padding: 10px 15px;\n          border-radius: 5px;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          -webkit-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -moz-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -o-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          transition: left 0.4s, right 0.4s, opacity 0.75s;\n          box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgb(195, 195, 195)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter.rmz-label-prompt-3-enter-active,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n        }\n        #reamaze-widget-label.rmz-label-prompt-3:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 39%;\n          "+(this.props.position.left?"left":"right")+": -5px;\n          box-shadow: "+(this.props.position.left?"-1px -1px":"1px 1px")+" 0px #D6D6D6;\n          width: 10px;\n          height: 10px;\n          background: white;\n          border: none;\n          transform: rotate(-45deg)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter {\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+this.props.size/2)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter] {\n          opacity: 0;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter-active] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave-active] {\n          opacity: 0;\n        }\n        #reamaze-widget-label .rmz-closeX {\n          position: absolute;\n          width: 1em;\n          height: 1em;\n          line-height: 0.9;\n          font-size: 13px;\n          display: none;\n          top: -9px;\n          right: -9px;\n          text-align: center;\n          background: rgba(0, 0, 0, 0.5);\n          border-radius: 20px;\n          color: white;\n          padding: 3px;\n          box-sizing: content-box;\n        }\n        #reamaze-widget-label.rmz-hover .rmz-closeX {\n          display: block;\n        }\n      "};return s.createElement("style",{dangerouslySetInnerHTML:t})},mouseOver:function(){this.setState({hover:!0})},mouseOut:function(){this.setState({hover:!1})},showLabel:function(){this.setState({visible:!0},function(){if(Reamaze.sessionStorage.setItem("seenLabel","true"),this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.duration,10)),0<e&&this.setTimeout(function(){this.isMounted()&&this.hideLabel()}.bind(this),1e3*e)}}.bind(this))},hideLabel:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.setState({visible:!1})}})}(jQuery,React,createReactClass,PropTypes),function(e,n,t,r,o){e.namespace("Reamaze.Shared"),Reamaze.Shared.Card=r({mixins:[TimerMixin],displayName:"Reamaze.Shared.Card",propTypes:{appContext:o.object.isRequired,id:o.string.isRequired,loading:o.bool},contextTypes:{window:o.object},getDefaultProps:function(){return{}},render:function(){var e=this.props.appContext.brand.styles,t=Reamaze.Utils.pSBC(.95,e.headerBgColor)||"#fafafa";return n.createElement("div",{id:this.props.id,className:"card"},this.props.loading&&n.createElement(Reamaze.Spinner,{xColor:e.widgetColor,bgColor:t,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}}),n.createElement("div",{style:{display:this.props.loading?"none":"block"}},this.props.children))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,a,t,n,r){e.namespace("Reamaze.Shared"),Reamaze.Shared.Header=n({mixins:[TimerMixin],displayName:"Reamaze.Shared.Header",propTypes:{enableKb:r.bool,appContext:r.object.isRequired,chatIsLive:r.bool,backButton:r.bool,onBackButtonClicked:r.func,header:r.any,secondaryHeader:r.any},contextTypes:{window:r.object},getDefaultProps:function(){return{header:!1,secondaryHeader:!1}},getHeader:function(){var e=!1!==this.props.header?this.props.header&&this.props.header:this.props.appContext.brand.preferences.trans_popup_header;return this.props.appContext.shoutboxHeaderLogo&&"string"==typeof this.props.appContext.brand.brandLogoUrl?a.createElement("div",{id:"nav-c-header"},a.createElement("img",{src:this.props.appContext.brand.brandLogoUrl,alt:this.props.appContext.brand.name,style:{maxHeight:"50px",maxWidth:"150px"}})):this.props.allowHtmlHeader&&"string"==typeof e?a.createElement("div",{id:"nav-c-header",dangerouslySetInnerHTML:{__html:e}}):a.createElement("div",{id:"nav-c-header"},e)},getSecondaryHeader:function(){if(!1!==this.props.secondaryHeader)return this.props.secondaryHeader&&a.createElement("div",{id:"secondary-header"},this.props.secondaryHeader);var e=this.props.appContext.brand.facebook.show_facebook_messenger||this.props.appContext.brand.facebook.show_facebook_page||this.props.appContext.brand.twitter||this.props.appContext.brand.instagram||this.props.appContext.brand.voice||this.props.appContext.brand.whatsapp||this.props.appContext.fullScreen&&this.props.appContext.brand.sms,t=this.props.enableKb&&this.props.appContext.brand.kb,n=this.props.appContext.brand.allowIncidents&&0<this.props.appContext.brand.activeIncidents.length,r=!!e||t,o=[];r&&(this.props.appContext.brand.facebook.show_facebook_messenger&&o.push(a.createElement("a",{href:"https://m.me/"+this.props.appContext.brand.facebook.messenger_slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook Messenger"},a.createElement("i",{className:"fab rmzfa rmzfa-facebook-messenger"}))),this.props.appContext.brand.facebook.show_facebook_page&&o.push(a.createElement("a",{href:"https://facebook.com/"+this.props.appContext.brand.facebook.slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook"},a.createElement("i",{className:"fab rmzfa rmzfa-facebook"}))),this.props.appContext.brand.twitter&&o.push(a.createElement("a",{href:"https://www.twitter.com/"+this.props.appContext.brand.twitter,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Twitter"),title:"Twitter"},a.createElement("i",{className:"fab rmzfa rmzfa-twitter"}))),this.props.appContext.brand.instagram&&o.push(a.createElement("a",{href:"https://www.instagram.com/"+this.props.appContext.brand.instagram,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Instagram"),title:"Instagram"},a.createElement("i",{className:"fab rmzfa rmzfa-instagram"}))),this.props.appContext.brand.voice&&o.push(a.createElement("a",{href:"tel:"+this.props.appContext.brand.voice,className:"anim-btn",onClick:this.onChannelClick.bind(this,"Phone")},a.createElement("i",{className:"fas rmzfa rmzfa-phone",style:{fontSize:"0.9em"}}))),this.props.appContext.brand.sms&&this.props.appContext.fullScreen&&o.push(a.createElement("a",{href:"sms:"+this.props.appContext.brand.sms,className:"anim-btn",title:"SMS",onClick:this.onChannelClick.bind(this,"SMS")},a.createElement("i",{className:"fas rmzfa rmzfa-sms"}))),this.props.appContext.brand.whatsapp&&o.push(a.createElement("a",{href:"https://wa.me/"+this.props.appContext.brand.whatsapp.replace("+",""),className:"anim-btn",target:"_blank",onClick:this.onChannelClick.bind(this,"WhatsApp"),title:"WhatsApp"},a.createElement("i",{className:"fab rmzfa rmzfa-whatsapp"}))),t&&o.push(a.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToKB,title:"FAQ"},a.createElement("i",{className:"fas rmzfa rmzfa-question-circle"}))),n&&o.push(a.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToStatusPage,title:"Status"},a.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"}))));var i=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return a.createElement("div",{id:"secondary-header"},i.length&&a.createElement("div",{className:"staff-avatars"},i.map(function(e,t){return a.createElement("img",{key:t,title:e.name,src:e.avatarUrl,style:{position:"relative",zIndex:3-t}})}.bind(this))),a.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.props.chatIsLive,brand:this.props.appContext.brand}),r&&a.createElement("div",{id:"misc-channels",className:"misc-channels-"+(6<o.length?"smaller":"larger")},o))},onChannelClick:function(e){Reamaze.Analytics.track("Channel Link Clicked",e)},_goToKB:function(){this.onChannelClick("FAQ"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index"}})},_goToStatusPage:function(){this.onChannelClick("Status Page"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})},render:function(){return a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"15px",paddingRight:"15px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons",style:{position:"relative"}},this.props.backButton?[a.createElement("div",{key:"stub",style:{width:"35px",height:"1px"}}),a.createElement("div",{key:"hleft",style:{width:"35px",position:"absolute",top:0,bottom:0}},a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onBackButtonClicked(e)}.bind(this),className:"anim-btn","aria-label":this.props.appContext.brand.preferences.trans_navigation_back},a.createElement("i",{className:"fas rmzfa rmzfa-chevron-left"})))]:a.createElement("div",{style:{width:"35px",height:"1px"}})),a.createElement("div",{className:"nav-c",style:{width:"100%"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"}))),this.getSecondaryHeader())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(i,a,e,t,n){i.namespace("Reamaze.Status"),Reamaze.Status.App=t({propTypes:{enableKb:n.bool,currentUser:n.object,active:n.bool,popupOptions:n.object,onAppMounted:n.func,conversations:n.object,appContext:n.object.isRequired,chatIsLive:n.bool,videoCallInformation:n.object},contextTypes:{window:n.object},getDefaultProps:function(){return{}},getInitialState:function(){return{statusLoaded:!1}},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getHeader:function(){return a.createElement("div",{id:"nav-c-header"},this.props.appContext.brand.preferences.trans_status_header)},getContent:function(){var e,t=i.param({sso:this.props.currentUser.ssoData(),popup:1}),n=this.getPath();e=(n=n+(0<n.indexOf("?")?"&":"?")+t).match(/^http/)?n:this.props.appContext.baseUrl+(0!==n.indexOf("/status")?"/status":"")+n;var r={width:"100%",height:"100%",overflowY:"hidden"},o={position:"relative"};return a.createElement("div",{style:r},!this.state.statusLoaded&&a.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),a.createElement("iframe",{title:this.props.appContext.brand.preferences.trans_status_header,style:o,src:e,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",
allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({statusLoaded:!0})}.bind(this)}))},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),a.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},a.createElement("style",null,"\n          #content {\n            margin-right: 0;\n          }\n        "),a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},a.createElement("div",null,function(){if(this.props.conversations&&0<Object.keys(this.props.conversations).length){var e=0;for(var t in this.props.conversations)this.props.conversations[t].unread&&e++;return a.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations,"aria-label":this.props.appContext.brand.preferences.trans_contact_us_past_conversations},a.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),0<e&&a.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked,"aria-label":this.props.appContext.brand.preferences.trans_navigation_home},a.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),a.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"})))),a.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),a.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid rgba(0,0,0,0.05)"}})),a.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,o,t,n,r){e.namespace("Reamaze.VideoCall"),Reamaze.VideoCall.App=n({propTypes:{enableKb:r.bool,currentUser:r.object,active:r.bool,popupOptions:r.object,onAppMounted:r.func,conversations:r.object,appContext:r.object.isRequired,chatIsLive:r.bool,videoCallInformation:r.object},contextTypes:{window:r.object},getDefaultProps:function(){return{}},getInitialState:function(){return{answered:!1}},onAnswerClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{}})},onDeclineClick:function(){this.triggerVideoCallDeclined()},_onVideoCallEnded:function(){this.setState({answered:!1}),this.triggerVideoCallDeclined()},triggerVideoCallDeclined:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}})},render:function(){var t=this,e=this.props,n=e.videoCallInformation,r=(e.videoCallAnswered,e.appContext);this.state.answered;return n.offer===undefined?null:this.props.videoCallAnswered?o.createElement("div",{id:"rmz-video-call-wrapper"},o.createElement(Reamaze.Conversations.VideoCall,{appContext:r,currentUser:this.props.currentUser,offer:n.offer,channel:n.channel,remoteUser:n.user,peerConnection:n.peerConnection,onCallEnded:this._onVideoCallEnded})):"conversations:show"===r.route?null:o.createElement("div",{id:"rmz-video-call-wrapper"},o.createElement("style",{type:"text/css"},"\n            #rmz-video-call-wrapper {\n              position: fixed;\n              top: 16px;\n              left: 8px;\n              width: calc(100% - 16px);\n              z-index: 2147483647;\n            }\n\n            @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {\n              #rmz-video-call-notification {\n                -webkit-backdrop-filter: blur(15px);\n                backdrop-filter: blur(15px);\n              }\n            }\n\n            #rmz-video-call-notification {\n              box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n              background: rgba(255, 255, 255, 0.8);\n              width: 100%;\n              border-radius: 8px;\n              padding: 12px;\n              display: flex;\n            }\n\n            .video-call-message-user {\n              width: 40px;\n            }\n\n            .video-call-message-user img {\n              width: 32px;\n              height: 32px;\n              border-radius: 50%;\n            }\n\n            .video-call-message-wrap {\n              flex: 1;\n            }\n\n            .video-call-message {\n              margin-bottom: 16px;\n            }\n          "),o.createElement("div",{id:"rmz-video-call-notification"},o.createElement("div",{className:"video-call-message-user"},o.createElement("img",{src:n.user.avatar,alt:n.user.name})),o.createElement("div",{className:"video-call-message-wrap"},o.createElement("div",{className:"video-call-message"},this.props.appContext.brand.preferences.trans_video_prompt_text),o.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.onAnswerClick},this.props.appContext.brand.preferences.trans_video_answer_button_text),o.createElement("button",{className:"btn btn-link anim-btn",onClick:this.onDeclineClick},this.props.appContext.brand.preferences.trans_video_decline_button_text))),o.createElement("audio",{src:"/audio/video-call/client_ringing.mp3",autoPlay:!0,ref:function(e){return t.ringingAudio=e},loop:!0,volume:.1,controls:!1}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.extend(Reamaze,{Analytics:{track:function(t,n,r,o){var i="Reamaze";this._trackGtag(i,t,n,r,o).then(function(e){return e.tracked?e:this._trackGa(i,t,n,r,o)}.bind(this)).then(function(e){return e.tracked?e:this._trackGaq(i,t,n,r,o)}.bind(this))["catch"](function(e){console.log(e)}),this._trackCallbacks(i,t,n,r,o)},_trackGtag:function(n,r,o,i,a){return new Promise(function(e){if("function"!=typeof window.gtag||!window.dataLayer||!window.dataLayer.find(function(e){return 2<e.length&&"config"===e[0]&&!!e[1].match(/^UA-/)}))return e({tracked:!1});var t={event_category:n,non_interaction:!!a};o&&(t.event_label=o),"number"==typeof i&&(t.event_value=i);try{return window.gtag("event",r,t),e({tracked:!0})}catch(error){return console.log("Re:amaze GA logging cancelled due to gtag error"),e({tracked:!1})}})},_trackGa:function(r,o,i,a,s){return new Promise(function(n){if("function"!=typeof window.ga)return n({tracked:!1});i||(i=undefined),"number"!=typeof a&&(a=undefined),window.ga(function(e){var t=e;if(t||(t=window.ga.getAll()[0]),t)return t.send("event",r,o,i,a,{nonInteraction:!!s}),n({tracked:!0})})})},_trackGaq:function(t,n,r,o,i){return new Promise(function(e){return window._gaq&&window._gaq.push?("number"!=typeof o&&(o=undefined),window._gaq.push(["_trackEvent",t,n,r,o,!!i]),e({tracked:!0})):e({tracked:!1})})},_trackCallbacks:function(n,r,o,i,a){return new Promise(function(e){if(Reamaze._callbacks&&"function"==typeof Reamaze._callbacks.analytics_track_callback){var t={category:n,name:r,nonInteraction:!!a};return o&&(t.label=o),"number"==typeof i&&(t.value=i),Reamaze._callbacks.analytics_track_callback(t),e({tracked:!0})}return e({tracked:!1})})}}}),jQuery(document).on("Reamaze.init",function(e,t){window.InstantClick&&t&&window.InstantClick.on("change",function(e){e||Reamaze&&Reamaze.reload&&Reamaze.reload()})}),jQuery.extend(Reamaze,{ec:function(e){function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,o,i){return u(a(u(u(t,e),u(r,i)),o),n)}function d(e,t,n,r,o,i,a){return s(t&n|~t&r,e,t,o,i,a)}function h(e,t,n,r,o,i,a){return s(t&r|n&~r,e,t,o,i,a)}function f(e,t,n,r,o,i,a){return s(t^n^r,e,t,o,i,a)}function m(e,t,n,r,o,i,a){return s(n^(t|~r),e,t,o,i,a)}function p(e,t){var n,r,o,i,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,p=-271733879,c=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)p=m(p=m(p=m(p=m(p=f(p=f(p=f(p=f(p=h(p=h(p=h(p=h(p=d(p=d(p=d(p=d(o=p,c=d(i=c,l=d(a=l,s=d(r=s,p,c,l,e[n],7,-680876936),p,c,e[n+1],12,-389564586),s,p,e[n+2],17,606105819),l,s,e[n+3],22,-1044525330),c=d(c,l=d(l,s=d(s,p,c,l,e[n+4],7,-176418897),p,c,e[n+5],12,1200080426),s,p,e[n+6],17,-1473231341),l,s,e[n+7],22,-45705983),c=d(c,l=d(l,s=d(s,p,c,l,e[n+8],7,1770035416),p,c,e[n+9],12,-1958414417),s,p,e[n+10],17,-42063),l,s,e[n+11],22,-1990404162),c=d(c,l=d(l,s=d(s,p,c,l,e[n+12],7,1804603682),p,c,e[n+13],12,-40341101),s,p,e[n+14],17,-1502002290),l,s,e[n+15],22,1236535329),c=h(c,l=h(l,s=h(s,p,c,l,e[n+1],5,-165796510),p,c,e[n+6],9,-1069501632),s,p,e[n+11],14,643717713),l,s,e[n],20,-373897302),c=h(c,l=h(l,s=h(s,p,c,l,e[n+5],5,-701558691),p,c,e[n+10],9,38016083),s,p,e[n+15],14,-660478335),l,s,e[n+4],20,-405537848),c=h(c,l=h(l,s=h(s,p,c,l,e[n+9],5,568446438),p,c,e[n+14],9,-1019803690),s,p,e[n+3],14,-187363961),l,s,e[n+8],20,1163531501),c=h(c,l=h(l,s=h(s,p,c,l,e[n+13],5,-1444681467),p,c,e[n+2],9,-51403784),s,p,e[n+7],14,1735328473),l,s,e[n+12],20,-1926607734),c=f(c,l=f(l,s=f(s,p,c,l,e[n+5],4,-378558),p,c,e[n+8],11,-2022574463),s,p,e[n+11],16,1839030562),l,s,e[n+14],23,-35309556),c=f(c,l=f(l,s=f(s,p,c,l,e[n+1],4,-1530992060),p,c,e[n+4],11,1272893353),s,p,e[n+7],16,-155497632),l,s,e[n+10],23,-1094730640),c=f(c,l=f(l,s=f(s,p,c,l,e[n+13],4,681279174),p,c,e[n],11,-358537222),s,p,e[n+3],16,-722521979),l,s,e[n+6],23,76029189),c=f(c,l=f(l,s=f(s,p,c,l,e[n+9],4,-640364487),p,c,e[n+12],11,-421815835),s,p,e[n+15],16,530742520),l,s,e[n+2],23,-995338651),c=m(c,l=m(l,s=m(s,p,c,l,e[n],6,-198630844),p,c,e[n+7],10,1126891415),s,p,e[n+14],15,-1416354905),l,s,e[n+5],21,-57434055),c=m(c,l=m(l,s=m(s,p,c,l,e[n+12],6,1700485571),p,c,e[n+3],10,-1894986606),s,p,e[n+10],15,-1051523),l,s,e[n+1],21,-2054922799),c=m(c,l=m(l,s=m(s,p,c,l,e[n+8],6,1873313359),p,c,e[n+15],10,-30611744),s,p,e[n+6],15,-1560198380),l,s,e[n+13],21,1309151649),c=m(c,l=m(l,s=m(s,p,c,l,e[n+4],6,-145523070),p,c,e[n+11],10,-1120210379),s,p,e[n+2],15,718787259),l,s,e[n+9],21,-343485551),s=u(s,r),p=u(p,o),c=u(c,i),l=u(l,a);return[s,p,c,l]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=undefined,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function t(e){return c(p(l(e),8*e.length))}function n(e,t){var n,r,o=l(e),i=[],a=[];for(i[15]=a[15]=undefined,16<o.length&&(o=p(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=p(i.concat(l(t)),512+8*t.length),c(p(a.concat(r),640))}function r(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function o(e){return unescape(encodeURIComponent(e))}function i(e){return t(o(e))}function g(e){return r(i(e))}function y(e,t){return n(o(e),o(t))}function v(e,t){return r(y(e,t))}function b(e,t,n){return t?n?y(t,e):v(t,e):n?i(e):g(e)}return b(e+"f34c9278042a")}}),function(v,b,C){v.extend(Reamaze,{seq_id:0,embed:function(e,o,t,i){var a=this.seq_id++,s=(i=i||{},{sso:this._visitor.ssoData(),framed:1}),p=!0;top!=self?p=!1:"undefined"!=typeof i.trackHistory&&(p=i.trackHistory),p||(a=a+"-"+parseInt(1e4*Math.random(),10)),s=v.extend(s,{no_subject:!1===t||i.hideSubject?1:0,require_attachment:i.requireAttachment?1:0,form_id:i.formId?i.formId:null}),s=i.channel?v.extend(s,{category_id:i.channel}):v.extend(s,{category_id:""}),t&&(s=v.extend(s,{conversation:{subject:t}}));var n=function(){var e="/";"contact"==o?e="/conversations/new":"conversations"==o?e="/conversations":i.path&&(e=i.path);var t=new RegExp("^#reamaze#"+a+"#"),n=new RegExp("^#reamaze%23"+a+"%23");p&&(window.location.hash.match(t)?e=window.location.hash.substring(t.toString().length-3):window.location.hash.match(n)?(e=window.location.hash.substring(n.toString().length-3),e=decodeURIComponent(e)):window.location.hash.match(/^#!/)&&(e=window.location.hash.substring(2)));var r=(e+=(-1<e.indexOf("?")?"&":"?")+v.param(s)).match(/(\#.*)(\?)/);return r&&r.length&&(e=e.replace(r[1],""),e+=r[1]),e},r=function(){var e=n();return e.match(/^http/)?e:this._baseUrl+e}.bind(this),c=function(e){var r=e.match(/(\#.*)(\?|$)/);r&&r.length&&v("iframe").each(function(e,t){var n={_command:"reamaze:getAnchorHeight",_anchor:r[1]};v.postMessage(n,t.src,t.contentWindow)})}.bind(this);v(window).on("Reamaze.anchorHeight",function(e,t){if(v("iframe[name="+t._name+"]").length){var n=document.querySelector("iframe[name="+t._name+"]").getBoundingClientRect().top;window.scrollTo(0,n+parseInt(t._anchorHeight))}});var l=v(e).data("embed-ele");if(0<v(e).length&&!l){var u={title:"FAQ",width:"100%",src:r(),scrolling:"no",frameborder:"0",allowtransparency:"true",name:"_embed_"+a,allowfullscreen:"true"};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(u.style="width:1px;min-width:100%;*width:100%;"),l=v("<iframe/>").attr(u),v(e).empty();var d=v('<div class="rmz-embed-container" style="width: 100%; position: relative;"></div>'),h=v('<span class="reamaze-rect-spinner-container"></span>');d.append(h),v(e).html(d),C.render(b.createElement(Reamaze.RectSpinner,{xColor:i.loadingColor||Reamaze.styles.widgetColor||"#ccc",style:{position:"absolute",width:"15px",height:"20px",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-13px"}}),h.get(0)),d.append(l),v(e).data("embed-ele",l),l[0].onload=function(){c(n())}.bind(this);var f;v(document).on("Reamaze.resize",function(e,t){t._height&&t._name=="_embed_"+a&&(v(l).height(t._height),C.unmountComponentAtNode(h.get(0)))}),v(document).on("Reamaze.navigate",function(e,t){t._url&&t._name=="_embed_"+a&&p&&(f=t._url,window.location.replace(window.location.pathname+window.location.search+"#reamaze#"+a+"#"+t._url)),t._height&&t._name=="_embed_"+a&&v(l).height(t._height),window.location.hash&&-1!=window.location.hash.indexOf("#reamaze#"+a+"#")&&window.scrollTo(0,v(l).offset().top<350?0:v(l).offset().top)}),v(window).on("hashchange",function(){if(!window.location.hash||0===window.location.hash.indexOf("#!")||0===window.location.hash.indexOf("#reamaze#"+a+"#")){var e=r(),t=window.location.hash.split("#reamaze#"+a+"#")[1];f!=t&&(l[0].contentWindow.location.replace(e),f=t)}})}else l&&(l[0].src=r());if(l&&(this._contactCustomFields||this._customFields)&&"contact"===o){var m=n();if(!m.match(/^http/)){var g=new Reamaze._iframeform(r(),l),y=this._contactCustomFields||this._customFields;y=this._contactCustomFields&&i.formId?y["rmz_form_id_"+i.formId]:y,g.addParameter("sparams",v.param({sso:this._visitor.ssoData(),custom_fields:y,framed:1})),g.addParameter("destination",m),g.send()}}},_registerEmbedListeners:function(){var n=this;this._ui.embed&&this._ui.embed.container&&this.embed(v(this._ui.embed.container),this._ui.embed.mode,this._ui.embed.subject),v("[data-reamaze-embed]").each(function(e,t){n.embed(v(t),v(t).data("reamaze-embed"),v(t).data("reamaze-embed-subject"),{path:v(t).data("reamaze-embed-path"),trackHistory:"off"!==v(t).data("reamaze-embed-track-history"),channel:v(t).data("reamaze-embed-channel"),allowfullscreen:!!v(t).data("reamaze-embed-allowfullscreen"),loadingColor:v(t).data("reamaze-embed-loading-color")||"#ccc",formId:v(t).data("reamaze-embed-form-id"),hideSubject:!!v(t).data("reamaze-embed-disable-subject"),requireAttachment:!!v(t).data("reamaze-embed-require-attachment")})})}}),v(document).on("Reamaze.init",function(){Reamaze.seq_id=0,Reamaze._registerEmbedListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n){n.extend(Reamaze,{event:function(e){var t={sso:this._visitor.ssoData(),event:e};n.ajax(this._baseDataUrl+"/data/events.json",{type:"POST",dataType:"json",data:n.param(t)})}})}(jQuery),function(t){t.extend(Reamaze,{notify:function(e){setTimeout(function(){t(window).trigger("Reamaze.notify",[e])},0)},cue:function(e){t(document).trigger("Reamaze.Outbounds.new",e)},removeCue:function(e){t(document).trigger("Reamaze.Outbounds.remove",e)},removeAllCues:function(){t(document).trigger("Reamaze.Outbounds.removeAll")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(r){r.extend(Reamaze,{closePopup:function(){r(document).trigger("Reamaze.closePopup")},popup:function(e,t,n){r(document).trigger("Reamaze.openPopup",[r.extend({},n,{path:e,minimized:!1,anchor:t})])}})}(jQuery),jQuery.extend(Reamaze,{eligibleForPushPrompt:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"default"==Notification.permission},promptPushPermissions:function(){return new Promise(function(t,e){if(Reamaze.eligibleForPushPrompt()){var n=Notification.requestPermission(function(e){t(e)});n&&n.then(t,e)}else t("denied")})}}),function(t){t.extend(Reamaze,{setupPusher:function(e){Reamaze.Pusher||(Reamaze.Pusher=e,function(p){function r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function c(e,t,n){var r=0,o="&socket_id="+encodeURIComponent(t);for(var i in e)o+="&channel_name["+r+"]="+encodeURIComponent(i),r++;for(var a in n.params)o+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n.params[a]);return o}function e(e,t,n,r,o){var i=p.Runtime.createXHR();i.open("POST",r,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var a=n;for(var s in"function"==typeof n&&(a=n()),a.headers)i.setRequestHeader(s,a.headers[s]);i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e,t=!1;try{e=JSON.parse(i.responseText),t=!0}catch(n){o(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+i.responseText)}t&&o(!1,e)}else o(!0,i.status)},i.send(c(e,t,a))}var a=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};a.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},a.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},a.prototype.executeRequests=function(){var t=this.requests;this.requests={},e(t,this.options.socketId,this.authOptions,this.options.authEndpoint,function(e,n){r(t,e?function(e){e(!0,n)}:function(e,t){n[t]?n[t].status&&200!==n[t].status?e(!0,n[t].status):e(null,n[t].data):e(!0,404)})})};var s={},l=function l(e,t,n){var r=this.options.authEndpoint,o=t+":"+r,i=s[o];i||(i=s[o]=new a({socketId:t,authEndpoint:r,authDelay:this.options.authDelay,authOptions:this.options.auth})),i.add(this.channel.name,n)},t=p.Runtime.getAuthorizers();p.Runtime.getAuthorizers=function(){return t.buffered=l,t}}(Reamaze.Pusher),t(window).trigger("Reamaze.pusherSetupComplete"))}}),t(document).on("Reamaze.init",function(){Reamaze.Pusher=undefined})}(jQuery),function(e){LS_KEY_PREFIX="rmz.",e.extend(Reamaze,{localStorage:{getItem:function(e){try{return localStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return localStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return localStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(localStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&localStorage.removeItem(n)}}catch(r){}}},sessionStorage:{getItem:function(e){try{return sessionStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return sessionStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return sessionStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(sessionStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&sessionStorage.removeItem(n)}}catch(r){}}}})}(jQuery),function(s){var p="_vd",e=function(r,n,o,e,t){r=r||{},this.preview=!!e,this.isSetup=!!t,function(){try{this._data=JSON.parse(Reamaze.localStorage.getItem(p)),this._session=Reamaze.sessionStorage.getItem(p)}catch(e){return!0}if(!this._data)return!0;if(this._data&&this._data.ts&&(new Date).getTime()>parseInt(this._data.ts)+6048e5)return!0;if(r.id){if(this.getExternalRefId()!=r.id)return!0}else if(this.getExternalRefId())return!0;return!1}.bind(this)()&&(this.reset(),Reamaze.reset()),this._data=s.extend(this._data,r),this.cache(),this.set("parent_url",window.location.href);var i=!1;if(r.data){var a=function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}(s.param(r.data));i=this.get("ud_fp")!=a,this.set("ud_fp",a)}!r.id&&!r.authpath||!i&&this._session?o&&window.setTimeout(o,0):new Promise(function(t,n){r.authkey?t(this.ssoData()):r.authpath?s.ajax(r.authpath,{success:function(e){e&&e.constructor===Object&&0!==Object.keys(e).length||n(),this._data=s.extend(this._data,e),this.cache(),t(e)}.bind(this),error:function(){n()}.bind(this)}):n()}.bind(this)).then(function(e){var t={};this._session||(t.session="_new"),t.sso=e,t.sso.data=r.data,this.preview||s.ajax(n+"/data/users.json",{type:"POST",data:s.param(t),success:function(e){this._session=1,Reamaze.sessionStorage.setItem(p,this._session),this.set("_id",e.id)}.bind(this),error:function(){this.reset()}.bind(this),complete:function(){o&&window.setTimeout(o,0)}.bind(this)})}.bind(this))["catch"](function(){o&&window.setTimeout(o,0)})};e.prototype.getExternalRefId=function(){return this.get("id")},e.prototype.isIdentified=function(){return this.get("_id")||this.get("email")||this.getExternalRefId()},e.prototype.hasEmail=function(){return!!this.get("email")},e.prototype.getAnonymousId=function(){return this.get("anon_id")},e.prototype.setAnonymousId=function(e){return this.set("anon_id",e)},e.prototype.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},e.prototype.getConversationTokens=function(){return this.get("cts")||[]},e.prototype.setConversationTokens=function(e){return this.set("cts",e||null)},e.prototype.get=function(e){return this._data[e]},e.prototype.set=function(e,t){(!this.isSSOUser()||"email"!=e&&"id"!=e)&&(this._data[e]=t,this.cache())},e.prototype.isSSOUser=function(){return this.get("authkey")&&this.getExternalRefId()&&this.get("email")},e.prototype.cache=function(){this._data.visits=this._data.visits||1,this._data.ts&&36e5<(new Date).getTime()-this._data.ts&&this._data.visits++,this._data.ts=(new Date).getTime();var e={id:this.getExternalRefId(),email:this._data.email,anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,ts:this._data.ts,ud_fp:this._data.ud_fp,cts:this.getConversationTokens(),visits:this._data.visits};this._data.shop&&(e.shop=this._data.shop),this._data.phone&&(e.phone=this._data.phone),Reamaze.localStorage.setItem(p,JSON.stringify(e))},e.prototype.ssoData=function(){var e=this._data.avatar;e&&"/"==e[0]&&(e="https://"+window.location.hostname+e);var t={id:this.getExternalRefId(),anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,name:this._data.name,avatar:e,email:this._data.email,authkey:this._data.authkey,authpath:this._data.authpath,parent_url:this._data.parent_url,tz_offset:this.getTimezoneOffset(),cts:this.getConversationTokens()};return this.preview&&(t.preview=1),this.isSetup&&(t.setup=1),this._data.shop&&(t.shop=this._data.shop),this._data.phone&&(t.phone=this._data.phone),t},e.prototype.reset=function(){Reamaze.localStorage.removeItem(p),Reamaze.sessionStorage.removeItem(p),this._session=null;var e=new Date;this._data={first_seen:e.toISOString?e.toISOString():e.toUTCString()},this.set("parent_url",window.location.href),this.cache()},Reamaze.Visitor=e}(jQuery),function(p,c,l){p.extend(Reamaze,{_registerWidgetListeners:function(){var e=document.getElementById("reamazejs-container");e?l.unmountComponentAtNode(e):e=p('<div id="reamazejs-container" aria-hidden="true"></div>').appendTo(document.body)[0];var t=!1,n="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,r=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),o=r&&n;this._ui.widget&&("mobile"!=this._ui.widget.displayOn&&!o||"desktop"!=this._ui.widget.displayOn&&o)&&(t=p.extend(!0,{},this._ui.widget),o&&(t.mobilePosition!==undefined&&(t.position=t.mobilePosition),t.mobileSize!==undefined?t.size=t.mobileSize:t.size=Math.max(.8*parseInt(t.size,10),44)),"undefined"==typeof t.label&&(this._ui.popup&&"kb"==this._ui.popup.mode?t.label={text:"Find help here!",delay:3,duration:30}:t.label={text:"Ask us a question!",delay:3,duration:30}),"string"==typeof t.label&&(t.label={text:t.label,delay:0,duration:0,mode:"default"}),t.size||(t.size=58),t.position&&"bottom-right"!=t.position?"bottom-left"==t.position&&(t.position={bottom:"22px",left:"22px"}):t.position={bottom:"22px",right:"22px"});var i=!0;this._ui.widget&&(i="undefined"==typeof this._ui.widget.allowBotProcessing||!0===this._ui.widget.allowBotProcessing||"true"==this._ui.widget.allowBotProcessing);var a={widgetOpts:t,popupOpts:this._ui.popup,baseUrl:this._baseUrl,baseDataUrl:this._baseDataUrl,account:this._settings.account,appDomain:"reamaze.com",cdnDomain:"cdn.reamaze.com",pusherAppKey:this._pusherAppKey,currentUser:this._visitor,customFields:this._customFields,trans:this._translations,contactMode:this._ui.contactMode||"default",allowBotProcessing:i,shoutboxFacesMode:this._ui.shoutboxFacesMode,shoutboxHeaderLogo:this._ui.shoutboxHeaderLogo,faces:this._ui.faces.filter(function(e){return!!e})||[],enableKb:this._ui.enableKb,enableBrowserTabAlerting:this._ui.enableBrowserTabAlerting,pushNotifications:this._ui.pushNotifications,unreadCallbackFunc:Reamaze._callbacks.unread_callback,route:this._settings._route,routeParams:this._settings._routeParams,styles:this.styles,outbounds:this.outbounds||[],pushPrompt:this._ui.pushPrompt,hasTouch:n,isMobileBrowser:r,isMobileDevice:o,apps:this.apps||{},_preview:this._preview,disableAudio:this._ui.disableAudio,previewOptions:this.previewOptions||{},overrides:this._ui.overrides},s=function(){l.render(c.createElement(Reamaze.ReamazeJS,a),e),this._settings.openPopup&&p(window).trigger("Reamaze.openPopup")}.bind(this);p.ajax({url:"https://"+this._settings.cdn_domain+"/data/brands/"+this._settings.account+"/ping",cache:!this._preview,success:function(e){a.brandData=e}.bind(this),complete:s})}}),p(document).on("Reamaze.init",function(){Reamaze._registerWidgetListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),window["export"]=window._original_export,window.exports=window._original_exports,window.require=window._original_require,window.requirejs=window._original_requirejs,window.module=window._original_module,window.define=window._original_define,window._original_export=window._original_require=window._original_requirejs=window._original_module=window._original_define=undefined,function(n){var r=function(){_support.ui=_support.ui||{};var e,t={account:_support.account,app_domain:"reamaze.com",data_domain:"reamaze.io",cdn_domain:"cdn.reamaze.com",protocol:"https://",pusherAppKey:"4ad5621db51f93f2100f",ui:{popup:_support.ui.popup||{zIndex:_support.ui.zIndex,width:_support.ui.width,height:_support.ui.height,trigger:_support.ui.trigger,category:_support.ui.mailbox,mode:_support.ui.lightbox_mode},embed:_support.ui.embed||{container:_support.ui.container,mode:_support.ui.mode,subject:_support.ui.subject},bar:_support.ui.bar||"bar"==_support.ui.extension,widget:_support.ui.widget||!1,contactMode:_support.ui.contactMode||_support.ui.anonymousMode||"default",shoutboxFacesMode:_support.ui.shoutboxFacesMode,faces:_support.ui.faces||[],shoutboxHeaderLogo:_support.ui.shoutboxHeaderLogo||!1,styles:_support.ui.styles||{},pushPrompt:_support.ui.push_prompt||!1,pushNotifications:_support.ui.pushNotifications||"undefined"==typeof _support.ui.pushNotifications||!0===_support.ui.pushNotifications,enableKb:"undefined"==typeof _support.ui.enableKb||!0===_support.ui.enableKb||"true"==_support.ui.enableKb,enableBrowserTabAlerting:"undefined"==typeof _support.ui.enableBrowserTabAlerting||!0===_support.ui.enableBrowserTabAlerting||"true"==_support.ui.enableBrowserTabAlerting,disableAudio:!0===_support.ui.disableAudio||"true"==_support.ui.disableAudio},translations:_support.translations||{messagePrompt:{reply:"Reply",close:"Close"}},_preview:_support._preview,_setup:_support._setup,openPopup:_support.openPopup,_route:_support._route,_routeParams:_support._routeParams||{},outbounds:_support.outbounds,apps:_support.apps,previewOptions:_support.previewOptions||{}};t.ui.popup&&!t.ui.popup.mode&&(t.ui.popup.mode=_support.ui.lightbox_mode),_support.user&&(_support.user.email||_support.user.authpath)&&(e=_support.user),t.ui.overrides={},_support.ui.overrides&&(t.ui.overrides.confirmationMessage=_support.ui.overrides.confirmationMessage),!e&&(_support.email||_support.authkey||_support.id)&&(e={id:_support.id,authkey:_support.authkey,email:_support.email,name:_support.name,avatar:_support.avatar,created:_support.created,data:_support.data});var n={};n.widget=_support.custom_fields||null,n.contact=_support.contact_custom_fields||null;var r=_support.callbacks||{unread_callback:_support.unread_callback,analytics_track_callback:_support.analytics_track_callback};Reamaze.initialize(t,e,n,r)};reamaze?Reamaze=reamaze:(reamaze=Reamaze,n(function(){Reamaze.jQuery=n,(_support=_support||{account:"democentral",ui:{}}).outbounds||(_support.outbounds=[]);var t=_support.outbounds.push;_support.outbounds.push=function(e){t.apply(_support.outbounds,e),n(document).trigger("Reamaze.Outbounds.new",e)};var e=n.throttle(300,r);e(),Reamaze.reload=e}))}(jQuery.noConflict(!0)),Reamaze.React=window.React,Reamaze.ReactDOM=window.ReactDOM,Reamaze.createReactClass=window.createReactClass,Reamaze.PropTypes=window.PropTypes,window.React=window._ReactOriginal,window.ReactDOM=window._ReactDOMOriginal,window.createReactClass=window._createReactClassOriginal,window.PropTypes=window._PropTypesOriginal,delete window._ReactOriginal,delete window._ReactDOMOriginal,delete window._createReactClassOriginal,delete window._PropTypesOriginal;