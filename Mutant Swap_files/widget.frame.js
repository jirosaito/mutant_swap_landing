!function(f){var r=f;f(function(){f(document).bind("dragover",function(e){var t=f(e.target).closest(".upload-attachments");if(0!=t.length&&t.data("dzEle")){var n=t.data("dzEle"),a=window.dropZoneTimeout;a?clearTimeout(a):n.addClass("in");var o=!1,r=e.target;do{if(r===n[0]){o=!0;break}r=r.parentNode}while(null!=r);n.toggleClass("hover",o),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,n.removeClass("in hover")},100)}});var n=function(e){r(document).find(".upload-attachments .attachment-count").text(e),r(document).find(".upload-attachments .attachment-view").toggle(0<e)};r(document).on("attachments:remove",".upload-attachments",function(e,t){n(t.num)}),r(document).on("attachments:add",".upload-attachments",function(e,t){t.$li.find(".delete").prop("tabindex",1),n(t.num)});var e=function(){r(document).find(".upload-attachments.popup .attachment-box").addClass("in"),f(document.body).addClass("has-attachments-modal"),setTimeout(function(){var e=Math.min(r(document.body).outerHeight()-55,270);r(document).find(".upload-attachments.popup .attachments-list-wrap").css({"max-height":e+"px"}),r(document).find(".upload-attachments.popup #attachments-list").css({"max-height":e-20+"px"}),r(document).find(".upload-attachments.popup .attachment-box").addClass("fade")},10)},a=function(){r(document).find(".upload-attachments.popup .attachment-box").removeClass("fade"),setTimeout(function(){r(document).find(".upload-attachments.popup .attachment-box").removeClass("in")},10),r(document).find(".upload-attachments.popup textarea").focus(),f(document.body).removeClass("has-attachments-modal")};r(document).on("click",".upload-attachments.popup .attachment-box, .attachments-list-wrap .close",a),r(document).on("click",".upload-attachments.popup .attachments-list-wrap",function(e){return!!r(e.target).is("input.fileupload")&&(e.stopPropagation(),!0)}),r(document).on("attachments:remove",".upload-attachments.popup",function(e,t){0==t.num&&a()}),r(document).on("click",".upload-attachments .attachment-view",function(){f(this).closest(".popup").length?e():(r(document).find(".upload-attachments .attachment-box").toggle(),r(document.body).trigger("reamaze:manualresize"))});var o=function(s){var e=function(e,t){var n=s.find("#progress"),a=s.find("#progress .bar");if(t.loaded==t.total)n.css("display","none");else{var o=parseInt(t.loaded/t.total*100,10);n.css("display","block"),a.css("width",o+"%")}},t=function(e){var t=s.closest("form").find(":submit");e?f.each(t,function(e,t){var n=f(t),a=n.hasClass("disabled")||n.prop("disabled");n.data("isInitiallyDisabled",a)}):t=t.filter(function(e,t){return!f(t).data("isInitiallyDisabled")}),t.prop("disabled",e)},n=function(e,t){var n=f(document.createElement("li")),a=f(document.createElement("div")),o=f(document.createElement("span")),r=s.find("#attachments-list"),i="attachment-wrap";f(document.createElement("button")).addClass("delete btn-link").html("&times;").appendTo(n),a.addClass("preview-wrap spinner").appendTo(n),f(document.createElement("span")).addClass("rmzfa fas rmzfa-exclamation-circle attachment-error-indicator").appendTo(n),o.addClass("file-name").text("Uploading ...").appendTo(n),r.append(n.addClass(i));var d=r.children().not(".add-attachment").length;s.trigger("attachments:add",{$li:n,num:d}),s.closest("form").addClass("has-attachments"),f(document.body).addClass("has-attachments"),s.find("#fileupload").data("require-attachments")&&(fileupload.required=!1),t.context=n,t.submit()},a=function(e,t){var n=t.context,a=(n.find(".preview-wrap"),n.find(".file-name"));n.addClass("error"),s.closest("form").addClass("has-attachment-errors"),f(document.body).addClass("has-attachment-errors"),t.files&&0<t.files.length&&t.files[0]&&a.text(t.files[0].name).attr("title",t.files[0].name),s.trigger("attachments:fail",{$li:n})},o=function(e,t){var n=t.context,a=n.find(".preview-wrap"),o=n.find(".file-name"),r=t.result[0],i=r.file_file_name;a.removeClass("spinner"),1==r["image?"]?f(document.createElement("img")).attr("src",r.thumb_url).attr("title",i).addClass("preview").appendTo(a):f(document.createElement("i")).attr("title",i).addClass("preview icon elusive-icon elusive-icon-file").appendTo(a),o.text(i).attr("title",i),f(document.createElement("input")).attr({type:"hidden",name:s.data("attachment-input-name"),value:r.id}).appendTo(n)},r=function(){t(!0),s.trigger("attachments:start")},i=function(){t(!1),s.trigger("attachments:done")};s.on("click",".delete",function(){var e=f(this),t=e.closest("#attachments-list"),n=e.closest(".has-attachments");e.closest(".attachment-wrap").remove();var a=t.children().not(".add-attachment").length,o=t.children().not(".add-attachment").filter(".error").length;return 0==a&&(f(document.body).removeClass("has-attachments"),n.removeClass("has-attachments"),s.find("#fileupload").data("require-attachments")&&(fileupload.required=!0)),0==o&&(f(document.body).removeClass("has-attachment-errors"),n.removeClass("has-attachment-errors")),s.trigger("attachments:remove",{num:a}),!1});var d={dataType:"json",progressall:e,add:n,done:o,start:r,fail:a,stop:i,formData:[],dropZone:undefined,pasteZone:undefined,paste:function(e,t){if(e.delegatedEvent&&e.delegatedEvent.originalEvent&&e.delegatedEvent.originalEvent.clipboardData){for(var n=e.delegatedEvent.originalEvent.clipboardData.items,a=!1,o=0;!a&&o<n.length;o++)-1!=n[o].type.indexOf("image")&&(a=!0);var r=!1;for(o=0;!r&&o<n.length;o++){-1!=n[o].type.indexOf("rtf")&&(r=!0)}a&&r&&(t.files=[])}if(t.files)for(var o in t.files)"image/png"!=t.files[o].type||t.files[o].name||(t.files[o].name="upload.png")}},l=s.data("dropzone"),c=f(document).find(l);0<c.length&&(d.dropZone=c,s.data("dzEle",c));var u=s.data("pastezone"),p=f(document).find(u);0<p.length?d.pasteZone=p:d.pasteZone=s,s.find(".fileupload").each(function(e,t){f(t).fileupload(d),f(t).data("require-attachments")&&(t.required=!0),d.dropZone=null,d.pasteZone=null})},t=function(){f(document).find(".upload-attachments").each(function(e,t){var n=f(t);n.data("skip-fileupload")||(n.data("skip-fileupload",!0),new o(n))})};f(window).on("app:fileupload",t),f(window).bind("app:reinitjs",t),t()})}(window.jQuery),function(e,t){function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function s(e){if("keypress"!=e.type)return C[e.which]?C[e.which]:z[e.which]?z[e.which]:String.fromCharCode(e.which).toLowerCase();var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}function p(e,t){return e.sort().join(",")===t.sort().join(",")}function l(e){e=e||{};var t,n=!1;for(t in q)e[t]?n=!0:q[t]=0;n||(P=!1)}function c(e,t,n,a,o,r){var i,d,s=[],l=n.type;if(!L[e])return[];for("keyup"==l&&f(e)&&(t=[e]),i=0;i<L[e].length;++i)if(d=L[e][i],(a||!d.seq||q[d.seq]==d.level)&&l==d.action&&("keypress"==l&&!n.metaKey&&!n.ctrlKey||p(t,d.modifiers))){var c=!a&&d.combo==o,u=a&&d.seq==a&&d.level==r;(c||u)&&L[e].splice(i,1),s.push(d)}return s}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function o(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function r(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function u(e,t,n,a){Z.stopCallback(t,t.target||t.srcElement,n,a)||!1===e(t,n)&&(o(t),r(t))}function i(e,t,n){var a,o=c(e,t,n),r={},i=0,d=!1;for(a=0;a<o.length;++a)o[a].seq&&(i=Math.max(i,o[a].level));for(a=0;a<o.length;++a)if(o[a].seq){if(o[a].level!=i)continue;d=!0,r[o[a].seq]=1,u(o[a].callback,n,o[a].combo,o[a].seq)}else d||u(o[a].callback,n,o[a].combo);var s="keypress"==n.type&&O;n.type!=P||f(e)||s||l(r),O=d&&"keydown"==n.type}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);t&&("keyup"!=e.type||F!==t?Z.handleKey(t,a(e),e):F=!1)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(){clearTimeout(k),k=setTimeout(l,1e3)}function h(){if(!x)for(var e in x={},C)95<e&&e<112||C.hasOwnProperty(e)&&(x[C[e]]=e);return x}function v(e,t,n){return n||(n=h()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(t,e,n,a){function o(e){return function(){P=e,++q[t],m()}}function r(e){u(n,e,t),"keyup"!==a&&(F=s(e)),setTimeout(l,10)}for(var i=q[t]=0;i<e.length;++i){var d=i+1===e.length?r:o(a||w(e[i+1]).action);b(e[i],d,a,t,i)}}function y(e){return"+"===e?["+"]:e.split("+")}function w(e,t){var n,a,o,r=[];for(n=y(e),o=0;o<n.length;++o)a=n[o],S[a]&&(a=S[a]),t&&"keypress"!=t&&T[a]&&(a=T[a],r.push("shift")),f(a)&&r.push(a);return{key:a,modifiers:r,action:t=v(a,r,t)}}function b(e,t,n,a,o){N[e+":"+n]=t;var r,i=(e=e.replace(/\s+/g," ")).split(" ");1<i.length?g(e,i,t,n):(r=w(e,n),L[r.key]=L[r.key]||[],c(r.key,r.modifiers,{type:r.action},a,e,o),L[r.key][a?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:a,level:o,combo:e}))}function E(e,t,n){for(var a=0;a<e.length;++a)b(e[a],t,n)}for(var x,k,C={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},z={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},S={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L={},N={},q={},F=!1,O=!1,P=!1,M=1;M<20;++M)C[111+M]="f"+M;for(M=0;M<=9;++M)C[M+96]=M;n(t,"keypress",d),n(t,"keydown",d),n(t,"keyup",d);var Z={bind:function(e,t,n){return E(e=e instanceof Array?e:[e],t,n),this},unbind:function(e,t){return Z.bind(e,function(){},t)},trigger:function(e,t){return N[e+":"+t]&&N[e+":"+t]({},e),this},reset:function(){return L={},N={},this},stopCallback:function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:i};e.Mousetrap=Z,"function"==typeof define&&define.amd&&define(Z)}(window,document),Mousetrap=function(){var t,e=Mousetrap,n=e.bind;return e.bind=function(){if("string"==typeof(t=arguments)[0]||t[0]instanceof Array)return n(t[0],t[1],t[2]);for(var e in t[0])t[0].hasOwnProperty(e)&&n(e,t[0][e],t[1])},e}(),function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(o){function e(){var e=window.getComputedStyle(o,null);"vertical"===e.resize?o.style.resize="none":"both"===e.resize&&(o.style.resize="horizontal"),n()}function a(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){if(0!==o.scrollHeight){var e=a(o),t=document.documentElement&&document.documentElement.scrollTop,n=c(o);o.style.height=n+"px",i=o.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function n(){r();Math.round(parseFloat(o.style.height));var e=window.getComputedStyle(o,null),t="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):o.offsetHeight;if(d!==t){d=t;var n=p("autosize:resized");try{o.dispatchEvent(n)}catch(a){}}}if(o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!u.has(o)){var i=null,d=null,s=function s(){o.clientWidth!==i&&n()},l=function(t){window.removeEventListener("resize",s,!1),o.removeEventListener("input",n,!1),o.removeEventListener("keyup",n,!1),o.removeEventListener("autosize:destroy",l,!1),o.removeEventListener("autosize:update",n,!1),Object.keys(t).forEach(function(e){o.style[e]=t[e]}),u["delete"](o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",l,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",n,!1),window.addEventListener("resize",s,!1),o.addEventListener("input",n,!1),o.addEventListener("autosize:update",n,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",u.set(o,{destroy:l,update:n}),e()}}function a(e){var t=u.get(e);t&&t.destroy()}function o(e){var t=u.get(e);t&&t.update()}function c(e){null===h.parentNode&&document.body.appendChild(h);var t=d(e);if(null===t)return null;var n=t.paddingSize,a=t.borderSize,o=t.boxSizing,r=t.sizingStyle;Object.keys(r).forEach(function(e){h.style[e]=r[e]}),v(h),h.value=e.value||e.placeholder||"x";Infinity,Infinity;var i=h.scrollHeight;return"border-box"===o?i+=a:"content-box"===o&&(i-=n),i+2}function d(e){var n=window.getComputedStyle(e);if(null===n)return null;var t=m.reduce(function(e,t){return e[t]=n.getPropertyValue(t),e},{}),a=t["box-sizing"];return""===a?null:(l&&"border-box"===a&&(t.width=parseFloat(t.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px"),{sizingStyle:t,paddingSize:parseFloat(t["padding-bottom"])+parseFloat(t["padding-top"]),borderSize:parseFloat(t["border-bottom-width"])+parseFloat(t["border-top-width"]),boxSizing:a})}var r,i,u="function"==typeof Map?new Map:(r=[],i=[],{has:function g(e){return-1<r.indexOf(e)},get:function y(e){return i[r.indexOf(e)]},set:function w(e,t){-1===r.indexOf(e)&&(r.push(e),i.push(t))},"delete":function b(e){var t=r.indexOf(e);-1<t&&(r.splice(t,1),i.splice(t,1))}}),p=function p(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(E){p=function p(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function s(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function s(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t["default"]=s,e.exports=t["default"];var l=!!document.documentElement.currentStyle,f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden","overflow-y":"scroll","overflow-x":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],h=document.createElement("textarea"),v=function(t){Object.keys(f).forEach(function(e){t.style.setProperty(e,f[e],"important")})};v(h)}),window.frameId&&parent.Reamaze&&parent.Reamaze.Frames.Callbacks&&"function"==typeof parent.Reamaze.Frames.Callbacks[window.frameId]?parent.Reamaze.Frames.Callbacks[window.frameId]():jQuery(document).trigger("frameloaded");var version=1;